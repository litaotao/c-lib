!function(){var a=window.NTES||{};a.event||(a.event={}),a.event.Mouseenter||(a.event.Mouseenter=function(a,b,c){var d=document.createElement("div"),e="onmouseenter"in d,f=a,g="",h=c,i=b;switch(f){case"mouseenter":g="mouseover";break;case"mouseleave":g="mouseout";break;default:return}e?h.addEvent(f,i):h.addEvent(g,function(a){var b=a.relatedTarget;for(!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement==a.target?a.toElement:a.fromElement);b&&b!=this;)try{b=b.parentNode}catch(c){b=this}b!=this&&i.call(this,a)})})}(),function(a){var b=function(){var b=this;b.selector=".js-ep-pop",b.unfoldClassName="ep-pop-unfold",b.menus=a(b.selector),b.init(),b.prevIndex=0};b.prototype={constructor:b,init:function(){var b=this;a.each(b.menus,function(c,d){var e=a(d);new NTES.event.Mouseenter("mouseenter",function(){a(this),b.timerList&&b.prevIndex===c?(clearTimeout(b.timerList),b.timerList=void 0):b.timerList=setTimeout(function(){b.unfoldMenu(c),b.timerList=void 0},100)},e),new NTES.event.Mouseenter("mouseleave",function(){a(this),b.timerList&&b.prevIndex===c?(clearTimeout(b.timerList),b.timerList=void 0):b.timerList=setTimeout(function(){b.foldMenu(),b.timerList=void 0},100)},e),e.addEvent("click",function(){var d=a(this);-1===d.className.indexOf(b.unfoldClassName)?d.addCss(b.unfoldClassName):d.removeCss(b.unfoldClassName)}).addEvent("keydown",function(d){switch(a(this),d.keyCode){case 39:b.unfoldMenu(c);break;case 40:b.unfoldMenu(c);break;case 37:b.foldMenu();break;case 38:b.foldMenu();break;case 27:b.foldMenu()}})})},unfoldMenu:function(b){var c=this;a(c.menus[c.prevIndex]).removeCss(c.unfoldClassName),a(c.menus[b]).addCss(c.unfoldClassName),c.prevIndex=b},foldMenu:function(){var b=this;a(b.menus[b.prevIndex]).removeCss(b.unfoldClassName)}},new b}(NTES);