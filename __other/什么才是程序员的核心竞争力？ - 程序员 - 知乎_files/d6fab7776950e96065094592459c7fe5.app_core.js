PLOVR_MODULE_INFO={"sign":["app_core"],"app":["app_core","sign"],"app_core":[],"rich_text_editor":["app"]};
PLOVR_MODULE_URIS={"sign":"http://static.zhihu.com/static/compiled/sign.js","app":"http://static.zhihu.com/static/compiled/app.js","app_core":"http://static.zhihu.com/static/compiled/app_core.js","rich_text_editor":"http://static.zhihu.com/static/compiled/rich_text_editor.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
zhihu={};(function(a){with(a){
a.f=function(b){throw b;},a.i=void 0,a.j=!0,a.k=null,a.m=!1,a.aa=function(){return function(b){return b}},a.ba=function(){return function(){}},a.ca=function(b){return function(c){this[b]=c}},a.p=function(b){return function(){return this[b]}},a.s=function(b){return function(){return b}},a.t=void 0,a.da=[],a.u=function(b){return function(){return da[b].apply(this,arguments)}},a.ea=a.ea||{},a.fa=this,a.ga=function(b){for(var b=b.split("."),c=fa,d;d=b.shift();)if(c[d]!=k)c=c[d];else return k;return c},
a.ia=function(){},a.ja=function(b){b.O=function(){return b.tj?b.tj:b.tj=new b}},a.ka=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&
"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},a.la=function(b){return b!==i},a.ma=function(b){return"array"==ka(b)},a.na=function(b){var c=ka(b);return"array"==c||"object"==c&&"number"==typeof b.length},a.oa=function(b){return"string"==typeof b},a.pa=function(b){return"number"==typeof b},a.qa=function(b){return"function"==ka(b)},a.ra=function(b){var c=typeof b;
return"object"==c&&b!=k||"function"==c},a.ua=function(b){return b[sa]||(b[sa]=++ta)},a.sa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),a.ta=0,a.va=function(b,c,d){return b.call.apply(b.bind,arguments)},a.wa=function(b,c,d){b||f(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},a.v=function(b,
c,d){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return v.apply(k,arguments)},a.xa=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}},a.za=function(b,c){for(var d in c)b[d]=c[d]},a.Aa=Date.now||function(){return+new Date},a.Ca=function(b){if(fa.execScript)fa.execScript(b,"JavaScript");else if(fa.eval)if(Ba==k&&(fa.eval("var _et_ = 1;"),
"undefined"!=typeof fa._et_?(delete fa._et_,Ba=j):Ba=m),Ba)fa.eval(b);else{var c=fa.document,d=c.createElement("script");d.type="text/javascript";d.defer=m;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else f(Error("goog.globalEval not available"))},a.Ba=k,a.x=function(b,c){var d=c||{},e;for(e in d)var g=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),g);return b},a.Da=function(b,c){var d=b.split("."),e=fa;!(d[0]in e)&&e.execScript&&e.execScript("var "+
d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&la(c)?e[g]=c:e=e[g]?e[g]:e[g]={}},a.y=function(b,c){function d(){}d.prototype=c.prototype;b.n=c.prototype;b.prototype=new d;b.prototype.constructor=b};a.Ea=function(b){Error.captureStackTrace?Error.captureStackTrace(this,Ea):this.stack=Error().stack||"";b&&(this.message=String(b))};y(Ea,Error);Ea.prototype.name="CustomError";a.Fa=function(b,c){return 0==b.lastIndexOf(c,0)},a.Ga=function(b,c){var d=b.length-c.length;return 0<=d&&b.indexOf(c,d)==d},a.Ha=function(b,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b},a.Ka=function(b){return/^[\s\xa0]*$/.test(b)},a.La=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")},a.Ma=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")},a.Na=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,
"")},a.Oa=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},a.Pa=function(b){return b.replace(/[\s\xa0]+$/,"")},a.Qa=function(b){return b.replace(/(\r\n|\r|\n)/g,"<br>")},a.Wa=function(b){if(!Ra.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Sa,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Ta,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(Ua,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Va,"&quot;"));return b},a.Sa=/&/g,a.Ta=/</g,a.Ua=/>/g,a.Va=/\"/g,a.Ra=/[&<>\"]/,a.Za=function(b){if(Xa(b,"&"))if("document"in
fa)var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=document.createElement("div"),b=b.replace(Ya,function(b,g){var h=c[b];if(h)return h;if("#"==g.charAt(0)){var l=Number("0"+g.substr(1));isNaN(l)||(h=String.fromCharCode(l))}h||(d.innerHTML=b+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[b]=h});else b=b.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));
if(!isNaN(d))return String.fromCharCode(d)}return b}});return b},a.Ya=/&([^;\s<&]+);?/g,a.Xa=function(b,c){return-1!=b.indexOf(c)},a.$a=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.ab=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Aa()).toString(36)},a.bb=function(b,c){for(var d=0,e=Oa(String(b)).split("."),g=Oa(String(c)).split("."),h=Math.max(e.length,g.length),l=0;0==d&&
l<h;l++){var n=e[l]||"",q=g[l]||"",r=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var B=r.exec(n)||["","",""],H=w.exec(q)||["","",""];if(0==B[0].length&&0==H[0].length)break;d=((0==B[1].length?0:parseInt(B[1],10))<(0==H[1].length?0:parseInt(H[1],10))?-1:(0==B[1].length?0:parseInt(B[1],10))>(0==H[1].length?0:parseInt(H[1],10))?1:0)||((0==B[2].length)<(0==H[2].length)?-1:(0==B[2].length)>(0==H[2].length)?1:0)||(B[2]<H[2]?-1:B[2]>H[2]?1:0)}while(0==d)}return d},a.cb=2147483648*Math.random()|
0,a.db=function(){return"goog_"+cb++},a.eb=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};a.z={Wd:function(b){return b[b.length-1]}};z.tb=Array.prototype;z.indexOf=z.tb.indexOf?function(b,c,d){return z.tb.indexOf.call(b,c,d)}:function(b,c,d){d=d==k?0:0>d?Math.max(0,b.length+d):d;if(oa(b))return!oa(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
z.lastIndexOf=z.tb.lastIndexOf?function(b,c,d){return z.tb.lastIndexOf.call(b,c,d==k?b.length-1:d)}:function(b,c,d){d=d==k?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(oa(b))return!oa(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};z.forEach=z.tb.forEach?function(b,c,d){z.tb.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)h in g&&c.call(d,g[h],h,b)};
z.DL=function(b,c){for(var d=oa(b)?b.split(""):b,e=b.length-1;0<=e;--e)e in d&&c.call(i,d[e],e,b)};z.filter=z.tb.filter?function(b,c,d){return z.tb.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=[],h=0,l=oa(b)?b.split(""):b,n=0;n<e;n++)if(n in l){var q=l[n];c.call(d,q,n,b)&&(g[h++]=q)}return g};z.map=z.tb.map?function(b,c,d){return z.tb.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=Array(e),h=oa(b)?b.split(""):b,l=0;l<e;l++)l in h&&(g[l]=c.call(d,h[l],l,b));return g};
z.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(v(c,e),d):b.reduce(c,d);var g=d;z.forEach(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(v(c,e),d):b.reduceRight(c,d);var g=d;z.DL(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.some=z.tb.some?function(b,c,d){return z.tb.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return j;return m};
z.every=z.tb.every?function(b,c,d){return z.tb.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&!c.call(d,g[h],h,b))return m;return j};z.count=function(b,c,d){var e=0;z.forEach(b,function(b,h,l){c.call(d,b,h,l)&&++e},d);return e};z.find=function(b,c,d){c=z.Vv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Vv=function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return h;return-1};
z.HW=function(b,c,d){c=z.Wv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Wv=function(b,c,d){for(var e=oa(b)?b.split(""):b,g=b.length-1;0<=g;g--)if(g in e&&c.call(d,e[g],g,b))return g;return-1};z.contains=function(b,c){return 0<=z.indexOf(b,c)};z.Fb=function(b){return 0==b.length};z.clear=function(b){if(!ma(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};z.Wr=function(b,c){z.contains(b,c)||b.push(c)};z.Mn=function(b,c,d){z.splice(b,d,0,c)};
z.aX=function(b,c,d){xa(z.splice,b,d,0).apply(k,c)};z.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=z.indexOf(b,d))?b.push(c):z.Mn(b,c,e)};z.remove=function(b,c){var d=z.indexOf(b,c),e;(e=0<=d)&&z.Xy(b,d);return e};z.Xy=function(b,c){return 1==z.tb.splice.call(b,c,1).length};z.kR=function(b,c){var d=z.Vv(b,c,i);return 0<=d?(z.Xy(b,d),j):m};z.concat=function(b){return z.tb.concat.apply(z.tb,arguments)};
z.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};z.clone=z.toArray;z.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;if(ma(e)||(g=na(e))&&Object.prototype.hasOwnProperty.call(e,"callee"))b.push.apply(b,e);else if(g)for(var h=b.length,l=e.length,n=0;n<l;n++)b[h+n]=e[n];else b.push(e)}};z.splice=function(b,c,d,e){return z.tb.splice.apply(b,z.slice(arguments,1))};
z.slice=function(b,c,d){return 2>=arguments.length?z.tb.slice.call(b,c):z.tb.slice.call(b,c,d)};z.Co=function(b,c){for(var d=c||b,e={},g=0,h=0;h<b.length;){var l=b[h++],n=ra(l)?"o"+ua(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(e,n)||(e[n]=j,d[g++]=l)}d.length=g};z.uB=function(b,c,d){return z.vB(b,d||z.Oi,m,c)};z.bW=function(b,c,d){return z.vB(b,c,j,i,d)};
z.vB=function(b,c,d,e,g){for(var h=0,l=b.length,n;h<l;){var q=h+l>>1,r;r=d?c.call(g,b[q],q,b):c(e,b[q]);0<r?h=q+1:(l=q,n=!r)}return n?h:~h};z.sort=function(b,c){z.tb.sort.call(b,c||z.Oi)};z.ZX=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||z.Oi;z.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};z.XX=function(b,c,d){var e=d||z.Oi;z.sort(b,function(b,d){return e(b[c],d[c])})};
z.hX=function(b,c,d){for(var c=c||z.Oi,e=1;e<b.length;e++){var g=c(b[e-1],b[e]);if(0<g||0==g&&d)return m}return j};z.equals=function(b,c,d){if(!na(b)||!na(c)||b.length!=c.length)return m;for(var e=b.length,d=d||z.SK,g=0;g<e;g++)if(!d(b[g],c[g]))return m;return j};z.oW=function(b,c,d){return z.equals(b,c,d)};z.pW=function(b,c,d){for(var d=d||z.Oi,e=Math.min(b.length,c.length),g=0;g<e;g++){var h=d(b[g],c[g]);if(0!=h)return h}return z.Oi(b.length,c.length)};z.Oi=function(b,c){return b>c?1:b<c?-1:0};
z.SK=function(b,c){return b===c};z.$V=function(b,c,d){d=z.uB(b,c,d);return 0>d?(z.Mn(b,c,-(d+1)),j):m};z.aW=function(b,c,d){c=z.uB(b,c,d);return 0<=c?z.Xy(b,c):m};z.iW=function(b,c){for(var d={},e=0;e<b.length;e++){var g=b[e],h=c(g,e,b);la(h)&&(d[h]||(d[h]=[])).push(g)}return d};z.Lt=function(b,c,d){var e={};z.forEach(b,function(g,h){e[c.call(d,g,h,b)]=g});return e};z.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};
z.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];ma(e)?c.push.apply(c,z.flatten.apply(k,e)):c.push(e)}return c};z.rotate=function(b,c){b.length&&(c%=b.length,0<c?z.tb.unshift.apply(b,b.splice(-c,c)):0>c&&z.tb.push.apply(b,b.splice(0,-c)));return b};z.zT=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],g=0;g<arguments.length;g++){var h=arguments[g];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};
z.mS=function(b){for(var c=Math.random,d=b.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),g=b[d];b[d]=b[e];b[e]=g}};a.fb=void 0,a.gb=void 0,a.hb=void 0,a.ib=void 0,a.jb=void 0,a.kb=void 0,a.lb=void 0,a.mb=void 0,a.nb=function(){return fa.navigator?fa.navigator.userAgent:k},a.ob=function(){return fa.navigator};jb=ib=hb=gb=fb=m;a.pb=void 0;if(pb=nb()){var qb=ob();fb=0==pb.indexOf("Opera");gb=!fb&&-1!=pb.indexOf("MSIE");ib=(hb=!fb&&-1!=pb.indexOf("WebKit"))&&-1!=pb.indexOf("Mobile");jb=!fb&&!hb&&"Gecko"==qb.product}a.rb=fb,a.A=gb,a.C=jb,a.D=hb,a.sb=ib,a.tb=void 0,a.ub=ob();tb=ub&&ub.platform||"";kb=Xa(tb,"Mac");
lb=Xa(tb,"Win");mb=Xa(tb,"Linux");a.vb=!!ob()&&Xa(ob().appVersion||"","X11"),a.wb=function(){var b=fa.document;return b?b.documentMode:i},a.xb=void 0;a:{var yb="",zb;if(rb&&fa.opera)var Ab=fa.opera.version,yb="function"==typeof Ab?Ab():Ab;else if(C?zb=/rv\:([^\);]+)(\)|;)/:A?zb=/MSIE\s+([^\);]+)(\)|;)/:D&&(zb=/WebKit\/(\S+)/),zb)var Bb=zb.exec(nb()),yb=Bb?Bb[1]:"";if(A){var Cb=wb();if(Cb>parseFloat(yb)){xb=String(Cb);break a}}xb=yb}
a.Db={},a.E=function(b){return Db[b]||(Db[b]=0<=bb(xb,b))},a.Fb=function(b){return A&&Eb>=b},a.Gb=fa.document,a.Eb=!Gb||!A?i:wb()||("CSS1Compat"==Gb.compatMode?parseInt(xb,10):5);a.Hb=void 0,a.Ib=!A||Fb(9),a.Jb=!C&&!A||A&&Fb(9)||C&&E("1.9.1"),a.Kb=A&&!E("9");a.F={set:function(b,c){b.className=c},get:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},add:function(b,c){var d=F.get(b),e=z.slice(arguments,1),g=d.length+e.length;F.ZA(d,e);b.className=d.join(" ");return d.length==g},remove:function(b,c){var d=F.get(b),e=z.slice(arguments,1),g=F.iD(d,e);b.className=g.join(" ");return g.length==d.length-e.length},ZA:function(b,c){for(var d=0;d<c.length;d++)z.contains(b,c[d])||b.push(c[d])},iD:function(b,c){return z.filter(b,function(b){return!z.contains(c,
b)})},rH:function(b,c,d){for(var e=F.get(b),g=m,h=0;h<e.length;h++)e[h]==c&&(z.splice(e,h--,1),g=j);g&&(e.push(d),b.className=e.join(" "));return g},qu:function(b,c,d){var e=F.get(b);oa(c)?z.remove(e,c):ma(c)&&(e=F.iD(e,c));oa(d)&&!z.contains(e,d)?e.push(d):ma(d)&&F.ZA(e,d);b.className=e.join(" ")},has:function(b,c){return z.contains(F.get(b),c)},enable:function(b,c,d){d?F.add(b,c):F.remove(b,c)},toggle:function(b,c){var d=!F.has(b,c);F.enable(b,c,d);return d}};a.Lb=function(b,c){this.x=la(b)?b:0;this.y=la(c)?c:0};Lb.prototype.clone=function(){return new Lb(this.x,this.y)};a.Mb=function(b,c){return new Lb(b.x-c.x,b.y-c.y)};a.Nb=function(b,c){this.width=b;this.height=c},a.Ob=function(b,c){return b==c?j:!b||!c?m:b.width==c.width&&b.height==c.height};t=Nb.prototype;t.clone=function(){return new Nb(this.width,this.height)};t.Fb=function(){return!(this.width*this.height)};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.G={forEach:function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},filter:function(b,c,d){var e={},g;for(g in b)c.call(d,b[g],g,b)&&(e[g]=b[g]);return e},map:function(b,c,d){var e={},g;for(g in b)e[g]=c.call(d,b[g],g,b);return e},some:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return j;return m},every:function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return m;return j},Ra:function(b){var c=0,d;for(d in b)c++;return c},OW:function(b){for(var c in b)return c},PW:function(b){for(var c in b)return b[c]},
contains:function(b,c){return G.tg(b,c)},Ma:function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c},Db:function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c},UW:function(b,c){for(var d=na(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!la(b));d++);return b},Hd:function(b,c){return c in b},tg:function(b,c){for(var d in b)if(b[d]==c)return j;return m},TC:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e},dr:function(b,c,d){return(c=G.TC(b,c,d))&&b[c]},Fb:function(b){for(var c in b)return m;
return j},clear:function(b){for(var c in b)delete b[c]},remove:function(b,c){var d;(d=c in b)&&delete b[c];return d},add:function(b,c,d){c in b&&f(Error('The object already contains the key "'+c+'"'));G.set(b,c,d)},get:function(b,c,d){return c in b?b[c]:d},set:function(b,c,d){b[c]=d},WX:function(b,c,d){return c in b?b[c]:b[c]=d},clone:function(b){var c={},d;for(d in b)c[d]=b[d];return c},eT:function(b){var c=ka(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=
G.eT(b[d]);return c}return b},tm:function(b){var c={},d;for(d in b)c[b[d]]=d;return c},LA:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(b,c){for(var d,e,g=1;g<arguments.length;g++){e=arguments[g];for(d in e)b[d]=e[d];for(var h=0;h<G.LA.length;h++)d=G.LA[h],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},create:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return G.create.apply(k,arguments[0]);c%2&&
f(Error("Uneven number of arguments"));for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d},yh:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return G.yh.apply(k,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=j;return d},uW:function(b){var c=b;Object.isFrozen&&!Object.isFrozen(b)&&(c=Object.create(b),Object.freeze(c));return c},gX:function(b){return!!Object.isFrozen&&Object.isFrozen(b)}};a.Rb=function(b){return b?new Pb(Qb(b)):Hb||(Hb=new Pb)},a.J=function(b){return oa(b)?document.getElementById(b):b},a.Tb=function(b,c,d){return Sb(document,b,c,d)},a.Ub=function(b,c){var d=c||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):Sb(document,"*",b,c)},a.K=function(b,c){var d=c||document,e=k;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+b):Ub(b,c)[0])||k},a.Sb=function(b,c,d,e){b=e||b;c=
c&&"*"!=c?c.toUpperCase():"";if(b.querySelectorAll&&b.querySelector&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},g=0,h=0,l;l=b[h];h++)c==l.nodeName&&(e[g++]=l);e.length=g;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(h=g=0;l=b[h];h++)c=l.className,"function"==typeof c.split&&z.contains(c.split(/\s+/),d)&&(e[g++]=l);e.length=g;return e}return b},a.Wb=function(b,c){G.forEach(c,function(c,e){"style"==
e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in Vb?b.setAttribute(Vb[e],c):Fa(e,"aria-")||Fa(e,"data-")?b.setAttribute(e,c):b[e]=c})},a.Vb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},a.Xb=function(b){b=(b||window).document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new Nb(b.clientWidth,
b.clientHeight)},a.Zb=function(b){var c=Yb(b),b=b.parentWindow||b.defaultView;return new Lb(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)},a.Yb=function(b){return!D&&"CSS1Compat"==b.compatMode?b.documentElement:b.body},a.$b=function(b){return b?b.parentWindow||b.defaultView:window},a.M=function(b,c,d){return ac(document,arguments)},a.ac=function(b,c){var d=c[0],e=c[1];if(!Ib&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',Wa(e.name),'"');if(e.type){d.push(' type="',Wa(e.type),'"');
var g={};G.extend(g,e);delete g.type;e=g}d.push(">");d=d.join("")}d=b.createElement(d);e&&(oa(e)?d.className=e:ma(e)?F.add.apply(k,[d].concat(e)):Wb(d,e));2<c.length&&bc(b,d,c,2);return d},a.bc=function(b,c,d,e){function g(d){d&&c.appendChild(oa(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];na(h)&&!(ra(h)&&0<h.nodeType)?z.forEach(cc(h)?z.toArray(h):h,g):g(h)}},a.ec=function(b){return dc(document,b)},a.dc=function(b,c){var d=b.createElement("div");A?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):
d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e},a.fc=function(b){if(1!=b.nodeType)return m;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return m}return j},
a.gc=function(b,c){bc(Qb(b),b,arguments,1)},a.hc=function(b){for(var c;c=b.firstChild;)b.removeChild(c)},a.ic=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)},a.jc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)},a.kc=function(b,c,d){b.insertBefore(c,b.childNodes[d]||k)},a.N=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):k},a.lc=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)},a.mc=function(b){var c,d=b.parentNode;if(d&&11!=d.nodeType){if(b.removeNode)return b.removeNode(m);
for(;c=b.firstChild;)d.insertBefore(c,b);return N(b)}},a.nc=function(b){return Jb&&b.children!=i?b.children:z.filter(b.childNodes,function(b){return 1==b.nodeType})},a.pc=function(b){return b.firstElementChild!=i?b.firstElementChild:oc(b.firstChild,j)},a.qc=function(b){return b.previousElementSibling!=i?b.previousElementSibling:oc(b.previousSibling,m)},a.oc=function(b,c){for(;b&&1!=b.nodeType;)b=c?b.nextSibling:b.previousSibling;return b},a.rc=function(b,c){if(b.contains&&1==c.nodeType)return b==
c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b},a.uc=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if(A&&!Fb(9)){if(9==b.nodeType)return-1;if(9==c.nodeType)return 1}if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=1==b.nodeType,e=1==c.nodeType;if(d&&e)return b.sourceIndex-c.sourceIndex;var g=b.parentNode,h=
c.parentNode;return g==h?sc(b,c):!d&&rc(g,c)?-1*tc(b,c):!e&&rc(h,b)?tc(c,b):(d?b.sourceIndex:g.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=Qb(b);d=e.createRange();d.selectNode(b);d.collapse(j);e=e.createRange();e.selectNode(c);e.collapse(j);return d.compareBoundaryPoints(fa.Range.START_TO_END,e)},a.tc=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return sc(e,b)},a.sc=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1},a.vc=function(b){var c,
d=arguments.length;if(d){if(1==d)return arguments[0]}else return k;var e=[],g=Infinity;for(c=0;c<d;c++){for(var h=[],l=arguments[c];l;)h.unshift(l),l=l.parentNode;e.push(h);g=Math.min(g,h.length)}h=k;for(c=0;c<g;c++){for(var l=e[0][c],n=1;n<d;n++)if(l!=e[n][c])return h;h=l}return h},a.Qb=function(b){return 9==b.nodeType?b:b.ownerDocument||b.document},a.xc=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);
b.firstChild.data=c}else hc(b),b.appendChild(Qb(b).createTextNode(c))},a.zc=function(b,c){var d=[];yc(b,c,d,m);return d},a.yc=function(b,c,d,e){if(b!=k)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||yc(b,c,d,e))return j;b=b.nextSibling}return m},a.Ac={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},a.Bc={IMG:" ",BR:"\n"},a.Cc=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,pa(b)&&0<=b&&32768>b):m},a.Dc=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))},
a.Fc=function(b){if(Kb&&"innerText"in b)b=Ma(b.innerText);else{var c=[];Ec(b,c,j);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");Kb||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b},a.Gc=function(b){var c=[];Ec(b,c,m);return c.join("")},a.Ec=function(b,c,d){if(!(b.nodeName in Ac))if(3==b.nodeType)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in Bc)c.push(Bc[b.nodeName]);else for(b=b.firstChild;b;)Ec(b,
c,d),b=b.nextSibling},a.cc=function(b){if(b&&"number"==typeof b.length){if(ra(b))return"function"==typeof b.item||"string"==typeof b.item;if(qa(b))return"function"==typeof b.item}return m},a.Ic=function(b,c,d){if(!c&&!d)return k;var e=c?c.toUpperCase():k;return Hc(b,function(b){return(!e||b.nodeName==e)&&(!d||F.has(b,d))},j)},a.Hc=function(b,c,d,e){d||(b=b.parentNode);for(var d=e==k,g=0;b&&(d||g<=e);){if(c(b))return b;b=b.parentNode;g++}return k},a.Jc=function(b){try{return b&&b.activeElement}catch(c){}return k},
a.Pb=function(b){this.Ga=b||fa.document||document};t=Pb.prototype;t.K=Rb;t.Ca=p("Ga");t.h=function(b){return oa(b)?this.Ga.getElementById(b):b};t.Zt=Pb.prototype.h;t.aj=function(b,c){return K(b,c||this.Ga)};t.v=function(b,c,d){return ac(this.Ga,arguments)};t.createElement=function(b){return this.Ga.createElement(b)};t.createTextNode=function(b){return this.Ga.createTextNode(b)};t.iv=u(22);a.Kc=function(b){return"CSS1Compat"==b.Ga.compatMode};t.Oa=function(){return this.Ga.parentWindow||this.Ga.defaultView};
a.Lc=function(b){return Zb(b.Ga)};t.gr=function(b){return Jc(b||this.Ga)};t.appendChild=function(b,c){b.appendChild(c)};t.append=gc;t.$s=hc;t.Nn=ic;t.mx=jc;t.removeNode=N;t.wL=mc;t.gD=nc;t.kD=pc;t.contains=rc;t.KL=Ic;a.Mc=function(b,c){b.setAttribute("role",c)},a.Nc=function(b,c,d){b.setAttribute("aria-"+c,d)},a.Oc=function(b,c){var d=b.getAttribute("aria-"+c);return d===j||d===m?d?"true":"false":d?String(d):""};a.O=function(){0!=Pc&&(this.vW=Error().stack,Qc[ua(this)]=this)},a.Pc=0,a.Qc={};O.prototype.xg=m;O.prototype.G=function(){if(!this.xg&&(this.xg=j,this.w(),0!=Pc)){var b=ua(this);delete Qc[b]}};a.Rc=function(b,c){b.Mq||(b.Mq=[]);b.Mq.push(c)};O.prototype.w=function(){this.Mq&&Sc.apply(k,this.Mq);if(this.ro)for(;this.ro.length;)this.ro.shift()()};a.Tc=function(b){b&&"function"==typeof b.G&&b.G()},a.Sc=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];na(e)?Sc.apply(k,e):Tc(e)}};a.Uc={xm:"activedescendant",IT:"atomic",qI:"autocomplete",QT:"busy",Kp:"checked",XT:"controls",aU:"describedby",wI:"disabled",dU:"dropeffect",GA:"expanded",gU:"flowto",nU:"grabbed",wk:"haspopup",tU:"hidden",AU:"invalid",Mp:"label",eu:"labelledby",GU:"level",JU:"live",SU:"multiline",TU:"multiselectable",ZU:"orientation",aV:"owns",cV:"posinset",FI:"pressed",iV:"readonly",lV:"relevant",mV:"required",II:"selected",wV:"setsize",yV:"sort",VI:"valuemax",WI:"valuemin",XI:"valuenow",VV:"valuetext"},a.Vc={ET:"alert",
FT:"alertdialog",GT:"application",HT:"article",KT:"banner",Jp:"button",tI:"checkbox",TT:"columnheader",uI:"combobox",VT:"complementary",vI:"dialog",bU:"directory",cU:"document",lU:"form",pU:"grid",qU:"gridcell",rU:"group",sU:"heading",yU:"img",zI:"link",HU:"list",HA:"listbox",IU:"listitem",LU:"log",AI:"main",MU:"marquee",NU:"math",BI:"menu",QU:"menubar",CI:"menuitem",DI:"menuitemcheckbox",EI:"menuitemradio",UU:"navigation",WU:"note",KA:"option",dV:"presentation",eV:"progressbar",gV:"radio",hV:"radiogroup",
kV:"region",nV:"row",oV:"rowgroup",pV:"rowheader",sV:"scrollbar",tV:"search",KI:"separator",NI:"slider",zV:"spinbutton",BV:"status",PA:"tab",QI:"tablist",FV:"tabpanel",GV:"textbox",HV:"timer",SI:"toolbar",JV:"tooltip",KV:"tree",LV:"treegrid",MV:"treeitem"};a.Wc=function(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(c){}f(Error("Invalid JSON string: "+b))},a.Xc=function(b){return eval("("+b+")")},a.Zc=function(b,c){return(new Yc(c)).serialize(b)},a.Yc=function(b){this.dt=b};
Yc.prototype.serialize=function(b){var c=[];$c(this,b,c);return c.join("")};
a.$c=function(b,c,d){switch(typeof c){case "string":ad(c,d);break;case "number":d.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":d.push(c);break;case "undefined":d.push("null");break;case "object":if(c==k){d.push("null");break}if(ma(c)){b.serializeArray(c,d);break}d.push("{");var e="",g;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=c[g];"function"!=typeof h&&(d.push(e),ad(g,d),d.push(":"),$c(b,b.dt?b.dt.call(c,g,h):h,d),e=",")}d.push("}");break;case "function":break;default:f(Error("Unknown type: "+
typeof c))}},a.bd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},a.cd=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,a.ad=function(b,c){c.push('"',b.replace(cd,function(b){if(b in bd)return bd[b];var c=b.charCodeAt(0),g="\\u";16>c?g+="000":256>c?g+="00":4096>c&&(g+="0");return bd[b]=g+c.toString(16)}),'"')};
Yc.prototype.serializeArray=function(b,c){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],$c(this,this.dt?this.dt.call(b,String(g),e):e,c),e=",";c.push("]")};a.dd=!A||Fb(9),a.ed=!A||Fb(9),a.fd=A&&!E("9");!D||E("528");C&&E("1.9b")||A&&E("8")||rb&&E("9.5")||D&&E("528");C&&!E("8")||A&&E("9");a.gd=function(b,c){this.type=b;this.currentTarget=this.target=c};t=gd.prototype;t.w=ba();t.G=ba();t.Rj=m;t.defaultPrevented=m;t.ft=j;t.stopPropagation=function(){this.Rj=j};t.preventDefault=function(){this.defaultPrevented=j;this.ft=m};a.hd=function(b){b.preventDefault()};a.id=A?"focusin":"DOMFocusIn";a.jd=function(b){jd[" "](b);return b};jd[" "]=ia;a.kd=function(b,c){b&&this.z(b,c)};y(kd,gd);a.ld=[1,4,2];t=kd.prototype;t.target=k;t.relatedTarget=k;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=m;t.altKey=m;t.shiftKey=m;t.metaKey=m;t.Gy=m;t.Ub=k;
t.z=function(b,c){var d=this.type=b.type;gd.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;if(e){if(C){var g;a:{try{jd(e.nodeName);g=j;break a}catch(h){}g=m}g||(e=k)}}else"mouseover"==d?e=b.fromElement:"mouseout"==d&&(e=b.toElement);this.relatedTarget=e;this.offsetX=D||b.offsetX!==i?b.offsetX:b.layerX;this.offsetY=D||b.offsetY!==i?b.offsetY:b.layerY;this.clientX=b.clientX!==i?b.clientX:b.pageX;this.clientY=b.clientY!==i?b.clientY:b.pageY;this.screenX=b.screenX||
0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.Gy=kb?b.metaKey:b.ctrlKey;this.state=b.state;this.Ub=b;b.defaultPrevented&&this.preventDefault();delete this.Rj};a.md=function(b,c){return dd?b.Ub.button==c:"click"==b.type?0==c:!!(b.Ub.button&ld[c])},a.nd=function(b){return md(b,0)&&!(D&&kb&&b.ctrlKey)};
t.stopPropagation=function(){kd.n.stopPropagation.call(this);this.Ub.stopPropagation?this.Ub.stopPropagation():this.Ub.cancelBubble=j};t.preventDefault=function(){kd.n.preventDefault.call(this);var b=this.Ub;if(b.preventDefault)b.preventDefault();else if(b.returnValue=m,fd)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};t.eD=p("Ub");t.w=ba();a.od=function(){},a.pd=0;t=od.prototype;t.key=0;t.Tj=m;t.mq=m;t.z=function(b,c,d,e,g,h){qa(b)?this.yE=j:b&&b.handleEvent&&qa(b.handleEvent)?this.yE=m:f(Error("Invalid listener argument"));this.Tf=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!g;this.Nh=h;this.mq=m;this.key=++pd;this.Tj=m};t.handleEvent=function(b){return this.yE?this.Tf.call(this.Nh||this.src,b):this.Tf.handleEvent.call(this.Tf,b)};a.qd={},a.rd={},a.sd={},a.td={},a.P=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)P(b,c[h],d,e,g);return k}return ud(b,c,d,m,e,g)},a.ud=function(b,c,d,e,g,h){c||f(Error("Invalid event type"));var g=!!g,l=rd;c in l||(l[c]={da:0,Je:0});l=l[c];g in l||(l[g]={da:0,Je:0},l.da++);var l=l[g],n=ua(b),q;l.Je++;if(l[n]){q=l[n];for(var r=0;r<q.length;r++)if(l=q[r],l.Tf==d&&l.Nh==h){if(l.Tj)break;e||(q[r].mq=m);return q[r].key}}else q=l[n]=[],l.da++;var w=vd,B=ed?function(b){return w.call(B.src,B.key,
b)}:function(b){b=w.call(B.src,B.key,b);if(!b)return b},r=B;r.src=b;l=new od;l.z(d,r,b,c,g,h);l.mq=e;d=l.key;r.key=d;q.push(l);qd[d]=l;sd[n]||(sd[n]=[]);sd[n].push(l);b.addEventListener?(b==fa||!b.lC)&&b.addEventListener(c,r,g):b.attachEvent(c in td?td[c]:td[c]="on"+c,r);return d},a.wd=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)wd(b,c[h],d,e,g);return k}return ud(b,c,d,j,e,g)},a.xd=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)xd(b,c[h],d,e,g);else if(e=!!e,b=yd(b,c,e))for(h=
0;h<b.length;h++)if(b[h].Tf==d&&b[h].capture==e&&b[h].Nh==g){zd(b[h].key);break}},a.zd=function(b){if(!qd[b])return m;var c=qd[b];if(c.Tj)return m;var d=c.src,e=c.type,g=c.proxy,h=c.capture;d.removeEventListener?(d==fa||!d.lC)&&d.removeEventListener(e,g,h):d.detachEvent&&d.detachEvent(e in td?td[e]:td[e]="on"+e,g);d=ua(d);sd[d]&&(g=sd[d],z.remove(g,c),0==g.length&&delete sd[d]);c.Tj=j;if(c=rd[e][h][d])c.xF=j,Ad(e,h,d,c);delete qd[b];return j},a.Ad=function(b,c,d,e){if(!e.rs&&e.xF){for(var g=0,h=0;g<
e.length;g++)e[g].Tj?e[g].proxy.src=k:(g!=h&&(e[h]=e[g]),h++);e.length=h;e.xF=m;0==h&&(delete rd[b][c][d],rd[b][c].da--,0==rd[b][c].da&&(delete rd[b][c],rd[b].da--),0==rd[b].da&&delete rd[b])}},a.Bd=function(b){var c,d=0,e=c==k;c=!!c;if(b==k)G.forEach(sd,function(b){for(var g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)zd(h.key),d++}});else if(b=ua(b),sd[b])for(var b=sd[b],g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)zd(h.key),d++}},a.yd=function(b,c,d){var e=rd;return c in e&&(e=e[c],
d in e&&(e=e[d],b=ua(b),e[b]))?e[b]:k},a.Dd=function(b,c,d,e,g){var h=1,c=ua(c);if(b[c]){b.Je--;b=b[c];b.rs?b.rs++:b.rs=1;try{for(var l=b.length,n=0;n<l;n++){var q=b[n];q&&!q.Tj&&(h&=Cd(q,g)!==m)}}finally{b.rs--,Ad(d,e,c,b)}}return Boolean(h)},a.Cd=function(b,c){b.mq&&zd(b.key);return b.handleEvent(c)},a.vd=function(b,c){if(!qd[b])return j;var d=qd[b],e=d.type,g=rd;if(!(e in g))return j;var g=g[e],h,l;if(!ed){h=c||ga("window.event");var n=j in g,q=m in g;if(n){if(0>h.keyCode||h.returnValue!=i)return j;
a:{var r=m;if(0==h.keyCode)try{h.keyCode=-1;break a}catch(w){r=j}if(r||h.returnValue==i)h.returnValue=j}}r=new kd;r.z(h,this);h=j;try{if(n){for(var B=[],H=r.currentTarget;H;H=H.parentNode)B.push(H);l=g[j];l.Je=l.da;for(var I=B.length-1;!r.Rj&&0<=I&&l.Je;I--)r.currentTarget=B[I],h&=Dd(l,B[I],e,j,r);if(q){l=g[m];l.Je=l.da;for(I=0;!r.Rj&&I<B.length&&l.Je;I++)r.currentTarget=B[I],h&=Dd(l,B[I],e,m,r)}}else h=Cd(d,r)}finally{B&&(B.length=0)}return h}e=new kd(c,this);return h=Cd(d,e)},a.Ed=0,a.Fd=function(b){return b+
"_"+Ed++};a.Gd=function(){O.call(this)};y(Gd,O);t=Gd.prototype;t.lC=j;t.Pl=k;t.pt=ca("Pl");t.addEventListener=function(b,c,d,e){P(this,b,c,d,e)};t.removeEventListener=function(b,c,d,e){xd(this,b,c,d,e)};
t.dispatchEvent=function(b){var c=b.type||b,d=rd;if(c in d){if(oa(b))b=new gd(b,this);else if(b instanceof gd)b.target=b.target||this;else{var e=b,b=new gd(c,this);G.extend(b,e)}var e=1,g,d=d[c],c=j in d,h;if(c){g=[];for(h=this;h;h=h.Pl)g.push(h);h=d[j];h.Je=h.da;for(var l=g.length-1;!b.Rj&&0<=l&&h.Je;l--)b.currentTarget=g[l],e&=Dd(h,g[l],b.type,j,b)&&b.ft!=m}if(m in d)if(h=d[m],h.Je=h.da,c)for(l=0;!b.Rj&&l<g.length&&h.Je;l++)b.currentTarget=g[l],e&=Dd(h,g[l],b.type,m,b)&&b.ft!=m;else for(g=this;!b.Rj&&
g&&h.Je;g=g.Pl)b.currentTarget=g,e&=Dd(h,g,b.type,m,b)&&b.ft!=m;b=Boolean(e)}else b=j;return b};t.w=function(){Gd.n.w.call(this);Bd(this);this.Pl=k};a.Id=function(b,c){O.call(this);this.Hg=b||1;this.ip=c||Hd;this.Lu=v(this.OS,this);this.Gx=Aa()};y(Id,Gd);Id.prototype.enabled=m;a.Hd=fa.window;t=Id.prototype;t.na=k;t.setInterval=u(11);t.OS=function(){if(this.enabled){var b=Aa()-this.Gx;0<b&&b<0.8*this.Hg?this.na=this.ip.setTimeout(this.Lu,this.Hg-b):(this.dispatchEvent(Kd),this.enabled&&(this.na=this.ip.setTimeout(this.Lu,this.Hg),this.Gx=Aa()))}};t.start=function(){this.enabled=j;this.na||(this.na=this.ip.setTimeout(this.Lu,this.Hg),this.Gx=Aa())};
t.stop=function(){this.enabled=m;this.na&&(this.ip.clearTimeout(this.na),this.na=k)};t.w=function(){Id.n.w.call(this);this.stop();delete this.ip};a.Kd="tick",a.Ld=function(b,c,d){qa(b)?d&&(b=v(b,d)):b&&"function"==typeof b.handleEvent?b=v(b.handleEvent,b):f(Error("Invalid listener argument"));return 2147483647<c?-1:Hd.setTimeout(b,c||0)};a.Md={Ra:function(b){return"function"==typeof b.Ra?b.Ra():na(b)||oa(b)?b.length:G.Ra(b)},Ma:function(b){if("function"==typeof b.Ma)return b.Ma();if(oa(b))return b.split("");if(na(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return G.Ma(b)},Db:function(b){if("function"==typeof b.Db)return b.Db();if("function"!=typeof b.Ma){if(na(b)||oa(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return G.Db(b)}},contains:function(b,c){return"function"==typeof b.contains?b.contains(c):
"function"==typeof b.tg?b.tg(c):na(b)||oa(b)?z.contains(b,c):G.tg(b,c)},Fb:function(b){return"function"==typeof b.Fb?b.Fb():na(b)||oa(b)?z.Fb(b):G.Fb(b)},clear:function(b){"function"==typeof b.clear?b.clear():na(b)?z.clear(b):G.clear(b)},forEach:function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(na(b)||oa(b))z.forEach(b,c,d);else for(var e=Md.Db(b),g=Md.Ma(b),h=g.length,l=0;l<h;l++)c.call(d,g[l],e&&e[l],b)},filter:function(b,c,d){if("function"==typeof b.filter)return b.filter(c,
d);if(na(b)||oa(b))return z.filter(b,c,d);var e,g=Md.Db(b),h=Md.Ma(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)c.call(d,h[n],g[n],b)&&(e[g[n]]=h[n])}else{e=[];for(n=0;n<l;n++)c.call(d,h[n],i,b)&&e.push(h[n])}return e},map:function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(na(b)||oa(b))return z.map(b,c,d);var e,g=Md.Db(b),h=Md.Ma(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)e[g[n]]=c.call(d,h[n],g[n],b)}else{e=[];for(n=0;n<l;n++)e[n]=c.call(d,h[n],i,b)}return e},some:function(b,c,d){if("function"==
typeof b.some)return b.some(c,d);if(na(b)||oa(b))return z.some(b,c,d);for(var e=Md.Db(b),g=Md.Ma(b),h=g.length,l=0;l<h;l++)if(c.call(d,g[l],e&&e[l],b))return j;return m},every:function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(na(b)||oa(b))return z.every(b,c,d);for(var e=Md.Db(b),g=Md.Ma(b),h=g.length,l=0;l<h;l++)if(!c.call(d,g[l],e&&e[l],b))return m;return j}};a.Q={};Q.Za="StopIteration"in fa?fa.StopIteration:Error("StopIteration");a.Nd=function(){};Nd.prototype.next=function(){f(Q.Za)};Nd.prototype.ad=function(){return this};Q.$c=function(b){if(b instanceof Nd)return b;if("function"==typeof b.ad)return b.ad(m);if(na(b)){var c=0,d=new Nd;d.next=function(){for(;;){c>=b.length&&f(Q.Za);if(c in b)return b[c++];c++}};return d}f(Error("Not implemented"))};
Q.forEach=function(b,c,d){if(na(b))try{z.forEach(b,c,d)}catch(e){e!==Q.Za&&f(e)}else{b=Q.$c(b);try{for(;;)c.call(d,b.next(),i,b)}catch(g){g!==Q.Za&&f(g)}}};Q.filter=function(b,c,d){var e=Q.$c(b),b=new Nd;b.next=function(){for(;;){var b=e.next();if(c.call(d,b,i,e))return b}};return b};Q.zo=function(b,c,d){var e=0,g=b,h=d||1;1<arguments.length&&(e=b,g=c);0==h&&f(Error("Range step argument must not be zero"));var l=new Nd;l.next=function(){(0<h&&e>=g||0>h&&e<=g)&&f(Q.Za);var b=e;e+=h;return b};return l};
Q.join=function(b,c){return Q.toArray(b).join(c)};Q.map=function(b,c,d){var e=Q.$c(b),b=new Nd;b.next=function(){for(;;){var b=e.next();return c.call(d,b,i,e)}};return b};Q.reduce=function(b,c,d,e){var g=d;Q.forEach(b,function(b){g=c.call(e,g,b)});return g};Q.some=function(b,c,d){b=Q.$c(b);try{for(;;)if(c.call(d,b.next(),i,b))return j}catch(e){e!==Q.Za&&f(e)}return m};Q.every=function(b,c,d){b=Q.$c(b);try{for(;;)if(!c.call(d,b.next(),i,b))return m}catch(e){e!==Q.Za&&f(e)}return j};
Q.aK=function(b){var c=arguments,d=c.length,e=0,g=new Nd;g.next=function(){try{return e>=d&&f(Q.Za),Q.$c(c[e]).next()}catch(b){return(b!==Q.Za||e>=d)&&f(b),e++,this.next()}};return g};Q.gL=function(b,c){var d=Q.$c(b),e=new Nd,g=j;e.next=function(){for(;;){var b=d.next();if(!g||!c.call(i,b,i,d))return g=m,b}};return e};Q.Sz=function(b,c){var d=Q.$c(b),e=new Nd,g=j;e.next=function(){for(;;)if(g){var b=d.next();if(c.call(i,b,i,d))return b;g=m}else f(Q.Za)};return e};
Q.toArray=function(b){if(na(b))return z.toArray(b);var b=Q.$c(b),c=[];Q.forEach(b,function(b){c.push(b)});return c};Q.equals=function(b,c){var b=Q.$c(b),c=Q.$c(c),d,e;try{for(;;){d=e=m;var g=b.next();d=j;var h=c.next();e=j;if(g!=h)break}}catch(l){l!==Q.Za&&f(l);if(d&&!e)return m;if(!e)try{c.next()}catch(n){return n!==Q.Za&&f(n),j}}return m};Q.wX=function(b,c){try{return Q.$c(b).next()}catch(d){return d!=Q.Za&&f(d),c}};
Q.product=function(b){if(z.some(arguments,function(b){return!b.length})||!arguments.length)return new Nd;var c=new Nd,d=arguments,e=z.repeat(0,d.length);c.next=function(){if(e){for(var b=z.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=k;break}e[c]=0}return b}f(Q.Za)};return c};
Q.pv=function(b){var c=Q.$c(b),d=[],e=0,b=new Nd,g=m;b.next=function(){var b=k;if(!g)try{return b=c.next(),d.push(b),b}catch(l){(l!=Q.Za||z.Fb(d))&&f(l),g=j}b=d[e];e=(e+1)%d.length;return b};return b};a.Od=function(b,c){this.pb={};this.Pa=[];var d=arguments.length;if(1<d){d%2&&f(Error("Uneven number of arguments"));for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.nu(b)};t=Od.prototype;t.da=0;t.yp=0;t.Ra=p("da");t.Ma=function(){Pd(this);for(var b=[],c=0;c<this.Pa.length;c++)b.push(this.pb[this.Pa[c]]);return b};t.Db=function(){Pd(this);return this.Pa.concat()};t.Hd=function(b){return Qd(this.pb,b)};
t.tg=function(b){for(var c=0;c<this.Pa.length;c++){var d=this.Pa[c];if(Qd(this.pb,d)&&this.pb[d]==b)return j}return m};t.equals=function(b,c){if(this===b)return j;if(this.da!=b.Ra())return m;var d=c||Rd;Pd(this);for(var e,g=0;e=this.Pa[g];g++)if(!d(this.get(e),b.get(e)))return m;return j};a.Rd=function(b,c){return b===c};t.Fb=function(){return 0==this.da};t.clear=function(){this.pb={};this.yp=this.da=this.Pa.length=0};
t.remove=function(b){return Qd(this.pb,b)?(delete this.pb[b],this.da--,this.yp++,this.Pa.length>2*this.da&&Pd(this),j):m};a.Pd=function(b){if(b.da!=b.Pa.length){for(var c=0,d=0;c<b.Pa.length;){var e=b.Pa[c];Qd(b.pb,e)&&(b.Pa[d++]=e);c++}b.Pa.length=d}if(b.da!=b.Pa.length){for(var g={},d=c=0;c<b.Pa.length;)e=b.Pa[c],Qd(g,e)||(b.Pa[d++]=e,g[e]=1),c++;b.Pa.length=d}};t.get=function(b,c){return Qd(this.pb,b)?this.pb[b]:c};
t.set=function(b,c){Qd(this.pb,b)||(this.da++,this.Pa.push(b),this.yp++);this.pb[b]=c};t.nu=function(b){var c;b instanceof Od?(c=b.Db(),b=b.Ma()):(c=G.Db(b),b=G.Ma(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};t.clone=function(){return new Od(this)};t.tm=function(){for(var b=new Od,c=0;c<this.Pa.length;c++){var d=this.Pa[c];b.set(this.pb[d],d)}return b};t.Lt=function(){Pd(this);for(var b={},c=0;c<this.Pa.length;c++){var d=this.Pa[c];b[d]=this.pb[d]}return b};
t.ad=function(b){Pd(this);var c=0,d=this.Pa,e=this.pb,g=this.yp,h=this,l=new Nd;l.next=function(){for(;;){g!=h.yp&&f(Error("The map has changed since the iterator was created"));c>=d.length&&f(Q.Za);var l=d[c++];return b?l:e[l]}};return l};a.Qd=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};a.Sd=function(b){this.pb=new Od;b&&this.nu(b)},a.Td=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+ua(b):c.substr(0,1)+b};t=Sd.prototype;t.Ra=function(){return this.pb.Ra()};t.add=function(b){this.pb.set(Td(b),b)};t.nu=function(b){for(var b=Md.Ma(b),c=b.length,d=0;d<c;d++)this.add(b[d])};t.removeAll=function(b){for(var b=Md.Ma(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};t.remove=function(b){return this.pb.remove(Td(b))};t.clear=function(){this.pb.clear()};t.Fb=function(){return this.pb.Fb()};
t.contains=function(b){return this.pb.Hd(Td(b))};t.pE=function(b){for(var c=new Sd,b=Md.Ma(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};t.Ma=function(){return this.pb.Ma()};t.clone=function(){return new Sd(this)};t.equals=function(b){var c;if(c=this.Ra()==Md.Ra(b)){var d=b,b=Md.Ra(d);this.Ra()>b?c=m:(!(d instanceof Sd)&&5<b&&(d=new Sd(d)),c=Md.every(this,function(b){return Md.contains(d,b)}))}return c};t.ad=function(){return this.pb.ad(m)};a.Vd=function(b){return Ud(b||arguments.callee.caller,[])},a.Ud=function(b,c){var d=[];if(z.contains(c,b))d.push("[...circular reference...]");else if(b&&50>c.length){d.push(Wd(b)+"(");for(var e=b.arguments,g=0;g<e.length;g++){0<g&&d.push(", ");var h;h=e[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Wd(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");
d.push(h)}c.push(b);d.push(")\n");try{d.push(Ud(b.caller,c))}catch(l){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")},a.Wd=function(b){if(Xd[b])return Xd[b];b=String(b);if(!Xd[b]){var c=/function ([^\(]+)/.exec(b);Xd[b]=c?c[1]:"[Anonymous]"}return Xd[b]},a.Xd={};a.Yd=function(b,c,d,e,g){this.reset(b,c,d,e,g)};Yd.prototype.TR=0;Yd.prototype.OC=k;Yd.prototype.NC=k;a.Zd=0;Yd.prototype.reset=function(b,c,d,e,g){this.TR="number"==typeof g?g:Zd++;this.bY=e||Aa();this.$n=b;this.vF=c;this.nX=d;delete this.OC;delete this.NC};Yd.prototype.bH=ca("$n");Yd.prototype.hi=u(54);a.$d=function(b){this.YO=b};$d.prototype.Sa=k;$d.prototype.$n=k;$d.prototype.Sb=k;$d.prototype.VD=k;a.ae=function(b,c){this.name=b;this.value=c};ae.prototype.toString=p("name");a.be=new ae("SHOUT",1200),a.ce=new ae("SEVERE",1E3),a.de=new ae("WARNING",900),a.ee=new ae("INFO",800),a.fe=new ae("CONFIG",700),a.ge=new ae("FINE",500);t=$d.prototype;t.getParent=p("Sa");t.gD=function(){this.Sb||(this.Sb={});return this.Sb};t.bH=ca("$n");a.he=function(b){return b.$n?b.$n:b.Sa?he(b.Sa):k};
t.log=function(b,c,d){if(b.value>=he(this).value){b=this.OL(b,c,d);c="log:"+b.vF;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(c):fa.console.markTimeline&&fa.console.markTimeline(c));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(c);for(c=this;c;){var d=c,e=b;if(d.VD)for(var g=0,h=i;h=d.VD[g];g++)h(e);c=c.getParent()}}};
t.OL=function(b,c,d){var e=new Yd(b,String(c),this.YO);if(d){e.OC=d;var g;var h=arguments.callee.caller;try{var l;var n=ga("window.location.href");if(oa(d))l={message:d,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,r,w=m;try{q=d.lineNumber||d.mX||"Not available"}catch(B){q="Not available",w=j}try{r=d.fileName||d.filename||d.sourceURL||n}catch(H){r="Not available",w=j}l=w||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:q,
fileName:r,stack:d.stack||"Not available"}:d}g="Message: "+Wa(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+Wa(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Wa(Vd(h)+"-> ")}catch(I){g="Exception trying to expose exception! You win, we lose. "+I}e.NC=g}return e};t.lk=function(b,c){this.log(de,b,c)};t.info=function(b,c){this.log(ee,b,c)};t.config=u(13);
a.ie=function(b,c){b.log(ge,c,i)},a.je={},a.ke=k,a.le=function(b){ke||(ke=new $d(""),je[""]=ke,ke.bH(fe));var c;if(!(c=je[b])){c=new $d(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=le(b.substr(0,d));d.gD()[e]=c;c.Sa=d;je[b]=c}return c};a.me=function(b){O.call(this);this.ca=b;this.Pa=[]};y(me,O);a.ne=[];t=me.prototype;t.e=function(b,c,d,e,g){ma(c)||(ne[0]=c,c=ne);for(var h=0;h<c.length;h++){var l=P(b,c[h],d||this,e||m,g||this.ca||this);this.Pa.push(l)}return this};a.oe=function(b,c,d,e,g,h){if(ma(d))for(var l=0;l<d.length;l++)oe(b,c,d[l],e,g,h);else c=wd(c,d,e||b,g,h||b.ca||b),b.Pa.push(c)};
t.Ea=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)this.Ea(b,c[h],d,e,g);else{a:{d=d||this;g=g||this.ca||this;e=!!e;if(b=yd(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Tj&&b[c].Tf==d&&b[c].capture==e&&b[c].Nh==g){b=b[c];break a}b=k}b&&(b=b.key,zd(b),z.remove(this.Pa,b))}return this};t.removeAll=function(){z.forEach(this.Pa,zd);this.Pa.length=0};t.w=function(){me.n.w.call(this);this.removeAll()};t.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};a.pe=function(b){O.call(this);this.hg=b;this.et=[]};y(pe,O);pe.prototype.Da=le("goog.net.BulkLoaderHelper");pe.prototype.ww=p("hg");pe.prototype.sw=p("et");pe.prototype.w=function(){pe.n.w.call(this);this.et=this.hg=k};a.qe=function(){};qe.prototype.BB=k;a.se=function(b){var c;if(!(c=b.BB))c={},re(b)&&(c[0]=j,c[1]=j),c=b.BB=c;return c};a.te=void 0,a.ue=function(){};y(ue,qe);a.ve=function(b){return(b=re(b))?new ActiveXObject(b):new XMLHttpRequest},a.re=function(b){if(!b.bE&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<c.length;d++){var e=c[d];try{return new ActiveXObject(e),b.bE=e}catch(g){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return b.bE};
te=new ue;a.we=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");a.xe=function(b){O.call(this);this.headers=new Od;this.Xt=b||k};y(xe,Gd);xe.prototype.Da=le("goog.net.XhrIo");a.ye=/^https?$/i;t=xe.prototype;t.nh=m;t.ga=k;t.Wt=k;t.gs="";t.LE="";t.Vn=0;t.Wn="";t.Lv=m;t.Nr=m;t.ax=m;t.oj=m;t.Gt=0;t.gk=k;t.LG="";t.vT=m;
t.send=function(b,c,d,e){this.ga&&f(Error("[goog.net.XhrIo] Object is active with another request="+this.gs+"; newUri="+b));c=c?c.toUpperCase():"GET";this.gs=b;this.Wn="";this.Vn=0;this.LE=c;this.Lv=m;this.nh=j;this.ga=this.Xt?ve(this.Xt):ve(te);this.Wt=this.Xt?se(this.Xt):se(te);this.ga.onreadystatechange=v(this.TF,this);try{ie(this.Da,ze(this,"Opening Xhr")),this.ax=j,this.ga.open(c,b,j),this.ax=m}catch(g){ie(this.Da,ze(this,"Error opening Xhr: "+g.message));Ae(this,g);return}var b=d||"",h=this.headers.clone();
e&&Md.forEach(e,function(b,c){h.set(c,b)});e=fa.FormData&&b instanceof fa.FormData;"POST"==c&&(!h.Hd("Content-Type")&&!e)&&h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Md.forEach(h,function(b,c){this.ga.setRequestHeader(c,b)},this);this.LG&&(this.ga.responseType=this.LG);G.Hd(this.ga,"withCredentials")&&(this.ga.withCredentials=this.vT);try{this.gk&&(Hd.clearTimeout(this.gk),this.gk=k),0<this.Gt&&(ie(this.Da,ze(this,"Will abort after "+this.Gt+"ms if incomplete")),this.gk=
Hd.setTimeout(v(this.Ht,this),this.Gt)),ie(this.Da,ze(this,"Sending request")),this.Nr=j,this.ga.send(b),this.Nr=m}catch(l){ie(this.Da,ze(this,"Send error: "+l.message)),Ae(this,l)}};t.Ht=function(){"undefined"!=typeof ea&&this.ga&&(this.Wn="Timed out after "+this.Gt+"ms, aborting",this.Vn=8,ie(this.Da,ze(this,this.Wn)),this.dispatchEvent("timeout"),this.abort(8))};
a.Ae=function(b,c){b.nh=m;b.ga&&(b.oj=j,b.ga.abort(),b.oj=m);b.Wn=c;b.Vn=5;Be(b);Ce(b)},a.Be=function(b){b.Lv||(b.Lv=j,b.dispatchEvent("complete"),b.dispatchEvent("error"))};t.abort=function(b){this.ga&&this.nh&&(ie(this.Da,ze(this,"Aborting")),this.nh=m,this.oj=j,this.ga.abort(),this.oj=m,this.Vn=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))};t.w=function(){this.ga&&(this.nh&&(this.nh=m,this.oj=j,this.ga.abort(),this.oj=m),Ce(this,j));xe.n.w.call(this)};
t.TF=function(){!this.ax&&!this.Nr&&!this.oj?this.TP():De(this)};t.TP=function(){De(this)};
a.De=function(b){if(b.nh&&"undefined"!=typeof ea)if(b.Wt[1]&&4==Ee(b)&&2==Fe(b))ie(b.Da,ze(b,"Local request error detected and ignored"));else if(b.Nr&&4==Ee(b))Hd.setTimeout(v(b.TF,b),0);else if(b.dispatchEvent("readystatechange"),4==Ee(b)){ie(b.Da,ze(b,"Request complete"));b.nh=m;try{if(Ge(b))b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.Vn=6;var c;try{c=2<Ee(b)?b.ga.statusText:""}catch(d){ie(b.Da,"Can not get status: "+d.message),c=""}b.Wn=c+" ["+Fe(b)+"]";Be(b)}}finally{Ce(b)}}},
a.Ce=function(b,c){if(b.ga){var d=b.ga,e=b.Wt[0]?ia:k;b.ga=k;b.Wt=k;b.gk&&(Hd.clearTimeout(b.gk),b.gk=k);c||b.dispatchEvent("ready");try{d.onreadystatechange=e}catch(g){b.Da.log(ce,"Problem encountered resetting onreadystatechange: "+g.message,i)}}};t.Xb=function(){return!!this.ga};
a.Ge=function(b){var c=Fe(b),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=m}if(!d){if(c=0===c)b=String(b.gs).match(we)[1]||k,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),c=!ye.test(b?b.toLowerCase():"");d=c}return d},a.Ee=function(b){return b.ga?b.ga.readyState:0},a.Fe=function(b){try{return 2<Ee(b)?b.ga.status:-1}catch(c){return b.Da.lk("Can not get status: "+c.message),-1}},a.He=function(b){try{return b.ga?b.ga.responseText:
""}catch(c){return ie(b.Da,"Can not get responseText: "+c.message),""}},a.Ie=function(b){if(b.ga)return Wc(b.ga.responseText)};t.getResponseHeader=function(b){return this.ga&&4==Ee(this)?this.ga.getResponseHeader(b):i};a.ze=function(b,c){return c+" ["+b.LE+" "+b.gs+" "+Fe(b)+"]"};a.Je=function(b){O.call(this);this.mj=new pe(b);this.N=new me(this)};y(Je,Gd);t=Je.prototype;t.Da=le("goog.net.BulkLoader");t.sw=function(){return this.mj.sw()};t.load=function(){var b=this.N,c=this.mj.ww();this.Da.info("Starting load of code with "+c.length+" uris.");for(var d=0;d<c.length;d++){var e=new xe;b.e(e,"complete",v(this.yM,this,d));e.send(c[d])}};
t.yM=function(b,c){this.Da.info('Received event "'+c.type+'" for id '+b+" with uri "+this.mj.hg[b]);var d=c.target;Ge(d)?this.Ow(b,d):this.Gw(b,d)};t.Ow=function(b,c){var d=He(c);this.mj.et[b]=d;a:{var e=this.mj,d=e.et;if(d.length==e.hg.length){for(e=0;e<d.length;e++)if(d[e]==k){d=m;break a}d=j}else d=m}d&&(this.Da.info("All uris loaded."),this.dispatchEvent("success"));c.G()};t.Gw=function(b,c){this.dispatchEvent("error");c.G()};
t.w=function(){Je.n.w.call(this);this.N.G();this.N=k;this.mj.G();this.mj=k};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
a.Ke=function(b,c){this.Tm=[];this.DB=b;this.pC=c||k};t=Ke.prototype;t.Fh=m;t.vn=m;t.xo=0;t.Dz=m;t.bK=m;t.Mu=0;t.cancel=function(b){if(this.Fh)this.Go instanceof Ke&&this.Go.cancel();else{if(this.Sa){var c=this.Sa;delete this.Sa;b?c.cancel(b):(c.Mu--,0>=c.Mu&&c.cancel())}this.DB?this.DB.call(this.pC,this):this.Dz=j;this.Fh||Le(this,new Me(this))}};t.YB=function(b,c){Ne(this,b,c);this.xo--;0==this.xo&&this.Fh&&Oe(this)};a.Ne=function(b,c,d){b.Fh=j;b.Go=d;b.vn=!c;Oe(b)};
t.sh=function(){this.Fh&&(this.Dz||f(new Pe(this)),this.Dz=m)};t.Hk=function(b){this.sh();Ne(this,j,b)};
a.Le=function(b,c){b.sh();Ne(b,m,c)},a.Qe=function(b){return z.some(b.Tm,function(b){return qa(b[1])})},a.Oe=function(b){b.fA&&(b.Fh&&Qe(b))&&(fa.clearTimeout(b.fA),delete b.fA);b.Sa&&(b.Sa.Mu--,delete b.Sa);for(var c=b.Go,d=m,e=m;b.Tm.length&&0==b.xo;){var g=b.Tm.shift(),h=g[0],l=g[1],g=g[2];if(h=b.vn?l:h)try{var n=h.call(g||b.pC,c);la(n)&&(b.vn=b.vn&&(n==c||n instanceof Error),b.Go=c=n);c instanceof Ke&&(e=j,b.xo++)}catch(q){c=q,b.vn=j,Qe(b)||(d=j)}}b.Go=c;e&&b.xo&&(e=c,n=v(b.YB,b,j),h=v(b.YB,b,
m),e.Tm.push([n,h,i]),e.Fh&&Oe(e),c.bK=j);d&&(b.fA=fa.setTimeout(function(){f(c)},0))},a.Pe=function(b){Ea.call(this);this.deferred=b};y(Pe,Ea);Pe.prototype.message="Deferred has already fired";Pe.prototype.name="AlreadyCalledError";a.Me=function(b){Ea.call(this);this.deferred=b};y(Me,Ea);Me.prototype.message="Deferred was cancelled";Me.prototype.name="CancelledError";a.Re=[],a.Te=function(){if(this&&this.TG){var b=this.TG;b&&"SCRIPT"==b.tagName&&Se(b,j,this.Ht)}},a.Se=function(b,c,d){d!=k&&fa.clearTimeout(d);b.onload=ia;b.onerror=ia;b.onreadystatechange=ia;c&&window.setTimeout(function(){N(b)},0)},a.Ue=function(b,c){var d="Jsloader error (code #"+b+")";c&&(d+=": "+c);Ea.call(this,d);this.code=b};y(Ue,Ea);a.Ve=function(){O.call(this);this.N=new me(this);this.Og={}};y(Ve,Gd);t=Ve.prototype;t.Kb=le("goog.module.ModuleLoader");t.oC=m;t.qS=m;
t.CO=function(b,c,d,e){var g=this.Og[b]||new We;g.YE=j;g.Pz=d||k;g.Mv=e||k;if(this.Og[b])g.az!=k&&Xe(this,b);else{this.Og[b]=g;d=[];for(e=0;e<b.length;e++)z.extend(d,c[b[e]].ww());this.Kb.info("downloadModules ids:"+b+" uris:"+d);if(this.oC){var h=d;if(h.length&&(b=Re.length,z.extend(Re,h),!b)){var h=Re,l=function(){var b=h.shift(),c={},d=c.document||document,e=document.createElement("SCRIPT"),g={TG:e,Ht:i},H=new Ke(Te,g),I=k,L=c.timeout!=k?c.timeout:5E3;0<L&&(I=window.setTimeout(function(){Se(e,
j);Le(H,new Ue(1,"Timeout reached for loading script "+b))},L),g.Ht=I);e.onload=e.onreadystatechange=function(){if(!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)Se(e,c.kW||m,I),H.Hk(k)};e.onerror=function(){Se(e,j,I);Le(H,new Ue(0,"Error while loading script "+b))};Wb(e,{type:"text/javascript",charset:"UTF-8",src:b});g=d.getElementsByTagName("HEAD");(!g||z.Fb(g)?d.documentElement:g[0]).appendChild(e);h.length&&(H.Tm.push([l,l,i]),H.Fh&&Oe(H))};l()}}else this.Og[b].JG=d,c=new Je(d),
d=this.N,d.e(c,"success",v(this.Ow,this,c,b),m,k),d.e(c,"error",v(this.Gw,this,c,b),m,k),c.load()}};a.Xe=function(b,c){b.dispatchEvent(new Ye(Ze,c));b.Kb.info("evaluateCode ids:"+c);var d=j,e=b.Og[c],g=e.JG,h=e.az;try{if(b.qS)for(var l=0;l<g.length;l++)Ca(h[l]+" //@ sourceURL="+g[l]);else Ca(h.join("\n"))}catch(n){d=m,b.Kb.lk("Loaded incomplete code for module(s): "+c,n)}b.dispatchEvent(new Ye($e,c));d?e.Pz&&e.Pz():af(b,c,e.Mv,k);delete b.Og[c]};
t.Ow=function(b,c){this.Kb.info("Code loaded for module(s): "+c);var d=this.Og[c];d.az=b.sw();d.YE&&Xe(this,c);Ld(b.G,5,b)};t.Gw=function(b,c,d){var e=this.Og[c];e&&(delete this.Og[c],af(this,c,e.Mv,d));Ld(b.G,5,b)};a.af=function(b,c,d,e){b.dispatchEvent(new Ye(bf,c));b.Kb.lk("Request failed for module(s): "+c);d&&d(e)};t.w=function(){Ve.n.w.call(this);this.N.G();this.N=k};a.$e=Fd("evaluateCode"),a.Ze=Fd("requestSuccess"),a.bf=Fd("requestError"),a.Ye=function(b,c){gd.call(this,b);this.sX=c};
y(Ye,gd);a.We=function(){this.az=this.JG=k;this.YE=m;this.Mv=this.Pz=k};a.cf=function(b,c){O.call(this);this.eF=c;this.zg=[];b>this.eF&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var d=0;d<b;d++)this.zg.push(this.Mk())};y(cf,O);t=cf.prototype;t.ZB=k;t.AC=k;a.df=function(b,c){b.zg.length<b.eF?b.zg.push(c):b.Av(c)};t.Mk=function(){return this.ZB?this.ZB():{}};t.Av=function(b){if(this.AC)this.AC(b);else if(ra(b))if(qa(b.G))b.G();else for(var c in b)delete b[c]};
t.w=function(){cf.n.w.call(this);for(var b=this.zg;b.length;)this.Av(b.pop());delete this.zg};a.gf=function(){this.Kf=[];this.Ay=new Od;this.Pt=this.EH=this.FH=this.nH=0;this.bk=new Od;this.cv=this.DH=0;this.dy=1;this.al=new cf(0,4E3);this.al.Mk=function(){return new ef};this.dp=new cf(0,50);this.dp.Mk=function(){return new ff};var b=this;this.Tw=new cf(0,2E3);this.Tw.Mk=function(){return String(b.dy++)};this.Tw.Av=ba();this.XK=3};gf.prototype.Da=le("goog.debug.Trace");a.ff=function(){this.pA=this.time=this.count=0};
ff.prototype.toString=function(){var b=[];b.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.pA&&b.push(" [VarAlloc = ",this.pA,"]");return b.join("")};a.ef=function(){},a.kf=function(b,c,d,e){var g=[];-1==d?g.push("    "):g.push(hf(b.Wq-d));g.push(" ",jf(b.Wq-c));0==b.Xq?g.push(" Start        "):1==b.Xq?(g.push(" Done "),g.push(hf(b.aY-b.startTime)," ms ")):g.push(" Comment      ");g.push(e,b);0<b.CH&&g.push("[VarAlloc ",b.CH,"] ");return g.join("")};
ef.prototype.toString=function(){return this.type==k?this.PB:"["+this.type+"] "+this.PB};gf.prototype.reset=function(b){this.XK=b;for(b=0;b<this.Kf.length;b++){var c=this.al.id;c&&df(this.Tw,c);df(this.al,this.Kf[b])}this.Kf.length=0;this.Ay.clear();this.nH=Aa();this.cv=this.DH=this.Pt=this.EH=this.FH=0;c=this.bk.Db();for(b=0;b<c.length;b++){var d=this.bk.get(c[b]);d.count=0;d.time=0;d.pA=0;df(this.dp,d)}this.bk.clear()};gf.prototype.Qp=u(14);
gf.prototype.toString=function(){for(var b=[],c=-1,d=[],e=0;e<this.Kf.length;e++){var g=this.Kf[e];1==g.Xq&&d.pop();b.push(" ",kf(g,this.nH,c,d.join("")));c=g.Wq;b.push("\n");0==g.Xq&&d.push("|  ")}if(0!=this.Ay.Ra()){var h=Aa();b.push(" Unstopped timers:\n");Q.forEach(this.Ay,function(c){b.push("  ",c," (",h-c.startTime," ms, started at ",jf(c.startTime),")\n")})}c=this.bk.Db();for(e=0;e<c.length;e++)d=this.bk.get(c[e]),1<d.count&&b.push(" TOTAL ",d,"\n");b.push("Total tracers created ",this.DH,
"\n","Total comments created ",this.cv,"\n","Overhead start: ",this.FH," ms\n","Overhead end: ",this.EH," ms\n","Overhead comment: ",this.Pt," ms\n");return b.join("")};a.hf=function(b){var b=Math.round(b),c="";1E3>b&&(c=" ");100>b&&(c="  ");10>b&&(c="   ");return c+b},a.jf=function(b){b=Math.round(b);return String(100+b/1E3%60).substring(1,3)+"."+String(1E3+b%1E3).substring(1,4)};new gf;a.lf=function(b){return function(){return b}},a.mf=lf(m),a.nf=lf(j),a.of=function(b){return b},a.pf=function(b,c){var d=arguments,e=d.length;return function(){var b;e&&(b=d[e-1].apply(this,arguments));for(var c=e-2;0<=c;c--)b=d[c].call(this,b);return b}},a.qf=function(b){return function(){return!b.apply(this,arguments)}};a.rf=function(){O.call(this)};y(rf,O);a.sf=function(b,c){this.fr=b;this.ca=c};sf.prototype.execute=function(b){this.fr&&(this.fr.call(this.ca||k,b),this.fr=this.ca=k)};sf.prototype.abort=function(){this.ca=this.fr=k};a.tf=function(b,c){O.call(this);this.rC=b;this.vd=c;this.vy=[];this.ky=[];this.FC=[]};y(tf,O);t=tf.prototype;t.hg=k;t.UO=rf;t.$x=k;t.Qd=p("vd");t.ww=function(){var b=[];return jQuery.support.cors?this.hg:ma(this.hg)?(z.forEach(this.hg,function(c){b.push(uf(new vf(c)))}),b):uf(new vf(this.hg))};t.Xs=function(b,c){return this.Ys(this.vy,b,c)};t.Ys=function(b,c,d){c=new sf(c,d);b.push(c);return c};t.Td=function(){return!!this.$x};
t.vo=function(b){var c=new this.UO;b();this.$x=c;c=(c=!!wf(this.FC,b()))||!!wf(this.vy,b());c||(this.ky.length=0);return c};t.jy=function(b){if(b=wf(this.ky,b)){var c="Module errback failures: "+b;window.setTimeout(function(){f(Error(c))},0)}this.FC.length=0;this.vy.length=0};a.wf=function(b,c){for(var d=[],e=0;e<b.length;e++)try{b[e].execute(c)}catch(g){d.push(g)}b.length=0;return d.length?d:k};t.w=function(){tf.n.w.call(this);Tc(this.$x)};a.xf=function(){O.call(this);this.kd={};this.hf=[];this.Vj=[];this.nd=[];this.ti=[];this.nq={};this.kC=this.gq=new tf([],"")};y(xf,O);ja(xf);t=xf.prototype;t.Da=le("goog.module.ModuleManager");t.sB=m;t.Nx=k;t.zq=0;t.IE=m;t.VH=m;t.tF=k;t.nD=p("tF");t.Xb=function(){return 0<this.hf.length};
a.zf=function(b){var c=b.Xb();c!=b.IE&&(yf(b,c?"active":"idle"),b.IE=c);c=0<b.ti.length;c!=b.VH&&(yf(b,c?"userActive":"userIdle"),b.VH=c)},a.Bf=function(b,c,d,e,g){d.Xs(g.Hk,g);d.Ys(d.ky,function(b){Le(g,Error(b))},i);Af(b,c)?e&&(b.Da.info("User initiated module already loading: "+c),z.contains(b.ti,c)||b.ti.push(c),zf(b)):e?(b.Da.info("User initiated module load: "+c),z.contains(b.ti,c)||b.ti.push(c)):b.Da.info("Initiating module load: "+c)},a.Df=function(b,c){z.Fb(b.hf)?Cf(b,c):(b.nd.push(c),zf(b))},
a.Cf=function(b,c,d,e){d||(b.zq=0);for(var g=0;g<c.length;g++)b.kd[c[g]].Td()&&f(Error("Module already loaded: "+c[g]));d=[];for(g=0;g<c.length;g++)d=d.concat(Ef(b,c[g]));z.Co(d);!b.sB&&1<d.length&&(g=d.shift(),b.Da.info("Must load "+g+" module before "+c),b.nd=z.map(d,function(b){return[b]}).concat(b.nd),d=[g]);b.Da.info("Loading module(s): "+d);b.hf=d;b.Vj=b.sB?c:z.clone(d);zf(b);c=v(b.Nx.CO,b.Nx,z.clone(d),b.kd,k,v(b.JM,b),v(b.KM,b),!!e);(b=5E3*Math.pow(b.zq,2))?window.setTimeout(c,b):c()},a.Ef=
function(b,c){for(var d=[c],e=z.clone(b.kd[c].rC);e.length;){var g=e.pop();b.kd[g].Td()||(d.unshift(g),Array.prototype.unshift.apply(e,b.kd[g].rC))}z.Co(d);return d},a.If=function(b){var c=xf.O();c.xg?c.Da.lk("Module loaded after module manager was disposed: "+b):(c.Da.info("Module loaded: "+b),c.kd[b].vo(v(c.nD,c))&&Ff(c,Gf),z.remove(c.ti,b),z.remove(c.hf,b),z.Fb(c.hf)&&Hf(c),zf(c))},a.Af=function(b,c){if(z.contains(b.hf,c))return j;for(var d=0;d<b.nd.length;d++)if(z.contains(b.nd[d],c))return j;
return m};t.load=function(b,c){var d=[];z.Co([b],d);for(var e=[],g={},h=0;h<d.length;h++){var l=d[h],n=this.kd[l],q=new Ke;g[l]=q;n.Td()?q.Hk(this.tF):(Bf(this,l,n,!!c,q),Af(this,l)||e.push(l))}0<e.length&&Df(this,e);return g[b]};a.Gf=4;t=xf.prototype;
t.JM=function(b){this.zq++;401==b?(this.Da.info("Module loading unauthorized"),Ff(this,0),this.nd.length=0):410==b?(Jf(this,3),Hf(this)):3<=this.zq?(this.Da.info("Aborting after failure to load: "+this.hf),Jf(this,1),Hf(this)):(this.Da.info("Retrying after failure to load: "+this.hf),Cf(this,this.Vj,j,8001==b))};t.KM=function(){this.Da.info("Aborting after timeout: "+this.hf);Jf(this,2);Hf(this)};
a.Jf=function(b,c){1<b.Vj.length?b.nd=z.map(b.Vj,function(b){return[b]}).concat(b.nd):Ff(b,c)},a.Ff=function(b,c){var d=b.Vj;b.hf.length=0;for(var e=[],g=0;g<b.nd.length;g++){var h=z.filter(b.nd[g],function(b){var c=Ef(this,b);return z.some(d,function(b){return z.contains(c,b)})},b);z.extend(e,h)}for(g=0;g<d.length;g++)z.Wr(e,d[g]);for(g=0;g<e.length;g++){for(h=0;h<b.nd.length;h++)z.remove(b.nd[h],e[g]);z.remove(b.ti,e[g])}var l=b.nq.error;if(l)for(g=0;g<l.length;g++)for(var n=l[g],h=0;h<e.length;h++)n("error",
e[h],c);for(g=0;g<d.length;g++)b.kd[d[g]]&&b.kd[d[g]].jy(c);b.Vj.length=0;zf(b)},a.Hf=function(b){for(;b.nd.length;){var c=z.filter(b.nd.shift(),function(b){return!this.kd[b].Td()},b);if(0<c.length){Cf(b,c);return}}zf(b)};t.Xs=function(b,c){ma(b)||(b=[b]);for(var d=0;d<b.length;d++)this.Ys(b[d],c)};t.Ys=function(b,c){var d=this.nq;d[b]||(d[b]=[]);d[b].push(c)};a.yf=function(b,c){for(var d=b.nq[c],e=0;d&&e<d.length;e++)d[e](c)};
t.w=function(){xf.n.w.call(this);Sc(G.Ma(this.kd),this.gq);this.nq=this.nd=this.ti=this.Vj=this.hf=this.kd=k};a.Kf=function(b){this.Ga=b},a.Lf=/\s*;\s*/;t=Kf.prototype;t.isEnabled=function(){return navigator.cookieEnabled};t.set=function(b,c,d,e,g,h){/[;=\s]/.test(b)&&f(Error('Invalid cookie name "'+b+'"'));/[;\r\n]/.test(c)&&f(Error('Invalid cookie value "'+c+'"'));la(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";h=h?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(Aa()+1E3*d)).toUTCString();this.Ga.cookie=b+"="+c+g+e+d+h};
t.get=function(b,c){for(var d=b+"=",e=(this.Ga.cookie||"").split(Lf),g=0,h;h=e[g];g++){if(0==h.lastIndexOf(d,0))return h.substr(d.length);if(h==b)return""}return c};t.remove=function(b,c,d){var e=this.Hd(b);this.set(b,"",0,c,d);return e};t.Db=function(){return Mf(this).keys};t.Ma=function(){return Mf(this).WH};t.Fb=function(){return!this.Ga.cookie};t.Ra=function(){return!this.Ga.cookie?0:(this.Ga.cookie||"").split(Lf).length};t.Hd=function(b){return la(this.get(b))};
t.tg=function(b){for(var c=Mf(this).WH,d=0;d<c.length;d++)if(c[d]==b)return j;return m};t.clear=function(){for(var b=Mf(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};a.Mf=function(b){for(var b=(b.Ga.cookie||"").split(Lf),c=[],d=[],e,g,h=0;g=b[h];h++)e=g.indexOf("="),-1==e?(c.push(""),d.push(g)):(c.push(g.substring(0,e)),d.push(g.substring(e+1)));return{keys:c,WH:d}},a.Nf=new Kf(document);Nf.OU=3950;a.Of=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};Of.prototype.clone=function(){return new Of(this.top,this.right,this.bottom,this.left)};Of.prototype.contains=function(b){return!this||!b?m:b instanceof Of?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom};Of.prototype.expand=u(62);
a.Pf=function(b,c){var d=c.x<b.left?c.x-b.left:c.x>b.right?c.x-b.right:0,e=c.y<b.top?c.y-b.top:c.y>b.bottom?c.y-b.bottom:0;return Math.sqrt(d*d+e*e)};a.Qf=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};Qf.prototype.clone=function(){return new Qf(this.left,this.top,this.width,this.height)};a.Rf=function(b){return new Of(b.top,b.left+b.width,b.top+b.height,b.left)};
Qf.prototype.pE=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top),b=Math.min(this.top+this.height,b.top+b.height);if(e<=b)return this.left=c,this.top=e,this.width=d-c,this.height=b-e,j}return m};
Qf.prototype.contains=function(b){return b instanceof Qf?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};Qf.prototype.pl=function(){return new Nb(this.width,this.height)};a.Tf=function(b,c,d){oa(c)?Sf(b,d,c):G.forEach(c,xa(Sf,b))},a.Sf=function(b,c,d){(d=Uf(b,d))&&(b.style[d]=c)},a.Uf=function(b,c){var d=eb(c);if(b.style[d]===i){var e=D?"Webkit":C?"Moz":A?"ms":rb?"O":k,g;g=oa(i)?$a(i):"\\s";g=c.replace(RegExp("(^"+(g?"|["+g+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()});e+=g;if(b.style[e]!==i)return e}return d},a.Vf=function(b,c){var d=Qb(b);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,k))?d[c]||d.getPropertyValue(c)||
"":""},a.Wf=function(b,c){return b.currentStyle?b.currentStyle[c]:k},a.Xf=function(b,c){return Vf(b,c)||Wf(b,c)||b.style&&b.style[c]},a.Yf=function(b){return Xf(b,"position")},a.$f=function(b,c,d){var e,g=C&&(kb||vb)&&E("1.9");c instanceof Lb?(e=c.x,c=c.y):(e=c,c=d);b.style.left=Zf(e,g);b.style.top=Zf(c,g)},a.ag=function(b){b=b?Qb(b):document;return A&&!Fb(9)&&!Kc(Rb(b))?b.body:b.documentElement},a.bg=function(b){var c=b.getBoundingClientRect();A&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+
b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c},a.cg=function(b){if(A&&!Fb(8))return b.offsetParent;for(var c=Qb(b),d=Xf(b,"position"),e="fixed"==d||"absolute"==d,b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=Xf(b,"position"),e=e&&"static"==d&&b!=c.documentElement&&b!=c.body,!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return b;return k},a.fg=function(b){for(var c=new Of(0,Infinity,Infinity,0),d=Rb(b),e=d.Ca().body,
g=d.Ca().documentElement,h=Yb(d.Ga);b=cg(b);)if((!A||0!=b.clientWidth)&&(!D||0!=b.clientHeight||b!=e)&&b!=e&&b!=g&&"visible"!=Xf(b,"overflow")){var l=dg(b),n;n=b;if(C&&!E("1.9")){var q=parseFloat(Vf(n,"borderLeftWidth"));if(eg(n))var r=n.offsetWidth-n.clientWidth-q-parseFloat(Vf(n,"borderRightWidth")),q=q+r;n=new Lb(q,parseFloat(Vf(n,"borderTopWidth")))}else n=new Lb(n.clientLeft,n.clientTop);l.x+=n.x;l.y+=n.y;c.top=Math.max(c.top,l.y);c.right=Math.min(c.right,l.x+b.clientWidth);c.bottom=Math.min(c.bottom,
l.y+b.clientHeight);c.left=Math.max(c.left,l.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=Xb(d.Oa());c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:k},a.hg=function(b,c){var d,e=dg(b),g=dg(c),h=gg(c);d=e.x-g.x-h.left;var e=e.y-g.y-h.top,g=c.clientHeight-b.offsetHeight,h=c.scrollLeft,l=c.scrollTop,h=h+Math.min(d,Math.max(d-(c.clientWidth-b.offsetWidth),0)),l=l+Math.min(e,
Math.max(e-g,0));d=new Lb(h,l);c.scrollLeft=d.x;c.scrollTop=d.y},a.dg=function(b){var c,d=Qb(b),e=Xf(b,"position"),g=C&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),h=new Lb(0,0),l=ag(d);if(b==l)return h;if(b.getBoundingClientRect)c=bg(b),b=Lc(Rb(d)),h.x=c.left+b.x,h.y=c.top+b.y;else if(d.getBoxObjectFor&&!g)c=d.getBoxObjectFor(b),b=d.getBoxObjectFor(l),h.x=c.screenX-b.screenX,h.y=c.screenY-b.screenY;else{c=b;do{h.x+=c.offsetLeft;
h.y+=c.offsetTop;c!=b&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(D&&"fixed"==Yf(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(rb||D&&"absolute"==e)h.y-=d.body.offsetTop;for(c=b;(c=cg(c))&&c!=d.body&&c!=l;)if(h.x-=c.scrollLeft,!rb||"TR"!=c.tagName)h.y-=c.scrollTop}return h},a.jg=function(b,c){var d=ig(b),e=ig(c);return new Lb(d.x-e.x,d.y-e.y)},a.ig=function(b){var c=new Lb;if(1==b.nodeType){if(b.getBoundingClientRect){var d=bg(b);c.x=d.left;c.y=d.top}else{var d=
Lc(Rb(b)),e=dg(b);c.x=e.x-d.x;c.y=e.y-d.y}if(C&&!E(12)){var g;A?g="-ms-transform":D?g="-webkit-transform":rb?g="-o-transform":C&&(g="-moz-transform");var h;g&&(h=Xf(b,g));h||(h=Xf(b,"transform"));h?(b=h.match(kg),b=!b?new Lb(0,0):new Lb(parseFloat(b[1]),parseFloat(b[2]))):b=new Lb(0,0);c=new Lb(c.x+b.x,c.y+b.y)}}else g=qa(b.eD),h=b,b.targetTouches?h=b.targetTouches[0]:g&&b.Ub.targetTouches&&(h=b.Ub.targetTouches[0]),c.x=h.clientX,c.y=h.clientY;return c},a.lg=function(b,c,d){c instanceof Nb?(d=c.height,
c=c.width):d==i&&f(Error("missing height argument"));b.style.width=Zf(c,j);b.style.height=Zf(d,j)},a.Zf=function(b,c){"number"==typeof b&&(b=(c?Math.round(b):b)+"px");return b},a.ng=function(b){if("none"!=Xf(b,"display"))return mg(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=mg(b);c.display=d;c.position=g;c.visibility=e;return b},a.mg=function(b){var c=b.offsetWidth,d=b.offsetHeight,e=D&&!c&&!d;return(!la(c)||e)&&b.getBoundingClientRect?
(b=bg(b),new Nb(b.right-b.left,b.bottom-b.top)):new Nb(c,d)},a.og=function(b){var c=dg(b),b=ng(b);return new Qf(c.x,c.y,b.width,b.height)},a.pg=function(b,c){var d=b.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")},a.R=function(b,c){b.style.display=c?"":"none"},a.qg=function(b){return"none"!=b.style.display},a.eg=function(b){return"rtl"==Xf(b,"direction")},a.rg=C?"MozUserSelect":D?"WebkitUserSelect":k,a.sg=function(b,c,
d){d=!d?b.getElementsByTagName("*"):k;if(rg){if(c=c?"none":"",b.style[rg]=c,d)for(var b=0,e;e=d[b];b++)e.style[rg]=c}else if(A||rb)if(c=c?"on":"",b.setAttribute("unselectable",c),d)for(b=0;e=d[b];b++)e.setAttribute("unselectable",c)},a.tg=function(b){return new Nb(b.offsetWidth,b.offsetHeight)},a.ug=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var g=b.style[d],h=b.runtimeStyle[d];b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=g;b.runtimeStyle[d]=h;return c},
a.vg=function(b,c){var d=Wf(b,c);return d?ug(b,d,"left","pixelLeft"):0},a.wg=function(b){if(A){var c=vg(b,"paddingLeft"),d=vg(b,"paddingRight"),e=vg(b,"paddingTop"),b=vg(b,"paddingBottom");return new Of(e,d,b,c)}c=Vf(b,"paddingLeft");d=Vf(b,"paddingRight");e=Vf(b,"paddingTop");b=Vf(b,"paddingBottom");return new Of(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.xg={thin:2,medium:4,thick:6},a.yg=function(b,c){if("none"==Wf(b,c+"Style"))return 0;var d=Wf(b,c+"Width");return d in xg?xg[d]:
ug(b,d,"left","pixelLeft")},a.gg=function(b){if(A){var c=yg(b,"borderLeft"),d=yg(b,"borderRight"),e=yg(b,"borderTop"),b=yg(b,"borderBottom");return new Of(e,d,b,c)}c=Vf(b,"borderLeftWidth");d=Vf(b,"borderRightWidth");e=Vf(b,"borderTopWidth");b=Vf(b,"borderBottomWidth");return new Of(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.kg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;a.zg="/update",a.Ag=m;a.Bg=void 0,a.Cg=void 0,a.Dg=void 0,a.Eg=void 0,a.Fg=void 0,a.Gg=void 0,a.Hg=void 0;Hg=Gg=Fg=Eg=Dg=Cg=Bg=m;a.Ig=nb();Ig&&(-1!=Ig.indexOf("Firefox")?Bg=j:-1!=Ig.indexOf("Camino")?Cg=j:-1!=Ig.indexOf("iPhone")||-1!=Ig.indexOf("iPod")?Dg=j:-1!=Ig.indexOf("iPad")?Eg=j:-1!=Ig.indexOf("Android")?Fg=j:-1!=Ig.indexOf("Chrome")?Gg=j:-1!=Ig.indexOf("Safari")&&(Hg=j));a.Jg=Bg,a.Kg=Cg,a.Lg=Dg,a.Mg=Eg,a.Ng=Fg,a.Og=Gg,a.Pg=Hg;a.Qg=void 0,a.Rg=void 0,a.Sg=void 0,a.Tg=void 0,a.Ug=Lg||Mg,a.Vg=Ug&&navigator.userAgent.match(/OS\s(\w+)/)[1].slice(0,3).replace(/_/g,".");Qg="contentEditable"in document.documentElement&&!(Ug&&5>Vg)&&!(Ng&&3>navigator.userAgent.match(/Android (\d)/)[1]);a.Wg=$(document.documentElement);Rg="ontouchstart"in window;Wg.addClass(sb?"mobile":"no-mobile");Sg=Ug&&6<=Vg||!sb;document.createElement("input");Tg=1.5<=window.devicePixelRatio;window.JSON||(window.JSON={parse:Wc,stringify:Zc});a.Xg=void 0;
"orientation"in window&&(Xg=function(){var b={"0":"portrait",90:"landscape landscape-left","-90":"landscape landscape-right"},c=b[window.orientation]||"";Wg.removeClass(G.Ma(b).join(" ")).addClass(c)},$(window).on("orientationchange",Xg),Xg());$.support.fixedPosition=j;a:{var Yg=document.createElement("bootstrap"),Zg={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},$g;for($g in Zg)if(Yg.style[$g]!==i)break a};a.ah={},a.bh=void 0,a.ch=void 0,a.S=void 0,a.dh=void 0,a.eh=void 0,a.fh=void 0,a.gh=void 0,a.hh=void 0,a.ih=void 0,a.jh=void 0,a.kh=void 0,a.lh=void 0,a.mh=void 0,a.nh=void 0,a.oh=void 0,a.ph={},a.qh=z.reduce($("script.json-inline"),function(b,c){var d=$(c).data("name");b[d]=JSON.parse(c.text);return b},{});bh={};
G.forEach(qh,function(b,c){switch(c){case "redirect_to":ch=b;break;case "current_user":S=b;S.gw=b[0];S.ha=function(){return"-1"!==S.Fe};S.Fe=b[3];S.Bi=1===b[7];S.Cv=b[8];S.bo=b[9];S.VW=b[10];S.cy=b[11];S.Cr=b[12];S.ML=function(){return S[2].replace("_s","_is")};break;case "env":G.extend(bh,{am:b[0],av:b[1],vc:b[2],uE:b[3],$X:"http://static."+b[0],FE:m});break;case "current_question":dh={ka:b.qid,mb:b.urlToken,status:b.status,ux:b.isLocked,Dm:b.askAboutMember,iL:b.editPermission,jb:b.isAnon,hS:b.showInvitePanel,
xW:b.detailEditReasonRequired,je:0,wq:0,bA:k,mW:0,dX:m,cY:j,BS:m,Ug:[],ZV:[]};break;case "my_answer":eh=b;break;case "current_question_owner":S.Ug=b;break;case "need_first_answer_guide":S.vL=b;break;case "bio":fh=b;break;case "current_topic":gh=b;break;case "current_people":hh=b;hh.gw=b[0];hh.id=b[3];break;case "current_list":ih=b;break;case "block_topic":jh=b;break;case "draft":ah.Fd=b.length?b:k;break;case "sina_bind_info":b.length&&(ph.id=b[0],ph.name=b[1]);break;case "disabled_components":kh=
b;break;case "comet_path":zg=b;break;case "enforce_realname":lh=b;break;case "action_ban":mh=b;break;case "permissions":nh=b,oh=function(b){return z.contains(nh,b)}}});dh&&(dh.BE=m);kh||(kh=[]);navigator.userAgent.match(/iPad/i)&&(bh.FE=j,bh.vc=j);bh.am&&(document.domain=bh.am);bh.av&&(zg="http://"+bh.av+zg);bh.vc&&window.scrollTo(0,1);a.sh=function(b,c,d,e,g){if(!A&&(!D||!E("525")))return j;if(kb&&g)return rh(b);if(g&&!e||!d&&(17==c||18==c||kb&&91==c))return m;if(D&&e&&d)switch(b){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return m}if(A&&e&&c==b)return m;switch(b){case 13:return!(A&&Fb(9));case 27:return!D}return rh(b)},a.rh=function(b){if(48<=b&&57>=b||96<=b&&106>=b||65<=b&&90>=b||D&&0==b)return j;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return m}},a.th=function(b){switch(b){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return b}};a.uh=function(b){var c=b.offsetLeft,d=b.offsetParent;!d&&"fixed"==Yf(b)&&(d=Qb(b).documentElement);if(!d)return c;if(C)var e=gg(d),c=c+e.left;else Fb(8)&&(e=gg(d),c-=e.left);return eg(d)?d.clientWidth-(c+b.offsetWidth):c};a.vh=function(b,c,d){O.call(this);this.target=b;this.handle=c||b;this.ls=d||new Qf(NaN,NaN,NaN,NaN);this.Ga=Qb(b);this.N=new me(this);P(this.handle,["touchstart","mousedown"],this.sm,m,this)};y(vh,Gd);a.wh=A||C&&E("1.9.3");t=vh.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.xt=0;t.yt=0;t.Pi=0;t.Qi=0;t.ec=j;t.Ui=m;t.Sw=0;t.VO=0;t.zN=m;t.si=m;t.If=u(51);t.m=p("N");t.nz=u(17);t.Xa=ca("ec");
t.w=function(){vh.n.w.call(this);xd(this.handle,["touchstart","mousedown"],this.sm,m,this);this.N.removeAll();wh&&this.Ga.releaseCapture();this.N=this.handle=this.target=k};a.xh=function(b){la(b.lf)||(b.lf=eg(b.target));return b.lf};
t.sm=function(b){var c="mousedown"==b.type;if(this.ec&&!this.Ui&&(!c||nd(b))){yh(b);if(0==this.Sw)if(this.dispatchEvent(new zh("start",this,b.clientX,b.clientY,b)))this.Ui=j,b.preventDefault();else return;else b.preventDefault();var c=this.Ga,d=c.documentElement,e=!wh;this.N.e(c,["touchmove","mousemove"],this.NM,e);this.N.e(c,["touchend","mouseup"],this.Uq,e);wh?(d.setCapture(m),this.N.e(d,"losecapture",this.Uq)):this.N.e($b(c),"blur",this.Uq);A&&this.zN&&this.N.e(c,"dragstart",hd);this.MR&&this.N.e(this.MR,
"scroll",this.py,e);this.clientX=this.xt=b.clientX;this.clientY=this.yt=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.Pi=this.si?uh(this.target):this.target.offsetLeft;this.Qi=this.target.offsetTop;this.Dy=Lc(Rb(this.Ga));this.VO=Aa()}else this.dispatchEvent("earlycancel")};
t.Uq=function(b,c){this.N.removeAll();wh&&this.Ga.releaseCapture();if(this.Ui){yh(b);this.Ui=m;var d=Ah(this,this.Pi),e=Bh(this,this.Qi);this.dispatchEvent(new zh("end",this,b.clientX,b.clientY,b,d,e,c||"touchcancel"==b.type))}else this.dispatchEvent("earlycancel");("touchend"==b.type||"touchcancel"==b.type)&&b.preventDefault()};a.yh=function(b){var c=b.type;"touchstart"==c||"touchmove"==c?b.z(b.Ub.targetTouches[0],b.currentTarget):("touchend"==c||"touchcancel"==c)&&b.z(b.Ub.changedTouches[0],b.currentTarget)};
t.NM=function(b){if(this.ec){yh(b);var c=(this.si&&xh(this)?-1:1)*(b.clientX-this.clientX),d=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.Ui){var e=this.xt-this.clientX,g=this.yt-this.clientY;if(e*e+g*g>this.Sw)if(this.dispatchEvent(new zh("start",this,b.clientX,b.clientY,b)))this.Ui=j;else{this.xg||this.Uq(b);return}}d=Ch(this,c,d);c=d.x;d=d.y;this.Ui&&this.dispatchEvent(new zh("beforedrag",this,b.clientX,b.clientY,b,
c,d))&&(Dh(this,b,c,d),b.preventDefault())}};a.Ch=function(b,c,d){var e=Lc(Rb(b.Ga)),c=c+(e.x-b.Dy.x),d=d+(e.y-b.Dy.y);b.Dy=e;b.Pi+=c;b.Qi+=d;c=Ah(b,b.Pi);b=Bh(b,b.Qi);return new Lb(c,b)};t.py=function(b){var c=Ch(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;Dh(this,b,c.x,c.y)};
a.Dh=function(b,c,d,e){b.sv(d,e);b.dispatchEvent(new zh("drag",b,c.clientX,c.clientY,c,d,e))},a.Ah=function(b,c){var d=b.ls,e=!isNaN(d.left)?d.left:k,d=!isNaN(d.width)?d.width:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))},a.Bh=function(b,c){var d=b.ls,e=!isNaN(d.top)?d.top:k,d=!isNaN(d.height)?d.height:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))};
t.sv=function(b,c){this.si&&xh(this)?this.target.style.right=b+"px":this.target.style.left=b+"px";this.target.style.top=c+"px"};a.zh=function(b,c,d,e,g,h,l,n){gd.call(this,b);this.clientX=d;this.clientY=e;this.zB=g;this.left=la(h)?h:c.Pi;this.top=la(l)?l:c.Qi;this.Qq=c;this.zW=!!n};y(zh,gd);a.Eh=function(b){O.call(this);this.g=b;b=A?"focusout":"blur";this.AO=P(this.g,A?"focusin":"focus",this,!A);this.BO=P(this.g,b,this,!A)};y(Eh,Gd);Eh.prototype.handleEvent=function(b){var c=new kd(b.Ub);c.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(c)};Eh.prototype.w=function(){Eh.n.w.call(this);zd(this.AO);zd(this.BO);delete this.g};a.Fh=function(){};ja(Fh);Fh.prototype.dy=0;a.Gh=function(b){return":"+(b.dy++).toString(36)};Fh.O();a.T=function(b){O.call(this);this.aa=b||Rb();this.lf=Hh};y(T,Gd);T.prototype.yN=Fh.O();a.Hh=k,a.Ih=function(b,c){switch(b){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}f(Error("Invalid component state"))};t=T.prototype;t.vd=k;t.za=m;t.g=k;t.lf=k;t.Zx=k;t.Sa=k;t.Sb=k;t.Re=k;t.aI=m;
t.Qd=function(){return this.vd||(this.vd=Gh(this.yN))};a.Jh=function(b,c){b.Sa&&b.Sa.Re&&(G.remove(b.Sa.Re,b.vd),G.add(b.Sa.Re,c,b));b.vd=c};t.h=p("g");t.aj=function(b){return this.g?this.aa.aj(b,this.g):k};t.m=function(){return this.ql||(this.ql=new me(this))};a.Lh=function(b,c){b==c&&f(Error("Unable to set parent component"));c&&(b.Sa&&b.vd&&Kh(b.Sa,b.vd)&&b.Sa!=c)&&f(Error("Unable to set parent component"));b.Sa=c;T.n.pt.call(b,c)};t.getParent=p("Sa");
t.pt=function(b){this.Sa&&this.Sa!=b&&f(Error("Method not supported"));T.n.pt.call(this,b)};t.K=p("aa");t.v=function(){this.g=this.aa.createElement("div")};t.X=function(b){this.bt(b)};t.bt=function(b,c){this.za&&f(Error("Component already rendered"));this.g||this.v();b?b.insertBefore(this.g,c||k):this.aa.Ca().body.appendChild(this.g);(!this.Sa||this.Sa.za)&&this.B()};
t.o=function(b){this.za&&f(Error("Component already rendered"));if(b&&this.oc(b)){this.aI=j;if(!this.aa||this.aa.Ca()!=Qb(b))this.aa=Rb(b);this.$(b);this.B()}else f(Error("Invalid element to decorate"))};t.oc=s(j);t.$=ca("g");t.B=function(){this.za=j;Mh(this,function(b){!b.za&&b.h()&&b.B()})};t.ib=function(){Mh(this,function(b){b.za&&b.ib()});this.ql&&this.ql.removeAll();this.za=m};
t.w=function(){T.n.w.call(this);this.za&&this.ib();this.ql&&(this.ql.G(),delete this.ql);Mh(this,function(b){b.G()});!this.aI&&this.g&&N(this.g);this.Sa=this.Zx=this.g=this.Re=this.Sb=k};t.H=function(b,c){this.zk(b,Nh(this),c)};
t.zk=function(b,c,d){b.za&&(d||!this.za)&&f(Error("Component already rendered"));(0>c||c>Nh(this))&&f(Error("Child component index out of bounds"));if(!this.Re||!this.Sb)this.Re={},this.Sb=[];b.getParent()==this?(G.set(this.Re,b.Qd(),b),z.remove(this.Sb,b)):G.add(this.Re,b.Qd(),b);Lh(b,this);z.Mn(this.Sb,b,c);b.za&&this.za&&b.getParent()==this?(d=this.U(),d.insertBefore(b.h(),d.childNodes[c]||k)):d?(this.g||this.v(),c=Oh(this,c+1),b.bt(this.U(),c?c.g:k)):this.za&&(!b.za&&b.g&&b.g.parentNode&&1==b.g.parentNode.nodeType)&&
b.B()};t.U=p("g");t.xd=function(){this.lf==k&&(this.lf=eg(this.za?this.g:this.aa.Ca().body));return this.lf};t.ii=function(b){this.za&&f(Error("Component already rendered"));this.lf=b};a.Nh=function(b){return b.Sb?b.Sb.length:0},a.Kh=function(b,c){return b.Re&&c?G.get(b.Re,c)||k:k},a.Oh=function(b,c){return b.Sb?b.Sb[c]||k:k},a.Mh=function(b,c,d){b.Sb&&z.forEach(b.Sb,c,d)};
t.removeChild=function(b,c){if(b){var d=oa(b)?b:b.Qd(),b=Kh(this,d);d&&b&&(G.remove(this.Re,d),z.remove(this.Sb,b),c&&(b.ib(),b.g&&N(b.g)),Lh(b,k))}b||f(Error("Child is not in parent component"));return b};t.$s=function(b){for(var c=[];this.Sb&&0!=this.Sb.length;)c.push(this.removeChild(Oh(this,0),b));return c};a.Ph=function(b,c){O.call(this);this.ca=new me(this);this.Xg(b||k);c&&(this.pi=c)};y(Ph,Gd);t=Ph.prototype;t.g=k;t.Dk=j;t.pB=k;t.xj=m;t.aS=m;t.Fx=-1;t.Dx=-1;t.XD=m;t.mL=j;t.pi="toggle_display";t.Lh=p("pi");t.h=p("g");t.Xg=function(b){Qh(this);this.g=b};t.Mo=u(60);a.Qh=function(b){b.xj&&f(Error("Can not change this state of the popup while showing."))};t.P=p("xj");t.vx=u(53);t.D=function(b){this.Yo&&this.Yo.stop();this.En&&this.En.stop();b?this.Bz():this.ul()};t.fa=ia;
t.Bz=function(){if(!this.xj&&this.oo()){this.g||f(Error("Caller must call setElement before trying to show the popup"));this.fa();var b=Qb(this.g);this.XD&&this.ca.e(b,"keydown",this.vP,j);if(this.Dk)if(this.ca.e(b,"mousedown",this.KF,j),A){var c;try{c=b.activeElement}catch(d){}for(;c&&"IFRAME"==c.nodeName;){try{var e=c.contentDocument||c.contentWindow.document}catch(g){break}b=e;c=b.activeElement}this.ca.e(b,"mousedown",this.KF,j);this.ca.e(b,"deactivate",this.IF)}else this.ca.e(b,"blur",this.IF);
"toggle_display"==this.pi?(this.g.style.visibility="visible",R(this.g,j)):"move_offscreen"==this.pi&&this.fa();this.xj=j;this.Yo?(wd(this.Yo,"end",this.Kj,m,this),this.Yo.play()):this.Kj()}};t.ul=function(b){if(!this.xj||!this.dispatchEvent({type:"beforehide",target:b}))return m;this.ca&&this.ca.removeAll();this.xj=m;this.Dx=Aa();this.En?(wd(this.En,"end",xa(this.XB,b),m,this),this.En.play()):this.XB(b);return j};
t.XB=function(b){"toggle_display"==this.pi?this.aS?Ld(this.YD,0,this):this.YD():"move_offscreen"==this.pi&&(this.g.style.top="-10000px");this.Ij(b)};t.YD=function(){this.g.style.visibility="hidden";R(this.g,m)};t.oo=function(){return this.dispatchEvent("beforeshow")};t.Kj=function(){this.Fx=Aa();this.Dx=-1;this.dispatchEvent("show")};t.Ij=function(b){this.dispatchEvent({type:"hide",target:b})};t.KF=function(b){b=b.target;!rc(this.g,b)&&((!this.pB||rc(this.pB,b))&&!(150>Aa()-this.Fx))&&this.ul(b)};
t.vP=function(b){27==b.keyCode&&this.ul(b.target)&&(b.preventDefault(),b.stopPropagation())};t.IF=function(b){if(this.mL){var c=Qb(this.g);if(A||rb){if(b=c.activeElement,!b||rc(this.g,b)||"BODY"==b.tagName)return}else if(b.target!=c)return;150>Aa()-this.Fx||this.ul()}};t.w=function(){Ph.n.w.call(this);this.ca.G();Tc(this.Yo);Tc(this.En);delete this.g;delete this.ca};a.Rh=function(b,c){T.call(this,c);this.kT=!!b};y(Rh,T);t=Rh.prototype;t.Zv=k;t.kb=m;t.Nc=k;t.Ac=k;t.rf=k;t.L=s("goog-modalpopup");t.Gh=p("Nc");t.v=function(){Rh.n.v.call(this);var b=this.h();F.add(b,this.L());Dc(b,j);R(b,m);this.Qx();Sh(this)};
t.Qx=function(){this.kT&&!this.Ac&&(this.Ac=this.K().v("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.Ac.className=this.L()+"-bg",R(this.Ac,m),pg(this.Ac,0));this.Nc||(this.Nc=this.K().v("div",this.L()+"-bg"),R(this.Nc,m))};a.Sh=function(b){b.rf||(b.rf=b.K().createElement("span"),R(b.rf,m),Dc(b.rf,j),b.rf.style.position="absolute")};t.oc=function(b){return!!b&&"DIV"==b.tagName};
t.$=function(b){Rh.n.$.call(this,b);F.add(this.h(),this.L());this.Qx();Sh(this);R(this.h(),m)};t.B=function(){this.Ac&&ic(this.Ac,this.h());ic(this.Nc,this.h());Rh.n.B.call(this);jc(this.rf,this.h());this.Zv=new Eh(this.K().Ca());this.m().e(this.Zv,"focusin",this.AP)};t.ib=function(){this.P()&&this.D(m);Tc(this.Zv);Rh.n.ib.call(this);N(this.Ac);N(this.Nc);N(this.rf)};
t.D=function(b){b!=this.kb&&(this.Sl&&this.Sl.stop(),this.Jm&&this.Jm.stop(),this.Rl&&this.Rl.stop(),this.Im&&this.Im.stop(),b?this.Bz():this.ul())};t.Bz=function(){this.dispatchEvent("beforeshow")&&(this.$y(),this.fa(),this.m().e(this.K().Oa(),"resize",this.$y),Th(this,j),this.focus(),this.kb=j,this.Sl&&this.Jm?(wd(this.Sl,"end",this.Yh,m,this),this.Jm.play(),this.Sl.play()):this.Yh())};
t.ul=function(){this.dispatchEvent("beforehide")&&(this.m().Ea(this.K().Oa(),"resize",this.$y),this.kb=m,this.Rl&&this.Im?(wd(this.Rl,"end",this.Kl,m,this),this.Im.play(),this.Rl.play()):this.Kl())};a.Th=function(b,c){b.Ac&&R(b.Ac,c);b.Nc&&R(b.Nc,c);R(b.h(),c);R(b.rf,c)};t.Yh=function(){this.dispatchEvent("show")};t.Kl=function(){Th(this,m);this.dispatchEvent("hide")};t.P=p("kb");t.focus=function(){this.WC()};
t.$y=function(){this.Ac&&R(this.Ac,m);this.Nc&&R(this.Nc,m);var b=this.K().Ca(),c=Xb($b(b)||window),d=Math.max(c.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(c.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.Ac&&(R(this.Ac,j),lg(this.Ac,d,b));this.Nc&&(R(this.Nc,j),lg(this.Nc,d,b))};
t.fa=function(){var b=this.K().Ca(),c=$b(b)||window;if("fixed"==Yf(this.h()))var d=b=0;else d=Lc(this.K()),b=d.x,d=d.y;var e=ng(this.h()),c=Xb(c),b=Math.max(b+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);$f(this.h(),b,d);$f(this.rf,b,d)};t.AP=function(b){b.target==this.rf&&Ld(this.WC,0,this)};t.WC=function(){try{A&&this.K().Ca().body.focus(),this.h().focus()}catch(b){}};t.w=function(){Tc(this.Sl);this.Sl=k;Tc(this.Rl);this.Rl=k;Tc(this.Jm);this.Jm=k;Tc(this.Im);this.Im=k;Rh.n.w.call(this)};a.Uh=function(b,c,d){Rh.call(this,c,d);this.Bc=b||"modal-dialog"};y(Uh,Rh);t=Uh.prototype;t.qL=j;t.Dn=j;t.Yx=j;t.EC=j;t.cq=0.5;t.Kt="";t.pc="";t.Ab=k;t.Uk=m;t.Mc=k;t.vf=k;t.Jt=k;t.uf=k;t.oe=k;t.cc=k;t.Pj=Vc.vI;t.L=p("Bc");t.Ya=function(b){this.Kt=b;this.vf&&xc(this.vf,b)};t.Ha=function(b){this.pc=b;this.oe&&(this.oe.innerHTML=b)};t.ab=p("pc");t.So=u(19);a.Vh=function(b){b.h()||b.X()};t.U=function(){Vh(this);return this.oe};a.Wh=function(b){Vh(b);return b.vf};t.jw=function(){Vh(this);return this.cc};
a.Xh=function(b){Vh(b);return b.h()};t.Gh=function(){Vh(this);return Uh.n.Gh.call(this)};
a.Yh=function(b,c){b.cq=c;if(b.h()){var d=b.Gh();d&&pg(d,b.cq)}},a.$h=function(b,c){c!=b.Yx&&Zh(b,c)},a.Zh=function(b,c){b.Yx=c;if(b.za){var d=b.K(),e=b.Gh(),g=b.Ac;c?(g&&d.Nn(g,b.h()),d.Nn(e,b.h())):(d.removeNode(g),d.removeNode(e))}},a.ai=function(b,c){b.h()&&F.enable(b.Mc,b.Bc+"-title-draggable",c);c&&!b.Ab?(b.Ab=new vh(b.h(),b.Mc),F.add(b.Mc,b.Bc+"-title-draggable"),P(b.Ab,"start",b.UR,m,b)):!c&&b.Ab&&(b.Ab.G(),b.Ab=k)};
t.v=function(){Uh.n.v.call(this);var b=this.h(),c=this.K();this.Mc=c.v("div",{className:this.Bc+"-title",id:this.Qd()},this.vf=c.v("span",this.Bc+"-title-text",this.Kt),this.uf=c.v("span",this.Bc+"-title-close"));gc(b,this.Mc,this.oe=c.v("div",this.Bc+"-content"),this.cc=c.v("div",this.Bc+"-buttons"));this.Jt=this.Mc.id;Mc(b,this.Pj);Nc(b,"labelledby",this.Jt||"");this.pc&&(this.oe.innerHTML=this.pc);R(this.uf,this.Dn);this.nc&&(b=this.nc,b.g=this.cc,b.X());R(this.cc,!!this.nc);Yh(this,this.cq)};
t.$=function(b){Uh.n.$.call(this,b);b=this.Bc+"-content";(this.oe=Tb(k,b,this.h())[0])?this.pc=this.oe.innerHTML:(this.oe=this.K().v("div",b),this.pc&&(this.oe.innerHTML=this.pc),this.h().appendChild(this.oe));var b=this.Bc+"-title",c=this.Bc+"-title-text",d=this.Bc+"-title-close";(this.Mc=Tb(k,b,this.h())[0])?(this.vf=Tb(k,c,this.Mc)[0],this.uf=Tb(k,d,this.Mc)[0],this.Mc.id||(this.Mc.id=this.Qd())):(this.Mc=this.K().v("div",{className:b,id:this.Qd()}),this.h().insertBefore(this.Mc,this.oe));this.Jt=
this.Mc.id;this.vf?this.Kt=Fc(this.vf):(this.vf=this.K().v("span",c,this.Kt),this.Mc.appendChild(this.vf));Nc(this.h(),"labelledby",this.Jt||"");this.uf||(this.uf=this.K().v("span",d),this.Mc.appendChild(this.uf));R(this.uf,this.Dn);b=this.Bc+"-buttons";(this.cc=Tb(k,b,this.h())[0])?(this.nc=new bi(this.K()),this.nc.o(this.cc)):(this.cc=this.K().v("div",b),this.h().appendChild(this.cc),this.nc&&(b=this.nc,b.g=this.cc,b.X()),R(this.cc,!!this.nc));Yh(this,this.cq)};
t.B=function(){Uh.n.B.call(this);this.m().e(this.h(),"keydown",this.uo).e(this.h(),"keypress",this.uo);this.m().e(this.cc,"click",this.nP);ai(this,this.EC);this.m().e(this.uf,"click",this.Fs);Mc(this.h(),this.Pj);""!==this.vf.id&&Nc(this.h(),"labelledby",this.vf.id);this.Yx||Zh(this,m)};t.ib=function(){this.P()&&this.D(m);ai(this,m);Uh.n.ib.call(this)};t.D=function(b){b!=this.P()&&(this.za||this.X(),Uh.n.D.call(this,b))};t.Yh=function(){Uh.n.Yh.call(this);this.dispatchEvent(ci)};
t.Kl=function(){Uh.n.Kl.call(this);this.dispatchEvent(di);this.Uk&&this.G()};t.focus=function(){Uh.n.focus.call(this);if(this.nc){var b=this.nc.Kq;if(b)for(var c=this.K().Ca(),d=this.cc.getElementsByTagName("button"),e=0,g;g=d[e];e++)if(g.name==b){try{if(D||rb){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.h().appendChild(h);h.focus();this.h().removeChild(h)}g.focus()}catch(l){}break}}};
t.UR=function(){var b=this.K().Ca(),c=Xb($b(b)||window),d=Math.max(b.body.scrollWidth,c.width),b=Math.max(b.body.scrollHeight,c.height),e=ng(this.h());"fixed"==Yf(this.h())?(c=new Qf(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height)),this.Ab.ls=c||new Qf(NaN,NaN,NaN,NaN)):this.Ab.ls=new Qf(0,0,d-e.width,b-e.height)||new Qf(NaN,NaN,NaN,NaN)};t.Fs=function(){if(this.Dn){var b=this.nc,c=b&&b.Tu;c?(b=b.get(c),this.dispatchEvent(new fi(c,b))&&this.D(m)):this.D(m)}};
t.w=function(){this.cc=this.uf=k;Uh.n.w.call(this)};a.gi=function(b,c){b.nc=c;if(b.cc){if(b.nc){var d=b.nc;d.g=b.cc;d.X()}else b.cc.innerHTML="";R(b.cc,!!b.nc)}};t.nP=function(b){a:{for(b=b.target;b!=k&&b!=this.cc;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=k}if(b&&!b.disabled){var b=b.name,c=this.nc.get(b);this.dispatchEvent(new fi(b,c))&&this.D(m)}};
t.uo=function(b){var c=m,d=m,e=this.nc,g=b.target;if("keydown"==b.type)if(this.qL&&27==b.keyCode){var h=e&&e.Tu,g="SELECT"==g.tagName&&!g.disabled;h&&!g?(d=j,c=e.get(h),c=this.dispatchEvent(new fi(h,c))):g||(c=j)}else 9==b.keyCode&&(b.shiftKey&&g==this.h())&&(d=j);else if(13==b.keyCode){if("BUTTON"==g.tagName)h=g.name;else if(e){var l=e.Kq,n=l&&e.fd(l),g=("TEXTAREA"==g.tagName||"SELECT"==g.tagName||"A"==g.tagName)&&!g.disabled;n&&(!n.disabled&&!g)&&(h=l)}h&&e&&(d=j,c=this.dispatchEvent(new fi(h,String(e.get(h)))))}if(c||
d)b.stopPropagation(),b.preventDefault();c&&this.D(m)};a.fi=function(b,c){this.type=hi;this.key=b;this.caption=c};y(fi,gd);a.hi="dialogselect",a.di="afterhide",a.ci="aftershow",a.bi=function(b){this.aa=b||Rb();Od.call(this)},a.ii=void 0;y(bi,Od);t=bi.prototype;t.Bc="goog-buttonset";t.Kq=k;t.g=k;t.Tu=k;t.set=function(b,c,d,e){Od.prototype.set.call(this,b,c);d&&(this.Kq=b);e&&(this.Tu=b);return this};t.ge=function(b,c,d){return this.set(b.key,b.caption,c,d)};
t.X=function(){if(this.g){this.g.innerHTML="";var b=Rb(this.g);Md.forEach(this,function(c,d){var e=b.v("button",{name:d},c);d==this.Kq&&(e.className=this.Bc+"-default");this.g.appendChild(e)},this)}};t.o=function(b){if(b&&1==b.nodeType){this.g=b;for(var b=this.g.getElementsByTagName("button"),c=0,d,e,g;d=b[c];c++)if(e=d.name||d.id,g=Fc(d)||d.value,e){var h=0==c;this.set(e,g,h,d.name==ji);h&&F.add(d,this.Bc+"-default")}}};t.h=p("g");t.K=p("aa");
t.fd=function(b){for(var c=this.g.getElementsByTagName("BUTTON"),d=0,e;e=c[d];d++)if(e.name==b||e.id==b)return e;return k};a.ji="cancel",a.ki={XU:"ok",rI:ji,YI:"yes",VU:"no",rV:"save",WT:"continue"},a.li=x("确定"),a.mi=x("取消"),a.ni=x("Yes"),a.oi=x("No"),a.pi=x("Save"),a.qi=x("Continue"),a.ri={key:"ok",caption:li},a.si={key:ji,caption:mi},a.ti={key:"yes",caption:ni},a.ui={key:"no",caption:oi},a.vi={key:"save",caption:pi},a.wi={key:"continue",caption:qi};
"undefined"!=typeof document&&((new bi).ge(ri,j,j),ii=(new bi).ge(si,m,j).ge(ri,j),(new bi).ge(ti,j).ge(ui,m,j),(new bi).ge(ti).ge(ui,j).ge(si,m,j),(new bi).ge(wi).ge(vi).ge(si,j,j));a.xi=function(b,c,d){Uh.call(this,b,c,d)};y(xi,Uh);xi.prototype.cI=k;xi.prototype.B=function(){var b=!Rg;this.EC=b;ai(this,b&&this.za);xi.n.B.call(this);this.Dk&&yi(this);zi(this,this.cI)};a.yi=function(b){b.Dk&&b.m().e(b.Nc||b.Ac,"click",function(){this.Dk&&this.D(m)})};xi.prototype.Mo=u(59);
xi.prototype.fa=function(){xi.n.fa.call(this);if(!this.EL){var b=$(this.h()),c=$(window).scrollTop();if(!sb||Mg)var d=parseInt(b.css("top").slice(0,-2)),c="-="+Math.min(d-c,60)+"px";b.add(this.rf).css("top",c)}};a.zi=function(b,c){if(b.g&&(b.za&&pa(c))&&(!sb||Mg))b.g.style.width=Zf(c,j),b.cI=c;oa(c)&&(b.g.style.width=c)};a.Ci=function(b,c,d,e){ra(b)?(e=d,d=c):b={title:b,content:c};qa(d)||(d=ia);var g=$.extend({},Ai,b),h=Bi=Bi||new xi;(c=g.Gk.length)?(b=new bi,1<c?b.set(ji,g.Gk[0],m,j).set("yes",g.Gk[1],j):b.set("yes",g.Gk[0],j),gi(h,b),h.jw(),b.fd("yes").className="zg-btn-blue",b.fd(ji)&&(b.fd(ji).className="zg-link-btn zm-command-cancel")):gi(h,k);F.enable(Xh(h),"with-button",!!c);Bd(h);h.on(di,function(){F.remove(h.h(),g.className)}).on(hi,function(b){return d.call(e||h,"yes"===b.key)});F.add(Xh(h),g.className);
h.Ya(g.title);$h(h,g.qF);h.Ha(g.content);h.D(g.open);return h},a.Bi=void 0,a.Ai={open:j,qF:m,title:"确认",content:"",className:"",Gk:["取消","确认"]},a.Di=function(b,c,d){Ci({title:b,content:c,Gk:["确定"],className:d})},a.V=function(b,c){if(b){var d=Ci({title:"提示信息",content:Qa(b),Gk:[],className:"no-close-button"});setTimeout(function(){d.D(m)},c||3E3)}};a.W=function(b){xe.call(this);this.iS=!!b;this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.gM,m,this)},a.Ei=void 0;y(W,xe);a.Fi=function(b,c,d,e){var g=new W;if(c)g.on("complete",c);g.ajax(b,e,d)},a.Gi=/#.*$/,a.Hi={"text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},a.Ii=[];
W.prototype.gM=function(){R(Ji(),m);var b=this.getResponseHeader("content-type");if(b){var c=Hi[b.split(";")[0].toLowerCase()];if(c&&Ii.length){var d=He(this);z.forEach(Ii,function(b){b.uT===c&&b.filter("json"===c?JSON.parse(d):d)},this)}}};W.prototype.ajax=function(b,c,d){b=encodeURI(decodeURI(b));b=b.replace(Gi,"");if(!this.ga){this.iS&&R(Ji(),j);d=d||"POST";if("POST"===d.toUpperCase()){var e=Nf.get("_xsrf");e&&(c=(c?c+"&_xsrf=":"_xsrf=")+e)}return this.send(b,d,c,this.headers)}};
a.Ji=function(){if(Ei)return Ei;var b=M("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});document.body.appendChild(b);return Ei=b};a.Ki=function(){O.call(this)};y(Ki,Gd);Ki.prototype.m=function(){return this.Nh||(this.Nh=new me(this))};a.Li=new Ki;Gd.prototype.on=function(){Gd.prototype.addEventListener.apply(this,arguments);return this};Gd.prototype.off=function(){Gd.prototype.removeEventListener.apply(this,arguments);return this};Gd.prototype.ia=Gd.prototype.dispatchEvent;a.Mi=function(){};a.Ni=function(){};y(Ni,Mi);Ni.prototype.Ra=function(){var b=0;Q.forEach(this.ad(j),function(){b++});return b};Ni.prototype.clear=function(){var b=Q.toArray(this.ad(j)),c=this;z.forEach(b,function(b){c.remove(b)})};a.Oi=function(b){this.dg=b};y(Oi,Ni);t=Oi.prototype;t.Yr=function(){try{return!!this.dg&&!!this.dg.getItem}catch(b){}return m};t.set=function(b,c){try{this.dg.setItem(b,c)}catch(d){f("Storage mechanism: Quota exceeded")}};t.get=function(b){b=this.dg.getItem(b);!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.dg.removeItem(b)};t.Ra=function(){return this.dg.length};
t.ad=function(b){var c=0,d=this.dg,e=new Nd;e.next=function(){c>=d.length&&f(Q.Za);var e=d.key(c++);if(b)return e;e=d.getItem(e);oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){this.dg.clear()};a.Pi=function(){var b=k;try{b=window.localStorage||k}catch(c){}this.dg=b};y(Pi,Oi);a.Qi=function(){var b=k;try{b=window.sessionStorage||k}catch(c){}this.dg=b};y(Qi,Oi);a.Si=function(b,c){if(A&&!Fb(9)){Ri||(Ri=new Od);this.pd=Ri.get(b);this.pd||(c?this.pd=document.getElementById(c):(this.pd=document.createElement("userdata"),this.pd.addBehavior("#default#userData"),document.body.appendChild(this.pd)),Ri.set(b,this.pd));this.Nz=b;try{this.pd.load(this.Nz)}catch(d){this.pd=k}}};y(Si,Ni);a.Ti={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},a.Ri=k;t=Si.prototype;t.pd=k;t.Nz=k;
a.Ui=function(b){return"_"+encodeURIComponent(b).replace(/[.!~*'()%]/g,function(b){return Ti[b]})};t.Yr=function(){return!!this.pd};t.set=function(b,c){this.pd.setAttribute(Ui(b),c);Vi(this)};t.get=function(b){b=this.pd.getAttribute(Ui(b));!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.pd.removeAttribute(Ui(b));Vi(this)};t.Ra=function(){return Wi(this).attributes.length};
t.ad=function(b){var c=0,d=Wi(this).attributes,e=new Nd;e.next=function(){c>=d.length&&f(Q.Za);var e=d[c++];if(b)return decodeURIComponent(e.nodeName.replace(/\./g,"%")).substr(1);e=e.nodeValue;oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){for(var b=Wi(this),c=b.attributes.length;0<c;c--)b.removeAttribute(b.attributes[c-1].nodeName);Vi(this)};a.Vi=function(b){try{b.pd.save(b.Nz)}catch(c){f("Storage mechanism: Quota exceeded")}},a.Wi=function(b){return b.pd.XMLDocument.documentElement};a.Xi=function(b,c){this.Fl=b;this.Qj=c+"::"};y(Xi,Ni);t=Xi.prototype;t.Fl=k;t.Qj="";t.set=function(b,c){this.Fl.set(this.Qj+b,c)};t.get=function(b){return this.Fl.get(this.Qj+b)};t.remove=function(b){this.Fl.remove(this.Qj+b)};t.ad=function(b){var c=this.Fl.ad(j),d=this,e=new Nd;e.next=function(){for(var e=c.next();e.substr(0,d.Qj.length)!=d.Qj;)e=c.next();return b?e.substr(d.Qj.length):d.Fl.get(e)};return e};a.Yi={TI:"UserDataSharedStore",create:function(b){return Yi.HK(b)||Yi.IK(b)},HK:function(b){var c=new Pi;return c.Yr()?b?new Xi(c,b):c:k},tW:function(b){var c=new Qi;return c.Yr()?b?new Xi(c,b):c:k},IK:function(b){b=new Si(b||Yi.TI);return b.Yr()?b:k}};a.Zi={};za(Zi,Yi);Zi.create=function(b){var c=Yi.create(b);c.Bd=function(b,e){try{c.set(b,e)}catch(g){}};return c};a.$i=Zi.create();a.aj=function(b){var c=b.yc;c.category&&c.action&&X(c.category,b.type.replace("!","")+"_"+c.action,c.label,c.value)},a.X=function(b,c,d,e,g){window._gaq||(window._gaq=[]);"feed"===b&&Xa(window.location.href,"topstory")&&(b="topstory");var h=$("#zh-question-list");"feed"===b&&h.length&&"topstory"===h.attr("data-feedtype")&&(b="topstory");d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e,!!g]);Ag&&window.console&&console.log("trackEvent(new)",z.toArray(arguments))};
X.z=function(){function b(b){return{member:"people",favlist:"collection"}[b]||b}$(document).on("videobox:open",function(){X("video","click_videobox_open")});$("#js-sidebar-app-link").click(function(){var b=$(this).hasClass("iphone")?"click_zhihu_ios_dl_link":"click_zhihu_android_dl_link";X("app-promotion",b,"sidebar_not_logged_in")});$("#zh-top-link-logo").click(function(){X("navigation","visit_home","top_logo")});$("#zh-top-link-home").click(function(){X("navigation","visit_home","top_nav_home")});
$("#top-nav-dd-topic").click(function(){X("navigation","visit_topics_activities","top_nav_topic")});$("#ga_sidebar_topic_all").click(function(){X("navigation","visit_topics_activities","sidebar_topic_all")});$(".zm-side-pinned-topics .zm-side-nav a.zm-side-nav-link").eq(0).click(function(){X("navigation","visit_topic","sidebar_topic_1")}).end().eq(1).click(function(){X("navigation","visit_topic","sidebar_topic_2")}).end().eq(2).click(function(){X("navigation","visit_topic","sidebar_topic_3")});var c=
$("#zh-trendings");c.on("click",'li a[href^="/topic/"]',function(b){b=$(b.target).closest("li").index()+1;X("navigation","visit_topic","sidebar_intresting_people_"+b+"_topic")});c.on("click",'li a[href^="/people"]',function(b){b=$(b.target).closest("li").index()+1;X("navigation","visit_people_profile","sidebar_interesting_people_"+b)});$("#zh-single-question-page .zm-tag-editor-labels a.zm-item-tag").click(function(){X("question_answer","visit_topic","question_topic")});P(Y,"ga_serach_select",function(b){"topic"===
b.data.type&&X("search","visit_topic","top_search_list_"+(b.data.index+1))});var d=$(".zm-topic-list-container").on("click",'.subtopic a[href^="/topic/"]',function(){X("topic","visit_topic","topic_activity_children_topic")});$(".zm-side-section-inner.child-topic").on("click",'a.zm-item-tag[href^="/topic/"]',function(){X("topic","visit_topic","topic_sidebar_children_topic")});$(".zm-topic-cat-hot").on("click",'a[href^="/topic/"]',function(){X("topic","visit_topic","topic_square_sidebar")});$(".zm-topic-cat-sub").on("click",
'a[href^="/topic/"]',function(){X("topic","visit_topic","topic_square_list_item")});$('a.zm-side-nav-link[href="/topics"]').click(function(){X("navigation","visit_topic_square","sidebar_topic_square")});$('a.zm-side-nav-link[href="/invitation/email"]').click(function(){X("navigation","visit_invite_by_email","sidebar_invite_friend")});$("#zh-tooltip").on("click",".zh-profile-card.member .avatar-link",function(){X("navigation","visit_people_profile","hovercard_people_name")});var e=$("#zh-top-nav-live-new").on("click",
'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-list-content-medium a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_follower_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-item-link-avatar',function(){X("notification","visit_people_profile","top_nav_noti_follower_people_avatar")});e.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/people"]',function(){X("notification","visit_people_profile",
"top_nav_noti_vote_thank_people_name")});e.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_invitation_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_qcomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/people"]',
function(){X("notification","visit_people_profile","top_nav_noti_message_acomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_new_answer_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_edit_people_name")});var g=$("#js-home-feed-list");g.on("click",
'div[data-feedtype="ANSWER_VOTE_UP"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_source_people_name")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_source_people_avatar")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .zm-item-answer-author-info a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_author_name")});g.on("click",
'div[data-feedtype="ANSWER_CREATE"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_answer_source_people_name")});g.on("click",'div[data-feedtype="ANSWER_CREATE"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_answer_source_people_avatar")});g.on("click",'div[data-feedtype="QUESTION_FOLLOW"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_follow_source_people_name")});g.on("click",'div[data-feedtype="QUESTION_FOLLOW"] >.avatar a[href^="/people"]',
function(){X("feed","visit_people_profile","feed_question_follow_source_people_avatar")});g.on("click",'div[data-feedtype="QUESTION_CREATE"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_ask_source_people_name")});g.on("click",'div[data-feedtype="QUESTION_CREATE"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_ask_source_people_avatar")});var h=$("#zh-question-answer-wrap").on("click",'.zm-item-answer-author-wrap >a[href^="/people"]',
function(){X("question_answer","visit_people_profile","question_answer_author_name")}).on("click",".zm-item-answer-author-wrap img.zm-list-avatar",function(){X("question_answer","visit_people_profile","question_answer_author_avatar")});h.on("click",".voters a",function(){var b=$(this).parents(".voters").find("a").index(this)+1;X("question_answer","visit_people_profile","question_answer_voters_"+b)});h.on("click",'.zm-comment-hd a[href^="/people"]',function(){X("question_answer","visit_people_profile",
"question_answer_comment_author_name")}).on("click",".zm-comment-list img.zm-item-img-avatar",function(){X("question_answer","visit_people_profile","question_answer_comment_author_avatar")});$(".zh-question-followers-sidebar",'a[href^="/people"]',function(){X("question_answer","visit_people_profile","question_sidebar_followers_avatar")});P(Y,"ga_serach_select",function(b){"people"===b.data.type&&X("search","visit_people_profile","top_search_list_"+(b.data.index+1))});$("#zh-topic-top-answerer").on("click",
'.zm-topic-side-person-item-content a[href^="/people/"]',function(){X("topic","visit_people_profile","topic_sidebar_top_answerer_people_name")}).on("click","img.zm-list-avatar",function(){X("topic","visit_people_profile","topic_sidebar_top_answerer_people_avatar")});e.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_vote_thank_question")});e.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/question"]',
function(){X("notification","visit_question","top_nav_noti_message_invitation_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_message_qcomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_message_acomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/question"]',
function(){X("notification","visit_question","top_nav_noti_message_new_answser_question")});g.on("click",'div[data-feedtype="ROUNDTABLE_ADD_RELATED"] h2 a[href^="/question"]',function(){var b="q"===$(this).closest("div[data-feedtype]").data("type");X("feed","visit_question",b?"roundtable_question_add":"roundtable_answer_add")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] h2 a[href^="/question"]',function(){X("feed","visit_question","feed_answer_vote_question")}).on("click",'div[data-feedtype="ANSWER_CREATE"] h2 a[href^="/question"]',
function(){X("feed","visit_question","feed_answer_answer_question")}).on("click",'div[data-feedtype="QUESTION_FOLLOW"] h2 a[href^="/question"]',function(){X("feed","visit_question","feed_question_follow_question")}).on("click",'div[data-feedtype="QUESTION_CREATE"] a.meta-item[href^="/question"]',function(){var b=parseInt($(this).text(),10);b?X("feed","visit_question","feed_question_follow_has_answers",b):X("feed","visit_question","feed_question_follow_has_no_answer")}).on("click",'div[data-feedtype="QUESTION_CREATE"] h2 a[href^="/question"]',
function(){X("feed","visit_question","feed_question_ask_question")});P(Y,"ga_serach_select",function(b){"question"===b.data.type&&X("search","visit_question","top_search_list_"+(b.data.index+1))});$("#zh-question-related-questions").on("click","a",function(b){b=$(b.delegateTarget).find("a").index(this)+1;X("question_answer","visit_question","question_answer_sidebar_related_questions_"+b)});$('#zh-question-followers-sidebar a[href^="/question"][href$="/followers"]').click(function(){X("question_answer",
"visit_question_followers","question_followers_count")});e.on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/question"]',function(){X("notification","visit_question_log","top_nav_noti_message_edit_question")});$('.zu-main-sidebar a[href^="/question"][href$="/log"]').click(function(){X("question_answer","visit_question_log","question_log")});$('div[data-feedtype="ANSWER_CREATE"] .answer-date-link').click(function(){X("feed","visit_answer","feed_answer_answer_date")});$('div[data-feedtype="ANSWER_VOTE_UP"] .answer-date-link').click(function(){X("feed",
"visit_answer","feed_answer_vote_date")});$("zh-single-question-page .answer-date-link").click(function(){X("question_answer","visit_answer","question_answer_date")});$('a.zm-side-nav-link[href="/draft"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_draft","sidebar_my_draft",b)});$('a.zm-side-nav-link[href="/collections"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_collections","sidebar_my_collections",
b)});$('a.zm-side-nav-link[href="/question/invited"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_question_invited","sidebar_question_invited",b)});$('a[href="http://creativecommons.org"]').click(function(){X("navigation","visit_cc_license")});P(Y,"ga_click_back_to_top",function(){X("navigation","click_back_to_top")});P(Y,"ga_click_collapse_answer",function(){X("navigation","click_collapse_answer")});P(Y,"ga_click_follow",function(b){if("people"===
b.data.type&&b.data.wj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=e.find('a[name="focus"]').index(b.target)+1,X("notification","click_follow_people","top_nav_noti_follower_follow",b)):0<d.parents("#zh-tooltip").length?X("navigation","click_follow_people","hovercard_follow"):0<d.parents("#zh-trendings").length?(b=c.find("a.follow").index(b.target)+1,X("navigation","click_follow_people","sidebar_intresting_people_"+b+"_follow")):0<d.parents("#zh-topic-top-answerer").length?X("topic",
"click_follow_people","topic_sidebar_top_answerer_follow"):X("navigation","click_follow_people","other_follow")}});P(Y,"ga_click_follow",function(b){if("people"===b.data.type&&!b.data.wj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=e.find('a[name="focus"]').index(b.target)+1,X("notification","click_unfollow_people","top_nav_noti_follower_unfollow",b)):0<d.parents("#zh-tooltip").length?X("navigation","click_unfollow_people","hovercard_unfollow"):0<d.parents("#zh-trendings").length?
(b=c.find("a.follow").index(b.target)+1,X("navigation","click_unfollow_people","sidebar_intresting_people_"+b+"_unfollow")):0<d.parents("#zh-topic-top-answerer").length&&X("topic","click_unfollow_people","topic_sidebar_top_answerer_unfollow")}});P(Y,"ga_click_follow",function(b){"question"===b.data.type&&b.data.wj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?X("feed","click_follow_question","feed_answer_vote_follow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?
X("feed","click_follow_question","feed_answer_answer_follow_question"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?X("feed","click_follow_question","feed_question_follow_follow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?X("feed","click_follow_question","feed_question_ask_follow_question"):0<b.parents("#zh-question-side-header-wrap").length?X("question_answer","click_follow_question","question_follow_question"):0<b.parents(".zm-topic-list-container").length&&
X("topic","click_follow_question","topic_activity_follow_question"))});P(Y,"ga_click_follow",function(b){"question"===b.data.type&&!b.data.wj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?X("feed","click_unfollow_question","feed_answer_vote_unfollow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?X("feed","click_unfollow_question","feed_answer_answer_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_unFOLLOW"]').length?X("feed","click_unfollow_question",
"feed_question_follow_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?X("feed","click_unfollow_question","feed_question_ask_unfollow_question"):0<b.parents("#zh-question-side-header-wrap").length?X("question_answer","click_unfollow_question","question_unfollow_question"):0<b.parents(".zm-topic-list-container").length&&X("topic","click_unfollow_question","topic_activity_unfollow_question"))});P(Y,"ga_click_follow",function(b){"topic"===b.data.type&&b.data.wj&&(b=$(b.target),
0<b.parents(".zm-search-result-topic-wrap").length?X("search","click_follow_topic","search_result_card_topic_follow"):b.hasClass("zu-edit-button")&&b.parent().hasClass("source")&&X("topstory","click_follow_topic","topstory_answer_promote"))});P(Y,"ga_click_follow",function(b){"topic"===b.data.type&&!b.data.wj&&(b=$(b.target),0<b.parents(".zm-search-result-topic-wrap").length?X("search","click_unfollow_topic","search_result_card_topic_unfollow"):b.hasClass("zu-edit-button")&&b.parent().hasClass("source")&&
X("topstory","click_unfollow_topic","topstory_answer_promote"))});P(Y,"ga_click_follow",function(b){"favlist"===b.data.type&&(b.data.wj?X("collection","click_follow_collection","collection_follow"):X("collection","click_unfollow_collection","collection_follow"))});P(Y,"ga_click_top_nav_noti",function(b){0<b.data.MH?X("notification","click_top_nav_noti","top_nav_noti_alert",b.data.MH):X("notification","click_top_nav_noti","top_nav_noti_no_alert")});P(Y,"ga_click_top_nav_noti_tab",function(b){X("notification",
"click_top_nav_noti_tab",["top_nav_noti_tab_message","top_nav_noti_tab_follower","top_nav_noti_tab_vote"][b.data.dh])});P(Y,"ga_click_enlarge_image",function(b){b=$(b.target).parents("div[data-feedtype]").attr("data-feedtype");"ANSWER_CREATE"===b?X("navigation","click_enlarge_image","feed_answer_answer_image"):"ANSWER_VOTE_UP"===b&&X("navigation","click_enlarge_image","feed_answer_vote_image")});P(Y,"ga_click_feed_more",function(b){b.data&&b.data.Qn?X("feed","click_feed_more","feed_more_button"):
X("feed","click_feed_more","feed_more_auto_load")});P(Y,"ga_click_feed_fresh",function(b){X("feed","click_feed_fresh","feed_fresh_button",b.data.count)});P(Y,"ga_click_topic_more",function(b){var c="activity";-1<location.href.indexOf("questions")&&(c="questions");b.data&&b.data.Qn?X("feed","click_topic_more","topic_"+c+"_more_button"):X("feed","click_topic_more","topic_"+c+"_more_auto_load")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.inline-block[name="toggleExpanded"]',function(){X("feed",
"click_expand","feed_answer_vote_expand")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.zm-item-vote-count[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_vote_vote_count")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.inline-block[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_answer_expand")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.zm-item-vote-count[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_answer_vote_count")});
h=$("zh-single-question-page").on("click",'#zh-question-detail a.inline-block[name="expand"]',function(){X("question_answer","click_expand","question_supplement_expand")});h.on("click",'.zm-item-answer a[name="more"]',function(){X("question_answer","click_expand","question_answer_voters_more")});h.on("click","#zh-question-collapsed-switcher",function(){X("question_answer","click_expand","question_answer_folded_expand")});d.on("click",'a.inline-block[name="expand"]',function(){X("topic","click_expand",
"topic_activity_expand")}).on("click",'a.zm-item-vote-count[name="expand"]',function(){X("topic","click_expand","topic_activity_vote_count")});P(Y,"ga_click_sorter_item",function(b){(b={added_time:"time",vote:"vote"}[b.data.key])&&X("question_answer","click_sort_answer","question_answer_sorting_"+b)});P(Y,"ga_click_vote_up",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_up";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_up";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_up";else return;X("vote","click_vote_up_answer",b)});P(Y,"ga_click_vote_down",function(b){b=$(b.target.h());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_down";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_down";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_down";else return;X("vote","click_vote_down_answer",
b)});P(Y,"ga_click_thank_answer",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_thank";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_thank";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_thank";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_thank";else return;X("vote","click_thank_answer",b)});P(Y,"ga_click_share_answer_box",function(b){b=$(b.target);
if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_share";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_share";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_share";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_share";else return;X("share","click_share_answer_box",b)});P(Y,"ga_click_share_question_box",function(b){$(b.target);var c="question_question_share",d={sina:"question_sidebar_share_weibo",
mail:"question_sidebar_share_email",letter:"question_sidebar_share_message"};b.data&&b.data.type&&(c=d[b.data.type]);X("share","click_share_answer_box",c)});P(Y,"ga_click_share_answer_weibo",function(b){b=b.data.XH;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_answer_sina_tencent_weibo";else if(z.contains(b,"qq"))b="share_answer_tencent_weibo";else if(z.contains(b,"sina"))b="share_answer_sina_weibo";else return;X("share","click_share_answer_weibo",b)});P(Y,"ga_click_share_answer_email",function(){X("share",
"click_share_answer_email")});P(Y,"ga_click_share_answer_message",function(){X("share","click_share_answer_message")});P(Y,"ga_click_share_question_weibo",function(b){b=b.data.XH;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_tencent_weibo";else if(z.contains(b,"qq")&&!z.contains(b,"sina"))b="share_question_tencent_weibo";else if(!z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_weibo";else return;X("share","click_share_answer_weibo",b)});P(Y,"ga_click_share_question_email",
function(){X("share","click_share_question_email")});P(Y,"ga_click_share_question_message",function(){X("share","click_share_question_message")});P(Y,"ga_click_report_box",function(c){X("report","click_report_"+b(c.data.type)+"_box")});P(Y,"ga_click_report",function(c){X("report","click_report_"+b(c.data.type))});P(Y,"ga_click_collect_answer_box",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_collect";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_collect";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_collect";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_collect";else return;X("collection","click_collect_answer_box",b)});P(Y,"ga_click_collect_answer",function(b){X("collection","click_collect_answer","collection_count",b.data.count)});P(Y,"ga_click_add_collection",function(){X("collection","click_add_collection","collect_answer_window_add_collection")});P(Y,"ga_click_answer_not_helpful",
function(b){b=$(b.target);if(0<b.closest('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_not_helpful";else if(0<b.closest('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_not_helpful";else if(0<b.closest("#zh-question-answer-wrap").length)b="question_answer_not_helpful";else if(0<b.closest(".zm-topic-list-container").length)b="topic_activity_not_helpful";else return;X("vote","click_answer_not_helpful",b)});g.on("click");P(Y,"ga_click_question_ignore",function(b){b=
$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_ignore_question";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length)b="feed_question_follow_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length)b="feed_question_ask_ignore_question";else return;X("feed","click_question_ignore",b)});P(Y,"ga_question_topic_edit_start",
function(){X("edit","click_edit_question_topic","question_topic_edit_start")});P(Y,"ga_question_topic_edit_finish_changed",function(){X("edit","click_edit_question_topic","question_topic_edit_finish_changed")});P(Y,"ga_question_title_edit_start",function(){X("edit","click_edit_question_titile","question_title_edit_start")});P(Y,"ga_question_title_edit_cancel",function(){X("edit","click_edit_question_titile","question_title_edit_cancel")});P(Y,"ga_question_title_edit_save_changed",function(){X("edit",
"click_edit_question_titile","question_title_edit_save_changed")});P(Y,"ga_question_title_edit_save_unchanged",function(){X("edit","click_edit_question_titile","question_title_edit_save_unchanged")});P(Y,"ga_question_supplement_edit_start",function(){X("edit","click_edit_question_supplement","question_supplement_edit_start")});P(Y,"ga_question_supplement_edit_cancel",function(){X("edit","click_edit_question_supplement","question_supplement_edit_cancel")});P(Y,"ga_question_supplement_edit_save_changed",
function(){X("edit","click_edit_question_supplement","question_supplement_edit_save_changed")});P(Y,"ga_question_supplement_edit_save_unchanged",function(){X("edit","click_edit_question_supplement","question_supplement_edit_save_unchanged")});$("#zu-top-add-question").click(function(){X("question_answer","click_add_question","top_nav_question_add_start")});$(".zm-topic-ask-in-topic").click(function(){X("question_answer","click_add_question","topic_question_add_start")});P(Y,"ga_click_add_question",
function(b){X("question_answer","click_add_question","question_add_submit_with_topics",b.data.total);X("question_answer","click_add_question","question_add_submit_with_suggested_topics",b.data.Bt);X("question_answer","click_add_question","question_add_submit_with_suggested_topics_percent",Math.round(100*(b.data.Bt/b.data.total)))});$("#zh-question-answer-form-wrap .editable").focus(function(){X("question_answer","click_add_answer","question_answer_add_start")});$("#zh-question-answer-form-wrap .submit-button").click(function(){X("question_answer",
"click_add_answer","question_answer_add_publish")});P(Y,"ga_hover_hovercard",function(b){var b=$(b.target),d,e,g;b.is('[data-tip^="p$"]')?(e="hover_people_hovercard",0<b.parents("div[data-feedtype]").length?(d="feed",0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?0<b.parents(".zm-item-answer-author-wrap").length?g="feed_answer_vote_author_name":0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_vote_source_people_avatar":"feed_answer_vote_author_name"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?
0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_answer_source_people_avatar":"feed_answer_answer_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_follow_source_people_avatar":"feed_question_follow_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length&&0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_ask_source_people_avatar":
"feed_question_ask_source_people_name")):0<b.parents("#zh-trendings").length?(d="navigation",$.contains(c.find("li:nth-child(1)").get(0),b.get(0))?g="sidebar_intresting_people_1":$.contains(c.find("li:nth-child(2)").get(0),b.get(0))?g="sidebar_intresting_people_2":$.contains(c.find("li:nth-child(3)").get(0),b.get(0))&&(g="sidebar_intresting_people_3")):0<b.parents("#zh-single-question-page").length?(d="question_answer",0<b.parents(".zm-item-answer-author-wrap").length?g=0<b.find("img").length?"question_answer_author_avatar":
"question_answer_author_name":0<b.parents(".voters").length?(g=b.parents(".voters").find('a[href^="/people"]').index(b.get(0))+1,g="question_answer_voters_"+g):0<b.parents(".zm-comment-list").length&&(g=0<b.find("img").length?"question_answer_comment_author_avatar":"question_answer_comment_author_name")):0<b.parents("#zh-topic-top-answerer").length&&(d="topic",g=0<b.find("img").length?"topic_sidebar_top_answerer_people_avatar":"topic_sidebar_top_answerer_people_name")):b.is('[data-tip^="t$"]')?(e=
"hover_topic_hovercard",0<b.parents("#zh-single-question-page").length&&(d="question_answer",g="question_topic")):b.is('[data-tip^="c$"]')?(e="hover_column_hovercard",0<b.parents("div[data-feedtype]").length&&(d="feed",0<b.parents('div[data-feedtype="ARTICLE_VOTE_UP"]').length?g="feed_article_vote":0<b.parents('div[data-feedtype="ARTICLE_CREATE"]').length&&(g="feed_article_create"))):b.is('[data-tip^="r$"]')&&(e="hover_roundtable_hovercard",d="feed",0<b.parents('div[data-feedtype="MEMBER_FOLLOW_ROUNDTABLE"]').length?
g="feed_follow_roundtable":0<b.parents('div[data-feedtype^="ROUNDTABLE"]').length&&(g="feed_roundtable_others"));d&&(e&&g)&&X(d,e,g,i,j)});P(Y,"ga_click_sign_in",function(b){b.data&&b.data.label?X("sign_in","click_sign_in",b.data.label):X("sign_in","click_sign_in")});P(Y,"ga_click_sign_in_close",function(){X("sign_in","click_sign_in_close","sign_in_box_main")});P(Y,"ga_click_sign_in_weibo",function(b){X("sign_in","click_sign_in_weibo",b.label)});P(Y,"ga_click_sign_in_qq",function(b){X("sign_in","click_sign_in_qq",
b.label)});P(Y,"ga_click_sign_in_switch",function(b){"signin"===b.data?X("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_in"):"signup"===b.data&&X("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_up")});P(Y,"ga_click_sign_in_link_account",function(b){b.target?(b=$(b.target),Xa(b.parent().text(),"该邮箱已注册")?X("sign_in","click_sign_in_link_account","sign_up_error_user_exists_link_account"):Xa(b.parent().text(),"如果你已有知乎帐号")?$(".view-warmup").is(":visible")?X("sign_in","click_sign_in_link_account",
"sign_in_box_splash_link_account"):$(".view-info").is(":visible")&&X("sign_in","click_sign_in_link_account","sign_in_box_sign_up_link_account"):Xa(b.text(),"返回注册")&&X("sign_in","click_sign_in_link_account","sign_in_box_link_account_back")):b.label&&X("sign_in","click_sign_in_link_account",b.label)});P(Y,"ga_click_sign_in_connect",function(b){X("sign_in","click_sign_in_weibo",b.label)});P(Y,"ga_click_sign_in_avatar",function(){X("sign_in","click_sign_in_avatar","sign_in_avatar_upload")});P(Y,"ga_click_sign_in_previous_step",
function(){X("sign_in","click_sign_in_previous_step","sign_in_box_follow_user_previous")});P(Y,"ga_click_follow_topic",function(b){0<b.data?X("sign_in","click_follow_topic","sign_in_box_follow_topic_next",b.data):0===b.data&&X("sign_in","click_follow_topic","sign_in_box_follow_topic_skip")});P(Y,"ga_click_follow_people",function(b){0<b.data?X("sign_in","click_follow_people","sign_in_box_follow_people_next",b.data):0===b.data&&X("sign_in","click_follow_people","sign_in_box_follow_people_skip")});P(Y,
"ga_click_play_video",function(b){X("video","click_play_video",b.label)});P(Y,"ga_visit_home_video",function(){X("video","visit_home_video","home_play_video_auto")});P(Y,"ga_click_close_video",function(b){X("video","click_close_video",b.label)});P(Y,"ga_click_share_video",function(b){X("video","click_share_video",b.label)})};a.bj=function(){};bj.prototype.z=function(){var b=$("#zh-question-related-questions");if(b.length){var c=$("li",b),d,e=1,g=Math.ceil(c.length/5);d={next:function(){1!==g&&(e=e===g?1:e+1,c.hide(),d.NK().show())},NK:function(){var b=5*(e-1);return c.slice(b,b+5)}};$(".next",b).click(function(){d.next();X("question_answer","click_sidebarrelatedquestions_pager")})}};a.dj=function(){var b=[];$(".shameimaru-placeholder").each(function(){var c=$(this);b.push($.get("/node/"+c.data("class"),{params:c.data("params")},function(b){var e=$(b);c.replaceWith(e);$(".shameimaru-close",e).click(function(b){b.preventDefault();$.post("/shameimaru/close",e.data());cj(e[0],j)})}))});$.when.apply(this,b).then(function(){Li.dispatchEvent("alladloaded")})};a.vf=function(b,c){var d;b instanceof vf?(this.we=la(c)?c:b.we,ej(this,b.di),fj(this,b.wp),gj(this,b.Ti),hj(this,b.Tl),ij(this,b.Zf),jj(this,b.gd().clone()),kj(this,b.qn)):b&&(d=String(b).match(we))?(this.we=!!c,ej(this,d[1]||"",j),fj(this,d[2]||"",j),gj(this,d[3]||"",j),hj(this,d[4]),ij(this,d[5]||"",j),jj(this,d[6]||"",j),kj(this,d[7]||"",j)):(this.we=!!c,this.zd=new lj(k,0,this.we))};t=vf.prototype;t.di="";t.wp="";t.Ti="";t.Tl=k;t.Zf="";t.qn="";t.lO=m;t.we=m;
t.toString=function(){var b=[],c=this.di;c&&b.push(mj(c,nj),":");if(c=this.Ti){b.push("//");var d=this.wp;d&&b.push(mj(d,nj),"@");b.push(encodeURIComponent(String(c)));c=this.Tl;c!=k&&b.push(":",String(c))}if(c=this.Zf)this.Ti&&"/"!=c.charAt(0)&&b.push("/"),b.push(mj(c,"/"==c.charAt(0)?oj:pj));(c=this.zd.toString())&&b.push("?",c);(c=this.qn)&&b.push("#",mj(c,qj));return b.join("")};
t.resolve=function(b){var c=this.clone(),d=!!b.di;d?ej(c,b.di):d=!!b.wp;d?fj(c,b.wp):d=!!b.Ti;d?gj(c,b.Ti):d=b.Tl!=k;var e=b.Zf;if(d)hj(c,b.Tl);else if(d=!!b.Zf){if("/"!=e.charAt(0))if(this.Ti&&!this.Zf)e="/"+e;else{var g=c.Zf.lastIndexOf("/");-1!=g&&(e=c.Zf.substr(0,g+1)+e)}g=e;if(".."==g||"."==g)e="";else if(!Xa(g,"./")&&!Xa(g,"/."))e=g;else{for(var e=Fa(g,"/"),g=g.split("/"),h=[],l=0;l<g.length;){var n=g[l++];"."==n?e&&l==g.length&&h.push(""):".."==n?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
e&&l==g.length&&h.push("")):(h.push(n),e=j)}e=h.join("/")}}d?ij(c,e):d=""!==b.zd.toString();d?jj(c,b.zd.toString()?decodeURIComponent(b.zd.toString()):""):d=!!b.qn;d&&kj(c,b.qn);return c};t.clone=function(){return new vf(this)};
a.ej=function(b,c,d){rj(b);b.di=d?c?decodeURIComponent(c):"":c;b.di&&(b.di=b.di.replace(/:$/,""))},a.fj=function(b,c,d){rj(b);b.wp=d?c?decodeURIComponent(c):"":c},a.gj=function(b,c,d){rj(b);b.Ti=d?c?decodeURIComponent(c):"":c},a.hj=function(b,c){rj(b);c?(c=Number(c),(isNaN(c)||0>c)&&f(Error("Bad port number "+c)),b.Tl=c):b.Tl=k},a.uf=function(b){return b.Zf},a.ij=function(b,c,d){rj(b);b.Zf=d?c?decodeURIComponent(c):"":c},a.jj=function(b,c,d){rj(b);c instanceof lj?(b.zd=c,b.zd.oz(b.we)):(d||(c=mj(c,
sj)),b.zd=new lj(c,0,b.we))};t.gd=p("zd");a.kj=function(b,c,d){rj(b);b.qn=d?c?decodeURIComponent(c):"":c},a.rj=function(b){b.lO&&f(Error("Tried to modify a read-only Uri"))};t.oz=function(b){this.we=b;this.zd&&this.zd.oz(b);return this};
a.mj=function(b,c){return oa(b)?encodeURI(b).replace(c,tj):k},a.tj=function(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},a.nj=/[#\/\?@]/g,a.pj=/[\#\?:]/g,a.oj=/[\#\?]/g,a.sj=/[\#\?@]/g,a.qj=/#/g,a.lj=function(b,c,d){this.Ld=b||k;this.we=!!d},a.vj=function(b){if(!b.Gb&&(b.Gb=new Od,b.da=0,b.Ld))for(var c=b.Ld.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=k,h=k;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));
g=uj(b,g);b.add(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};t=lj.prototype;t.Gb=k;t.da=k;t.Ra=function(){vj(this);return this.da};t.add=function(b,c){vj(this);this.Ld=k;var b=uj(this,b),d=this.Gb.get(b);d||this.Gb.set(b,d=[]);d.push(c);this.da++;return this};t.remove=function(b){vj(this);b=uj(this,b);return this.Gb.Hd(b)?(this.Ld=k,this.da-=this.Gb.get(b).length,this.Gb.remove(b)):m};t.clear=function(){this.Gb=this.Ld=k;this.da=0};t.Fb=function(){vj(this);return 0==this.da};
t.Hd=function(b){vj(this);b=uj(this,b);return this.Gb.Hd(b)};t.tg=function(b){var c=this.Ma();return z.contains(c,b)};t.Db=function(){vj(this);for(var b=this.Gb.Ma(),c=this.Gb.Db(),d=[],e=0;e<c.length;e++)for(var g=b[e],h=0;h<g.length;h++)d.push(c[e]);return d};t.Ma=function(b){vj(this);var c=[];if(b)this.Hd(b)&&(c=z.concat(c,this.Gb.get(uj(this,b))));else for(var b=this.Gb.Ma(),d=0;d<b.length;d++)c=z.concat(c,b[d]);return c};
t.set=function(b,c){vj(this);this.Ld=k;b=uj(this,b);this.Hd(b)&&(this.da-=this.Gb.get(b).length);this.Gb.set(b,[c]);this.da++;return this};t.get=function(b,c){var d=b?this.Ma(b):[];return 0<d.length?String(d[0]):c};t.toString=function(){if(this.Ld)return this.Ld;if(!this.Gb)return"";for(var b=[],c=this.Gb.Db(),d=0;d<c.length;d++)for(var e=c[d],g=encodeURIComponent(String(e)),e=this.Ma(e),h=0;h<e.length;h++){var l=g;""!==e[h]&&(l+="="+encodeURIComponent(String(e[h])));b.push(l)}return this.Ld=b.join("&")};
t.clone=function(){var b=new lj;b.Ld=this.Ld;this.Gb&&(b.Gb=this.Gb.clone(),b.da=this.da);return b};a.uj=function(b,c){var d=String(c);b.we&&(d=d.toLowerCase());return d};t.oz=function(b){b&&!this.we&&(vj(this),this.Ld=k,Md.forEach(this.Gb,function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.Ld=k,this.Gb.set(uj(this,e),z.clone(b)),this.da+=b.length))},this));this.we=b};
t.extend=function(b){for(var c=0;c<arguments.length;c++)Md.forEach(arguments[c],function(b,c){this.add(c,b)},this)};a.xj=function(){O.call(this);this.Z=wj;this.kn=this.startTime=k};y(xj,Gd);a.wj=0;xj.prototype.Wh=function(){this.Jd("begin")};xj.prototype.Xh=function(){this.Jd("end")};xj.prototype.Jd=function(b){this.dispatchEvent(b)};a.yj=function(b,c,d){O.call(this);this.Cj=b;this.Hg=c||0;this.ca=d;this.Ik=v(this.yg,this)};y(yj,O);t=yj.prototype;t.vd=0;t.w=function(){yj.n.w.call(this);this.stop();delete this.Cj;delete this.ca};t.start=function(b){this.stop();this.vd=Ld(this.Ik,la(b)?b:this.Hg)};t.stop=function(){this.Xb()&&Hd.clearTimeout(this.vd);this.vd=0};t.fire=function(){this.stop();this.yg()};t.Xb=function(){return 0!=this.vd};t.yg=function(){this.vd=0;this.Cj&&this.Cj.call(this.ca)};a.zj={},a.Aj=k,a.Bj=function(b){b=ua(b);delete zj[b];G.Fb(zj)&&Aj&&Aj.stop()},a.Cj=function(){Aj||(Aj=new yj(function(){var b=Aa();G.forEach(zj,function(d){d.pv(b)});G.Fb(zj)||Cj()},20));var b=Aj;b.Xb()||b.start()};a.Dj=function(b,c,d,e){xj.call(this);(!ma(b)||!ma(c))&&f(Error("Start and end parameters must be arrays"));b.length!=c.length&&f(Error("Start and end points must be the same length"));this.bp=b;this.oL=c;this.duration=d;this.SA=e;this.coords=[];this.si=m};y(Dj,xj);t=Dj.prototype;t.If=u(50);t.bD=0;t.progress=0;t.Cx=k;
t.play=function(b){if(b||this.Z==wj)this.progress=0,this.coords=this.bp;else if(1==this.Z)return m;Bj(this);this.startTime=b=Aa();-1==this.Z&&(this.startTime-=this.duration*this.progress);this.kn=this.startTime+this.duration;this.Cx=this.startTime;this.progress||this.Wh();this.Jd("play");-1==this.Z&&this.Jd("resume");this.Z=1;var c=ua(this);c in zj||(zj[c]=this);Cj();this.pv(b);return j};t.stop=function(b){Bj(this);this.Z=wj;b&&(this.progress=1);Ej(this,this.progress);this.Jd("stop");this.Xh()};
t.w=function(){this.Z==wj||this.stop(m);this.Jd("destroy");Dj.n.w.call(this)};t.pv=function(b){this.progress=(b-this.startTime)/(this.kn-this.startTime);1<=this.progress&&(this.progress=1);this.bD=1E3/(b-this.Cx);this.Cx=b;Ej(this,this.progress);1==this.progress?(this.Z=wj,Bj(this),this.Jd("finish"),this.Xh()):1==this.Z&&this.gy()};a.Ej=function(b,c){qa(b.SA)&&(c=b.SA(c));b.coords=Array(b.bp.length);for(var d=0;d<b.bp.length;d++)b.coords[d]=(b.oL[d]-b.bp[d])*c+b.bp[d]};t.gy=function(){this.Jd("animate")};
t.Jd=function(b){this.dispatchEvent(new Fj(b,this))};a.Fj=function(b,c){gd.call(this,b);this.coords=c.coords;this.x=c.coords[0];this.y=c.coords[1];this.hY=c.coords[2];this.duration=c.duration;this.progress=c.progress;this.MW=c.bD;this.state=c.Z;this.YV=c};y(Fj,gd);a.Gj=function(b,c,d,e,g){Dj.call(this,c,d,e,g);this.element=b};y(Gj,Dj);t=Gj.prototype;t.jh=ia;t.xd=function(){la(this.lf)||(this.lf=eg(this.element));return this.lf};t.gy=function(){this.jh();Gj.n.gy.call(this)};t.Xh=function(){this.jh();Gj.n.Xh.call(this)};t.Wh=function(){this.jh();Gj.n.Wh.call(this)};a.Hj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Gj.apply(this,arguments)};y(Hj,Gj);
Hj.prototype.jh=function(){if(this.si){var b=this.element,c=Math.round(this.coords[0]),c=Math.max(c,0);b.scrollLeft=eg(b)?C?-c:!A||!E("8")?b.scrollWidth-c-b.clientWidth:c:c}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};a.Ij=function(b,c,d,e,g){pa(c)&&(c=[c]);pa(d)&&(d=[d]);Gj.call(this,b,c,d,e,g);(1!=c.length||1!=d.length)&&f(Error("Start and end points must be 1D"))};y(Ij,Gj);Ij.prototype.jh=function(){pg(this.element,this.coords[0])};
Ij.prototype.show=function(){this.element.style.display=""};Ij.prototype.hide=function(){this.element.style.display="none"};a.Jj=function(b,c,d){Ij.call(this,b,1,0,c,d)};y(Jj,Ij);Jj.prototype.Wh=function(){this.show();Jj.n.Wh.call(this)};Jj.prototype.Xh=function(){this.hide();Jj.n.Xh.call(this)};a.Kj=function(b,c,d){Ij.call(this,b,0,1,c,d)};y(Kj,Ij);Kj.prototype.Wh=function(){this.show();Kj.n.Wh.call(this)};
a.Lj=function(b,c,d,e,g){(3!=c.length||3!=d.length)&&f(Error("Start and end points must be 3D"));Gj.apply(this,arguments)};y(Lj,Gj);Lj.prototype.jh=function(){for(var b=[],c=0;c<this.coords.length;c++)b[c]=Math.round(this.coords[c]);b="rgb("+b.join(",")+")";this.element.style.backgroundColor=b};a.Mj=function(b){return b*b*b},a.Nj=function(b){return 1-Math.pow(1-b,3)},a.Oj=function(b){return 3*b*b-2*b*b*b};a.Pj=/^\/node\//;$.ajaxPrefilter(function(b,c){var d=c.data,e;if(d&&(e=d.params)&&"object"===$.type(e)&&Pj.test(c.url))d.params=Zc(e),b.data=$.param(d)});
a.Qj=function(b,c){return $.post("/node/MemberFollowBaseV2",{method:c?"follow_member":"unfollow_member",params:{hash_id:b}})},a.Rj=function(b,c){return $.post("/node/QuestionFollowBaseV2",{method:c?"follow_question":"unfollow_question",params:{question_id:b}})},a.Sj=function(b,c){return $.post(c?"/collection/follow":"/collection/unfollow",{favlist_id:b})},a.Tj=function(b,c){return $.post("/node/TopicFollowBaseV2",{method:c?"follow_topic":"unfollow_topic",params:{topic_id:b}})};a.Uj=function(b,c){return $.post("/node/ColumnFollowBaseV2",{method:c?"follow_column":"unfollow_column",params:{column_id:b}})};a.Vj=function(b,c){return $.post("/roundtable/"+b,{action:c?"follow":"unfollow"})};a.Wj=function(){this.Lr=[];this.loaded=[];this.oG=[];this.zr=m};Wj.prototype.add=function(b){b&&!z.find(this.Lr,function(c){return c===b})&&(this.zr?b.src=b.getAttribute("data-source"):(this.Lr.push(b),this.loaded.push(0)))};Wj.prototype.z=function(){z.forEach(this.Lr,function(b){this.oG.push(dg(b).y)},this);this.JB();P(window,"scroll",this.JB,m,this);this.zr=j};
Wj.prototype.eK=function(){var b=Zb(document).y+1200;z.forEach(this.Lr,function(c,d){!this.loaded[d]&&b>this.oG[d]&&(this.loaded[d]=1,c.src=c.getAttribute("data-source"))},this)};Wj.prototype.JB=function(){this.KB&&clearTimeout(this.KB);this.KB=setTimeout(v(this.eK,this),100)};a.Xj=new Wj;Xj.z();a.Yj={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},a.Zj=G.TC(Yj,function(b,c){return c in document}),a.$j=Yj[Zj],a.ak=la(Zj);a.bk={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};a.ek=function(b){O.call(this);this.mm={};this.Lg={ek:[],time:0};this.TL=G.yh(ck);this.KS=G.yh(dk);this.eB=j;this.rJ=this.uJ=m;this.TO=j;this.Kg=b;P(this.Kg,"keydown",this.cf,m,this);kb&&(C&&E("1.8"))&&P(this.Kg,"keyup",this.yD,m,this);lb&&!C&&(P(this.Kg,"keypress",this.SD,m,this),P(this.Kg,"keyup",this.TD,m,this))},a.fk=void 0;y(ek,Gd);
a.ck=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],a.dk="color date datetime datetime-local email month number password search tel text time url week".split(" "),a.gk={MI:"shortcut",LI:"shortcut_"};t=ek.prototype;t.fR=function(b,c){hk(this.mm,ik(1,arguments),b)};t.cT=function(b){hk(this.mm,ik(0,arguments),k)};
a.ik=function(b,c){var d;if(oa(c[b])){d=c[b];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],g,h=0;g=d[h];h++){var l=g.split("+"),n;g=0;for(var q,r=0;q=l[r];r++){switch(q){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}n=q;if(!fk){l={};q=i;for(q in bk)l[bk[q]]=q;fk=l}n=fk[n];break}e.push({keyCode:n,sF:g})}d=e}else{e=c;h=b;ma(c[b])&&(e=c[b],h=0);for(d=[];h<e.length;h+=2)d.push({keyCode:e[h],sF:e[h+
1]})}return d};t.gA=function(){this.mm={}};t.w=function(){ek.n.w.call(this);this.gA();xd(this.Kg,"keydown",this.cf,m,this);kb&&(C&&E("1.8"))&&xd(this.Kg,"keyup",this.yD,m,this);lb&&!C&&(xd(this.Kg,"keypress",this.SD,m,this),xd(this.Kg,"keyup",this.TD,m,this));this.Kg=k};t.yD=function(b){if(224==b.keyCode)this.nF=j,Ld(function(){this.nF=m},400,this);else{var c=b.metaKey||this.nF;if((67==b.keyCode||88==b.keyCode||86==b.keyCode)&&c)b.metaKey=c,this.cf(b)}};
a.jk=function(b){return lb&&!C&&b.ctrlKey&&b.altKey&&!b.shiftKey};t.SD=function(b){32<b.keyCode&&jk(b)&&(this.DE=j)};t.TD=function(b){!this.DE&&jk(b)&&this.cf(b)};a.hk=function(b,c,d){var e=c.shift(),e=e.keyCode&255|e.sF<<8,g=b[e];g&&(d&&(0==c.length||oa(g)))&&f(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(g||(g=b[e]={}),hk(g,c,d)):b[e]=d},a.kk=function(b,c,d,e){d=d||0;return(e=(e||b.mm)[c[d]])&&!oa(e)&&1<c.length-d?kk(b,c,d+1,e):e};
t.cf=function(b){var c;c=b.keyCode;if(16==c||17==c||18==c)c=m;else{var d=b.target,e="TEXTAREA"==d.tagName||"INPUT"==d.tagName||"BUTTON"==d.tagName||"SELECT"==d.tagName,g=!e&&(d.isContentEditable||d.ownerDocument&&"on"==d.ownerDocument.designMode);c=!e&&!g||this.TL[c]||this.rJ?j:g?m:this.TO&&(b.altKey||b.ctrlKey||b.metaKey)?j:"INPUT"==d.tagName&&this.KS[d.type]?13==c:"INPUT"==d.tagName||"BUTTON"==d.tagName?32!=c:m}if(c)if("keydown"==b.type&&jk(b))this.DE=m;else{c=(C?th(b.keyCode):b.keyCode)&255|((b.shiftKey?
1:0)|(b.ctrlKey?2:0)|(b.altKey?4:0)|(b.metaKey?8:0))<<8;var h,l,d=Aa();this.Lg.ek.length&&1500>=d-this.Lg.time?h=kk(this,this.Lg.ek):this.Lg.ek.length=0;h=h?h[c]:this.mm[c];h||(h=this.mm[c],this.Lg.ek=[]);h&&oa(h)?l=h:h?(this.Lg.ek.push(c),this.Lg.time=d,C&&b.preventDefault()):this.Lg.ek.length=0;l&&(this.eB&&b.preventDefault(),this.uJ&&b.stopPropagation(),h=b.target,c=this.dispatchEvent(new lk(gk.MI,l,h)),(c&=this.dispatchEvent(new lk(gk.LI+l,l,h)))||b.preventDefault(),this.Lg.ek.length=0)}};
a.lk=function(b,c,d){gd.call(this,b,d);this.identifier=c};y(lk,gd);a.mk=function(b){O.call(this);this.ef(b)};y(mk,O);a.nk=[];t=mk.prototype;t.ef=function(b){nk.push(this);this.Fk=new Od;this.ca=new ek(b);this.ca.eB=m;this.ca.addEventListener("shortcut",this.kQ,m,this)};t.register=function(b,c,d){this.Lm={key:b,action:c,context:d};this.ca.fR(b,b);this.Fk.set(b,this.Lm);return this};t.dT=function(b){this.Lm=k;this.ca.cT(b,b);this.Fk.remove(b);return this};t.gA=function(){this.Lm=k;this.ca.gA();this.Fk.clear();return this};a.ok=function(b,c){b.Lm.Hb=c;return b};
t.kQ=function(b){var c=this.Fk.get(b.identifier);c&&c.action.call(c.context,b)};t.w=function(){mk.n.w.call(this);z.remove(nk,this);this.ca.G();this.Fk=this.Lm=this.ca=k};a.pk=new mk(document);pk.eI=function(b){return new mk(b)};a.qk=function(b){var c=m,d;return function(){if(c)return d;c=j;return d=b.apply(this,arguments)}},a.rk=function(b,c){var d=zc(b,function(b){return 3===b.nodeType&&!Ka(b.nodeValue)})[0];d&&(d.nodeValue=c)},a.cj=function(b,c){var d=new Jj(b,500);c&&P(d,"finish",v(function(){N(this)},b));d.play()},a.sk=function(b,c,d,e){"bottom"===e&&(e="b");var g="";(d===m?m:j)&&(g='data-tip="t$'+(e||"t")+"$"+b[1]+'"');return["<a ",g,' class="',c||"zm-item-tag",'" href="/topic/',b[1],'">',b[0],"</a>"].join("")},a.tk=
function(b){return!b?"":b.replace(/^\s+/,"").replace(/\s+$/,"")},a.uk=void 0,a.vk=RegExp("^⁠+|⁠+$");uk=function(b){return b.replace(vk,"")};
a.wk=function(){return'<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>'},a.xk=function(b,c,d){var e;b&&(c=$(b).data("animation")||new Lj(b,[255,255,150],c||[255,255,255],d||2E3),$(b).data("animation",c),1==c.Z&&c.stop(j),e=b.style.backgroundColor,wd(c,"end",function(){Tf(this.element,"background-color",e)},m,c),c.play())},a.yk=function(b,c,d){b&&(ak&&document[Zj]?P(document,$j,function g(){document[Zj]||(xk(b,c,d),xd(document,$j,g))}):xk(b,c,d))},
a.zk=function(){return window.Modernizr.cssanimations&&window.Modernizr.csstransforms},a.Ak=function(b,c,d){var e=$(b);e.addClass("animated "+c);$(b).one("webkitAnimationEnd animationend",function(){e.removeClass("animated "+c);qa(d)&&d()})},a.Bk=function(b){var c=0,d=0;do d=b.indexOf("?",d),-1!==d&&(c++,d+=1);while(-1!==d);return c},a.Ck=function(b,c,d){c=z.slice(b.data,1);if("topic"===b.data[0]){var b=(c[2]?'<img class="zm-item-img-avatar zg-left" src="'+c[2]+'">':"")+'<span class="zu-autocomplete-row-name'+
(c[3]?"":" zu-autocomplete-row-name-info")+'" title="'+c[0]+'">'+c[0]+"</span>",e=5<c.length&&c[5];4<=c.length&&(b+='<span class="zg-gray-normal zu-autocomplete-row-description">',c[4]||e?(e&&(b+="又称 "+c[5]),c[4]&&e&&(b+="，"),c[4]&&(b+=c[4]+" 人关注")):b+="&nbsp;",b+="</span>");d.innerHTML=b}else"people"===b.data[0]?d.innerHTML='<img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+
(c[4]||"&nbsp;")+"</span>":"question"===b.data[0]?d.innerHTML=c[0]+'<span class="zm-ac-gray">问题</span>':"plain_text"===b.data[0]?(d.innerHTML=b.data[1],F.add(d,c[1])):"sina"===b.data[0]&&(d.innerHTML=c[0])},a.Dk=function(b,c,d){var e,c=z.slice(b.data,1);if("topic"===b.data[0]){b=["<a ",' style="display:block" href="/topic/'+c[1]+'"><span class="zm-item-tag">',c[0],"</span>"].join("");e=6<c.length&&c[6];if(c[5]||e){var b=b+'<span class="zm-ac-gray">',g=[];e&&g.push("又称 "+c[6]);(e=parseInt(c[5],10))&&
g.push(e+" 个精华问答");b+=g.join("，");b+="</span>"}else b+='<span class="zm-ac-gray" >&nbsp;</span>';d.innerHTML=b+"</a>"}else"people"===b.data[0]?d.innerHTML='<a href="/people/'+c[1]+'" title="'+c[0]+'" class="zm-ac-link zm-ac-link-people"><img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal  zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span></a>":"question"===b.data[0]?(e=parseInt(c[3],10),
d.innerHTML=(c[4]?'<a class="zg-star" data-tip="s$b$优质问答" href="/question/'+c[2]+'"></a>':"")+['<a class="zm-ac-link"','href="/question/'+c[2]+'">',c[0]].join("")+('<span class="zm-ac-gray">'+(e?e+" 个回答":"还没有回答")+"</span></a>")):"search_link"===b.data[0]?(d.innerHTML='<a href="/search?q='+c[0]+'&type=question">查看全部搜索结果<i class="zg-icon arrow"></i></a>',F.add(d,"zu-autocomplete-row-search-link")):"plain_text"===b.data[0]?d.innerHTML=c[0]:"sina"===b.data[0]&&(c=['<a href="javascript:;" title="'+c[0]+
'">','<img class="zm-item-img-avatar" src="'+c[2]+'" />',c[0],"</a>"].join(""),d.innerHTML=c);$("a",d).click(function(b){b.preventDefault()})},a.Ek=function(b,c,d){for(d=d||"A";c!=k&&c!==b;){if(c.tagName===d)return c;c=c.parentNode}return k},a.Fk=function(b){this.dO=b;this.data=new Od};Fk.prototype.add=function(b,c){this.dO===m?this.data.set(b,c):this.data.set(encodeURIComponent(b),encodeURIComponent(c))};
Fk.prototype.gd=function(){var b=[];z.forEach(this.data.Db(),function(c){b.push(c+"="+this.data.get(c))},this);return b.join("&")};
a.Gk=function(b){b=tk(b);return!b?0:Math.ceil(b.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,"aaaaaaaaaaaaaaaaaaaa").replace(/\n/g,"a").replace(/\s/g,"a").replace(/[\u3000-\u303F\u4E00-\u9FA5\uf900-\ufa2d\uFF00-\uFFEF]/g,"aa").length/2)},a.Ik=function(b,c,d,e){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e]);Ag&&Hk("trackEvent(deprecated)",z.toArray(arguments))},a.Jk=function(b){b=(Wc($i.get("zhga"))||[]).concat([b]);$i.Bd("zhga",
Zc(b))},a.Kk=void 0,a.Lk={HS:{evaluate:/<%([\s\S]+?)%>/g,YN:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},a.Mk=/.^/,a.Nk=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};
Kk=function(b,c){var d=Lk.HS,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||Mk,function(b,c){return"',_.escape("+Nk(c)+"),'"}).replace(d.YN||Mk,function(b,c){return"',"+Nk(c)+",'"}).replace(d.evaluate||Mk,function(b,c){return"');"+Nk(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("data","_",d);
return c?e(c,Lk):function(b){return e.call(this,b,Lk)}};$(function(){var b=wg(document.body).top;Ok.paddingTop=b});a.Ok={offsetTop:0,paddingTop:0,hB:m},a.Pk=function(b){$(b.target.M.g).off("click.disable-a").on("click.disable-a","a",function(b){b.preventDefault()})},a.Qk=function(b,c){var d=k;return function(){var e=this,g=arguments;clearTimeout(d);d=setTimeout(function(){c.apply(e,g)},b)}},a.Rk=qk(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});a.Sk=function(){O.call(this)};y(Sk,Gd);Sk.prototype.m=function(){return this.Nh||(this.Nh=new me(this))};Sk.prototype.$e=function(b,c){if(!this.g)return k;for(var d=c||"A",e=b;e!=k&&e!==this.g;){if(e.tagName===d)return e;e=e.parentNode}return k};a.Vk=function(b,c){O.call(this);this.CX=k;this.minHeight=c||66;this.Wb=b;this.m().e(this.Wb,["input","propertychange"],this.Qt);Tk(this);Uk(this,j);F.add(this.Wb,"zu-seamless-input-origin-element")};y(Vk,Sk);Vk.prototype.Qt=function(){return Uk(this)};
a.Uk=function(b,c){var d=b.Wb.value.replace(/[<>]/g,"a").replace(/[\n\r]/g,"<br>");if(c||b.BQ!==d)b.BQ=d,b.Uh&&(b.Uh.innerHTML=d,d=b.Uh.scrollHeight,d=d>b.minHeight?d:b.minHeight,b.Wb.style.height=Zf(d,j),b.Wb.style.minHeight=d+"px",b.dispatchEvent("change"))},a.Tk=function(b){if(!b.Uh){var c=$(b.Wb).css("white-space","pre");if(0!==tg(b.Wb).width){var d=M("div",{style:"overflow:hidden;position:relative;height:0;"},b.Uh=M("div","zu-seamless-input-mock-element"));document.body.appendChild(d);$.each("fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),
function(d,g){b.Uh.style[g]=c.css(g)})}}};a.Wk=function(){};ja(Wk);a.Xk=Zi.create("Report"+S.Fe);Wk.prototype.RI='<div id="zh-feedback-form"><select name="type" class="zg-editor-type zg-right"><option value="help">使用帮助 </option><option value="bug">问题反馈</option><option value="search_suggest">搜索反馈</option><option value="suggest">功能建议</option></select><div class="zg-report-title"><span class="zg-gray-darker">请填写你的反馈内容</span><span class="zg-report-msg" style="display:none;">请选择反馈种类：</span></div><div class="zg-editor-simple-wrap zg-form-text-input zg-report-content"><textarea class="zg-editor-input" name="content"></textarea></div></div>';
Wk.prototype.defaults={title:"建议和反馈"};Wk.prototype.Gu=function(b){var c=$("#zh-feedback-form"),d=$("select",c),c=$("textarea",c);new Vk(c[0]);d.toggle(!b.type);c.html(Xk.get("content")||"");c.on("input change",function(){Xk.Bd("content",this.value)})};
Wk.prototype.create=function(b){var c=$.extend(this.defaults,b||{});Ci(c.title,this.RI,function(b){if(b){var e=$("#zh-feedback-form"),b=$(".zg-report-msg",e),g=$("textarea",e),e=$("select",e),e=c.type||e.val(),h=$.trim(g.val());h?(b.hide(),b=new W(j),g=new lj,b.on("success",function(){V("建议发送成功，我们会尽快处理，感谢您的帮助");Xk.remove("content")}),g.add("type",e).add("content",h),b.ajax("/feedback/report",g.toString()),b=i):(b.html("请填写反馈内容").show(),g.focus(),b=m);return b}},this);this.Gu(c)};a.Yk=function(){Uh.call(this,i,i,i);this.KK=S.Cv;this.bo=S.bo;this.gH=""!==this.bo;this.m().e(Li,"/activation/resend-email",xa(this.cH,j))};ja(Yk);y(Yk,xi);t=Yk.prototype;t.hk=Kk('    <% if (showTopTip) { %>       <div class="top-tip well-blue"><%= topTip %></div>    <% } %>    <% if (showForm) { %>    <form class="js-email-form">    <dl class="zm-form-table zm-form-table-wide" style="">      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的注册邮箱：</label>      </dt>      <dd class="zm-form-table-field zg-form-table-count">        <label class=""><%= curEmail %></label></dd>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="new-email">新的登录邮箱：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="text" name="newemail"></dd>      <dd class="zm-form-table-field">        <button class="js-update-email zg-btn-blue">更新邮箱</button>        <a class="js-cancel zm-form-btn-collapse" href="javascript:;">取消</a>      </dd>    </dl>    </form>    <% } %>    <% if (showMiddleTip) { %>    <div class="middle-tip"><%= middleTip %></div>    <% } %>    <% if (showSendEmail) { %>    <div class="">      <dl class="zm-form-table zm-form-table-wide" >        <dt class="zm-form-table-head zm-form-table-head-align-middle">          <label class="">您的<%= isMobile ? "" : "注册" %>邮箱：</label>        </dt>        <dd class="zm-form-table-field zg-form-table-count">          <label class="login-email"><%= curEmail %></label>          <a class="js-change-email" href="javascript:;">修改</a>          <br>        </dd>      </dl>    <% if (sent) { %>    <div style="text-align:center;clear:both;"><span class="zg-medium-gray">已发送</span></div>    <% } else { %>    <div style="text-align:center;margin-bottom:15px;clear:both;"><a class="js-resend" href="javascript:;">重新发送激活邮件</a></div>    <% } %>    </div>    <% } %>    <% if (showEmailUrl) { %>    <div class="email-url">      <a class="zg-btn-blue" target="_blank" href="<%= emailUrl %>">进入我的邮箱 »</a>    </div>    <% } %>    <% if (showBottomTip) { %>    <div class="bottom-tip"><%= bottomTip %></div>    <% } %>    ');
t.zt={showTopTip:j,showSendEmail:j,showBottomTip:j};t.sS={showTopTip:j,showForm:j,showBottomTip:j,showEmailUrl:m};t.tS={showMiddleTip:j};t.X=function(){Yk.n.X.call(this);this.Ya("请激活帐号");Zk(this,Yk.prototype.zt);this.J=$(this.U()).addClass("activate-dialog");$(this.g).css("width","400px");var b=this;$.each({".js-update-email":b.gT,".js-cancel":b.cancel,".js-change-email":b.EB,".js-resend":b.KG},function(c,d){b.J.on("click",c,$.proxy(d,b))})};
a.Zk=function(b,c){var d=$.extend({showTopTip:m,showMiddleTip:m,showBottomTip:m,showEmailUrl:b.gH,showForm:m,showSendEmail:m,isMobile:sb,sent:b.ZG,topTip:"为正常使用知乎提问、回答、评论和编辑功能，请验证您的邮箱、激活帐号。",middleTip:Ha("一封验证邮件已经发到您的新邮箱：<br>%s，请注意查收。",b.$O),bottomTip:"如果您没有收到激活邮件，请注意检查垃圾箱。",curEmail:b.KK,emailUrl:b.bo},c);b.Ha(b.hk(d))};
t.gT=function(){var b=this;$.post("/settings/update_email",b.J.find(".js-email-form").serialize()).done(function(c){c.r?V(c.msg):(b.$O=c.msg[0],b.gH=""!==c.msg[1],b.bo=c.msg[1],Zk(b,Yk.prototype.tS))});return m};t.cH=function(b){this.ZG=b;Zk(this,Yk.prototype.zt)};t.cancel=function(){this.sK?this.D(m):Zk(this,Yk.prototype.zt)};t.EB=function(b){this.sK=b===j;Zk(this,Yk.prototype.sS)};t.KG=function(b){var c=this;$.post("/reactive").done(function(d){d.r?(V(d.msg),b&&c.D(m)):(c.ZG=j,Zk(c,Yk.prototype.zt))})};a.$k=function(b){var c=navigator.userAgent,b={qq:"/oauth/auth/qqconn?next=",sina:"/oauth/auth/sina?next="}[b];!/Mobile/.test(c)||!/CriOS/.test(c)?window.open(b+"/oauth/account_callback","_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no"):location.href=b+"/oauth/account_callback&from="+encodeURIComponent(location.pathname)};$.fn.placeholder=function(b){return this.each(function(){var c=$(this),d=c.data("placeholder");d||c.data("placeholder",d=new al(this,b));d.sq()})};a.al=function(b,c){b&&(this.input=b,"string"===typeof c&&(c={text:c}),G.extend(this.F={},this.defaults,c||{}),this.Dg=k,this.ku())},a.bl="placeholder"in document.createElement("input");t=al.prototype;t.defaults={text:"",offsetParent:k,qB:m};t.WJ=["paddingBottom","paddingTop","paddingLeft","paddingRight"];
t.Zj=function(b){var c=this.input,d=this.F;d.text=b||"";bl?(cl(c)||Nc(c,Uc.Mp,d.text),c.setAttribute("placeholder",d.text)):xc(this.label,d.text)};a.dl=function(b){bl?F.enable(b.input,"placeholder-hilight",m):F.enable(b.label,"placeholder-label-hilight",m)};t.G=function(){this.Dg&&(this.Dg.removeAll(),this.Dg.G());N(this.label);this.label=k};
t.ku=function(){var b=this.input,c=this.F;c.text||(c.text=b.getAttribute("placeholder"));if(bl)return this.Zj(c.text);var d=this.input,e=gg(d),g=M("label"),h=jg(d,this.offsetParent());Tf(g,{color:"gray",cursor:"text",position:"absolute",left:h.x+e.left+"px",top:h.y+e.top+"px",display:this.Fb()?"block":"none",width:el(d,"width"),fontSize:el(d,"fontSize"),lineHeight:el(d,"lineHeight"),fontFamily:el(d,"fontFamily")});d=this.label=g;this.Zj(c.text);this.offsetParent().appendChild(d);e=this.Dg=new me(this);
e.e(b,"blur",this.sq);e.e(b,"focus",this.hide);c.qB&&e.e(b,"keydown",this.hide);e.e(d,"click",function(){this.hide();qg(b)&&b.focus()});b.AX=v(this.sq,this);c=this.input;d=this.label;cl(c)||(c.id?d.htmlFor=c.id:(d.id=Gh(Fh.O()),Nc(c,Uc.eu,d.id)));this.position();this.sq()};a.cl=function(b){if(("labels"in b?b.labels.length:b.id&&z.some(document.getElementsByTagName("label"),function(c){return c.htmlFor===b.id}))||Oc(b,Uc.Mp)||Oc(b,Uc.eu))return j},a.el=function(b,c){return Vf(b,c)||Wf(b,c)||b.style[c]};
t.offsetParent=function(){return this.F.offsetParent||this.input.offsetParent};t.sq=function(){if(!bl)if(this.Fb()&&qg(this.input)){this.show();var b=this.input,c=gg(b),d=this.label,e=jg(b,this.offsetParent());Tf(d,{left:e.x+c.left+"px",top:e.y+c.top+"px",width:el(b,"width"),fontSize:el(b,"fontSize"),lineHeight:el(b,"lineHeight"),fontFamily:el(b,"fontFamily")});this.offsetParent().appendChild(d)}else this.hide()};t.show=function(){this.label&&R(this.label,j)};
t.hide=function(){this.label&&R(this.label,m)};t.Fb=function(){return!this.input.value};t.position=function(){z.forEach(this.WJ,function(b){this.label.style[b]=el(this.input,b)},this)};a.fl=function(b){Uh.call(this,i,i,i);this.source=b;this.Uk=j};y(fl,xi);t=fl.prototype;t.fa=function(){sb&&!Mg?$(this.g).css("top",0):fl.n.fa.call(this)};t.X=function(){S.ha()||fl.n.X.call(this)};t.Ya=function(b,c){$(Wh(this)).html('<div class="title">'+b+'</div><div class="sub-title">'+c+"</div>")};
t.Fs=function(){if(zk()){var b=this;Ak(this.g,"fadeOutDown",function(){b.D(m);if(sb||!Mg)$(".zu-top").show(),$(".zu-main").show(),$(".index-content-wrapper").show(),$(window).scrollTop(b.scrollTop)});Ak(this.Gh(),"fadeOut9_0",function(){$(b.Gh()).remove()})}else fl.n.Fs.call(this)};t.focus=function(){(!sb||Mg)&&fl.n.focus.call(this)};
t.v=function(){fl.n.v.call(this);$(this.h()).addClass("sign-dialog");$(this.Gh()).addClass("white");sb&&!Mg&&$(this.h()).addClass("mobile");this.Ya("加入知乎","与世界分享你的知识、经验和见解");if(!sb||Mg)$(this.h()).width(300),this.fa()};t.B=function(){fl.n.B.call(this);this.m().e(this,"beforeshow",function(){sb&&!Mg&&$(".zg-form-text-input",this.g).prop("disabled",j);Y.ia({type:"ga_click_sign_in",data:{label:this.source}})}).e(this,"afterhide",function(){Y.ia({type:"ga_click_sign_in_close"})})};t.close=function(){this.Fs()};
t.show=function(){this.J=$(this.h());this.kI=$(this.Gh());sb&&!Mg?(this.scrollTop=$(window).scrollTop(),$(".zu-main").hide(),$(".zu-top").hide(),$(".index-content-wrapper").hide(),Yh(this,1)):(Yh(this,0.9),Ak(this.kI,"fadeIn0_9"));Ak(this.J,"fadeInUp",function(){sb&&!Mg&&$(".zg-form-text-input",this.g).removeProp("disabled")});var b=this;setTimeout(function(){b.D(j)},10)};$.validator.addMethod("datetime",function(b,c){return this.optional(c)||moment(b,"YYYY-MM-DDTHH:mm:ss").isValid()},"时间格式不正确");$.validator.addMethod("dateGreaterThan",function(b,c,d){return new Date(b)>new Date($(d).val())},"时间范围不正确");a.gl="AC ACADEMY AD AE AERO AF AG AI AL AM AN AO AQ AR ARPA AS ASIA AT AU AW AX AZ BA BB BD BE BF BG BH BI BIKE BIZ BJ BM BN BO BR BS BT BUILDERS BUZZ BV BW BY BZ CA CAB CAMERA CAMP CAREERS CAT CC CD CENTER CEO CF CG CH CI CK CL CLOTHING CM CN CO CODES COFFEE COM COMPANY COMPUTER CONSTRUCTION CONTRACTORS COOP CR CU CV CW CX CY CZ DE DIAMONDS DIRECTORY DJ DK DM DO DOMAINS DZ EC EDU EDUCATION EE EG ENTERPRISES EQUIPMENT ER ES ESTATE ET EU FARM FI FJ FK FLORIST FM FO FR GA GALLERY GB GD GE GF GG GH GI GL GLASS GM GN GOV GP GQ GR GRAPHICS GS GT GU GURU GW GY HK HM HN HOLDINGS HOLIDAY HOUSE HR HT HU ID IE IL IM IN INFO INSTITUTE INT INTERNATIONAL IO IQ IR IS IT JE JM JO JOBS JP KAUFEN KE KG KH KI KITCHEN KM KN KP KR KW KY KZ LA LAND LB LC LI LIGHTING LIMO LK LR LS LT LU LV LY MA MANAGEMENT MC MD ME MENU MG MH MIL MK ML MM MN MO MOBI MP MQ MR MS MT MU MUSEUM MV MW MX MY MZ NA NAME NC NE NET NF NG NI NINJA NL NO NP NR NU NZ OM ONL ORG PA PE PF PG PH PHOTOGRAPHY PHOTOS PK PL PLUMBING PM PN POST PR PRO PS PT PW PY QA RE RECIPES REPAIR RO RS RU RUHR RW SA SB SC SD SE SEXY SG SH SHOES SI SINGLES SJ SK SL SM SN SO SOLAR SOLUTIONS SR ST SU SUPPORT SV SX SY SYSTEMS SZ TATTOO TC TD TECHNOLOGY TEL TF TG TH TIPS TJ TK TL TM TN TO TODAY TP TR TRAINING TRAVEL TT TV TW TZ UA UG UK UNO US UY UZ VA VC VE VENTURES VG VI VIAJES VN VOYAGE VU WF WS XXX YE YT ZA ZM ZW".split(" ");
$.validator.addMethod("realEmail",function(b){return z.contains(gl,z.Wd(b.split(".")).toUpperCase())},"请输入真实的邮箱地址");$.validator.addMethod("strongPassword",function(b,c){return this.optional(c)||/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/.test(b)}," 密码需包含数字和字母，且长度大于 8 位");a.hl=function(b){var c=S.Fe||0,d=0,e=Nf.get("q_c1");e&&(d=e.split("|")[0]);b.uid=c;b.cid=d;(new Image).src="http://analytics.zhihu.com/zat.gif?"+$.param(b)};a.il=function(b){T.call(this);this.source=b;this.zF=(new vf(location.href)).gd().get("next")};y(il,T);t=il.prototype;t.tc=m;t.v=function(){il.n.v.call(this);this.$(ec($("#sign-flow-template").html()))};
t.$=function(b){il.n.$.call(this,b);var c=Nf.get("r_e");if(c){var d=c.match(/\"(.+)\"/);this.tE=d?d[1]:c;this.dn="signup"}else this.dn=this.dn||"signup";this.tc?this.J=$(b):(this.va=new fl(this.source),Rc(this.va,this),this.va.U().appendChild(this.g),this.va.show(),this.yf=$(this.va.h()),this.J=$(".sign-flow",this.yf),jl(this,{action:"show_sign_dialog"}));this.tc&&(this.J=$(document.body))};
t.B=function(){il.n.B.call(this);var b=this,c={confirm_password:{equalTo:"密码不一致",minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位")},password:{minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位"),required:"密码未填写"},last_name:{required:"姓氏未填写"},first_name:{required:"名字未填写"},email:{email:"请输入真实的邮箱",required:"邮箱未填写"},captcha:{required:"验证码未填写"}},c={submitHandler:$.proxy(this.BP,this),errorPlacement:function(c,d){if(b.va.P()){$(":focus").blur();
var e=d.parent();c.appendTo(e).click(function(){$("span",c).length||$("input[name="+$(this).attr("for")+"]",e).focus()});zk()&&Ak(c,"fadeInRight10")}},messages:c,onfocusout:m,onkeyup:m,highlight:m,focusInvalid:m,errorClass:"validate-error"};this.tc&&(c=$.extend({},c,{errorContainer:"#summary",errorLabelContainer:"#summary ul",wrapper:"li",showErrors:function(c,d){if(b.va&&b.va.P())this.defaultShowErrors();else if(d.length){var e=[];e.push("<ul>");$.each(d,function(b,c){e.push('<li><i class="icon-sign icon-sign-error"></i>'+
c.message+"</li>")});e.push("</ul>");$("#summary").html(e.join("")).show()}else $("#summary").hide().html("")}}));this.lm=c;var d=this;this.J.on("click",".js-signup",$.proxy(this.sH,this)).on("click",".js-signin",$.proxy(this.Dt,this)).on("click",".js-refresh-captcha",$.proxy(this.CG,this)).on("click",".js-bindweibo",function(b){b.preventDefault();Y.ia({type:"ga_click_sign_in_weibo",label:"sign_in_box_weibo"});$k("sina")}).on("click",".js-bindqq",function(b){b.preventDefault();Y.ia({type:"ga_click_sign_in_qq",
label:"sign_in_box_qq"});$k("qq")}).on("click",".js-bindsignin",function(b){b.preventDefault();(b=$('input[name="email"]',d.wi).val())&&$('input[name="email"]',d.oI).val(b);d.tc?($("#js-sign-flow .view-signin form").append('<input type="hidden" name="with_bind" value="1">'),d.va.close(),setTimeout(function(){d.Dt()},300),b=$(".js-captcha",this.J),b.removeClass("input-wrap").html('          <div class="input-wrapper">            <input id="captcha" name="captcha" autocomplete="off" placeholder="验证码">          </div>          <p class="input-wrapper captcha clearfix js-refresh-captcha">            <span>看不清？</span> <a href="javascript:;">换一张</a>            <img class="js-captcha-img" width="120" height="30">          </p>        '),
b.insertBefore(d.xi.find(".captcha-holder"))):($("form",d.oI).append('<input type="hidden" name="with_bind" value="1">'),d.Dt())}).on("focus",".zg-form-text-input",function(){var b=$(this).parent().find("label.validate-error")[0];$(this).parent().find("label.validate-error");b&&(zk()?Ak($(b),"fadeOutRight10",function(){$(b).remove()}):$(b).remove());var c=$(".validate-error-bottom",d.yf);c&&(c.css("opacity","0"),setTimeout(function(){c.slideUp(300,function(){c.remove()})},300))}).on("click",".z-ico-show-password",
function(b){b.preventDefault();$(this).parent().find('input[type="password"]')[0]?$(this).addClass("z-ico-hide-password").parent().find('input[name="password"]').attr("type","text").focus():$(this).removeClass("z-ico-hide-password").parent().find('input[name="password"]').attr("type","password").focus()});this.m().e(Y,["accountcallback","sina_callback","qqconn_callback"],$.proxy(this.dP,this));var e=this;e.xi=$(".view-signin",e.J);c=$("form",e.xi);c.validate($.extend({},e.lm,{Bl:$.proxy(e.cQ,e)}));
var g=$('input[name="email"]',c),h=$i.get("lastuser:email");!g.val()&&h&&g.val(h);$(".js-resetpassword",c).click(function(){if(e.tc){e.va=new fl(e.source);e.yf=$(e.va.h());var b=$(e.va.U());b.append(e.ng.clone());e.ng=$(".view-resetpassword",b);e.Cd("resetpassword");e.va.show();e.ng.find("[name=email]").val(e.xi.find("[name=email]").val());$("form",e.ng).validate($.extend({},e.lm,{Bl:$.proxy(e.WF,e),errorContainer:k,errorLabelContainer:k,wrapper:k}))}else zk()?Ak(e.yf,"fadeOutDown",function(){e.Cd("resetpassword");
Ak(e.yf,"fadeInUp")}):e.Cd("resetpassword");e.ng.find("[name=email]").val(e.xi.find("[name=email]").val())});var l=this;l.vk=$(".view-signup",l.J);$("form",l.vk).validate($.extend({},l.lm,{Bl:$.proxy(l.dQ,l)}));l.tE&&l.vk.find("[name=email]").val(l.tE);if(!A||!E("8"))l.vk.on("change","input, textarea, select",function(){l.jn()});this.wi=$(".view-info",this.J);this.wi.find("form").validate($.extend({},this.lm,{Bl:$.proxy(this.OF,this)}));this.ng=$(".view-resetpassword",this.J);$("form",this.ng).validate($.extend({},
this.lm,{Bl:$.proxy(this.WF,this)}));c=Nf.get("accountcallback");Nf.remove("accountcallback");if(c){c=decodeURIComponent(c);try{var n=JSON.parse(c);Y.dispatchEvent(new kl("accountcallback",n))}catch(q){}}this.Cd(this.dn);var r=this;A&&E("8")&&$(function(){$("input",r.g).keydown(function(b){if(13===b.keyCode)return $(this).parents("form").submit(),m})});this.ig={keyborad:[],mouse:[],submit:[],viewport:[document.documentElement.clientWidth,document.documentElement.clientHeight]};var w=this;this.J.on("keydown.recording",
function(b){"password"!==b.target.name&&w.ig.keyborad.push([b.timeStamp,b.keyCode,"keydown"])}).on("keyup.recording",function(b){"password"!==b.target.name&&w.ig.keyborad.push([b.timeStamp,b.keyCode,"keyup"])});var B=[];this.J.on("mousemove.recording",function(b){B.push([b.clientX,b.clientY])}).on("mouseleave.recording",function(){B=[]}).on("click.recording",function(b){var c=B;B=[];c=z.reduce(z.zT(c,c.slice(1)),function(b,c){return b+Math.sqrt(Math.pow(c[1][0]-c[0][0],2)+Math.pow(c[1][1]-c[0][1],
2))},0);w.ig.mouse.push([[b.clientX,b.clientY],b.timeStamp,Math.round(c)]);"submit"===$(b.target).attr("type")&&$(b.target).closest(".view-signup").length&&w.ig.submit.push([b.offsetX,b.offsetY,b.timeStamp])})};
t.BP=function(b){function c(){g.disabled=m}$(":focus").blur();var d=$(b).data("validator"),e=$(b),g=e.data();if(!g.disabled){g.disabled=j;var h=$(b);if(h.data("nosubmit")===j)b=$.Deferred().resolve().promise();else{var l=$(b).serializeArray();(h=h.data("otherform"))&&$.each($(h).serializeArray(),function(b,c){z.some(l,function(b){return b.name===c.name})||l.push(c)});"/register/account"===$(b).attr("action")&&this.ig&&(l.push({name:"userInfo",value:JSON.stringify(this.ig)}),this.ig=k,this.J.off(".recording"));
b=$.post(b.action,$.param(l))}b.done(d.settings.Bl).done(function(b){if(b&&b.r)if(b=b.msg,$.isPlainObject(b))d.showErrors(b),b.email&&-1!==b.email.indexOf("该邮箱已注册")&&jl(il.prototype,{action:"already_registered"});else if("string"===$.type(b))if(e.parents(".sign-dialog").length){var c=$(".command",e);$('<div class="validate-error-bottom"></div>').html(b).insertBefore(c).slideDown(300,function(){$(this).css("opacity","1")})}else d.showErrors({email:b})}).always(c)}};
t.dP=function(b){var b=b.Ic,c=this;1===b.login?(this.va&&this.va.P()&&setTimeout(function(){c.va.close()},600),ll(this),"qqconn"===b.type?Jk(["/signin/connect/qq"]):Jk(["/signin/connect/weibo"])):("sina"===b.type?(this.method="sina",jl(this,{sinaId:b.sinaId,action:"enter_info"})):"qqconn"===b.type&&(this.method="qq",jl(this,{qqId:b.qqId,action:"enter_info"})),this.tc?(this.va=new fl(this.source),b=$(this.va.U()),b.append(this.wi.clone()),this.wi=$(".view-info",b),this.Cd("info"),this.wi.find("form").validate($.extend({},
this.lm,{Bl:$.proxy(this.OF,this),errorContainer:k,errorLabelContainer:k,wrapper:k})),setTimeout(function(){c.va.show()},600)):setTimeout(function(){Ak(c.yf,"fadeOutDown",function(){c.Cd("info");Ak(c.yf,"fadeInUp")})},600))};t.cQ=function(b){b&&!b.r?(Jk(["/signin"]),this.tc||this.va.close(),ll(this)):b.msg&&ml(this)};t.dQ=function(b){b&&!b.r?(Jk(["/signup/succeed"]),jl(this,{action:"sign_up"}),this.tc||this.va.close(),ll(this)):ml(this)};
t.jn=function(){$(window).on("beforeunload.SignFlow",v(s("注册还未完成，确认离开该页面吗？"),this))};t.WF=function(b){if(!b.r){var c,d;this.tc?(c=$('input[type="submit"]',$(this.va.U())),d=$(".reset-success",$(this.va.U()))):(c=$('input[type="submit"]',this.ng),d=$(".reset-success",this.ng));zk()?Ak(c,"fadeOutDown10",function(){c.hide();Ak(d,"fadeInUp10");d.show()}):(d.show(),c.hide())}};t.OF=function(b){b&&!b.r?(this.yX=j,Jk(["/signup/succeed"]),jl(this,{action:"sign_up"}),this.va.close(),ll(this)):ml(this)};
t.sH=function(){if("signup"!==this.bn)if(this.vk.find("[name=email]").val(this.xi.find("[name=email]").val()),this.tc&&(location.hash="signup"),jl(this,{action:"switch_to_sign_up"}),this.tc||!zk())this.Cd("signup");else{var b=this;Ak(b.yf,"fadeOutDown",function(){b.Cd("signup");Ak(b.yf,"fadeInUp")})}};
t.Dt=function(){if("signin"!==this.bn)if(this.xi.find("[name=email]").val(this.vk.find("[name=email]").val()),this.tc&&(location.hash="signin"),jl(this,{action:"switch_to_sign_in"}),this.tc||!zk())this.Cd("signin");else{var b=this;Ak(this.va.h(),"fadeOutDown",function(){$(".captcha-wrap",b.J).find(".validate-error").remove();b.Cd("signin");Ak(b.yf,"fadeInUp")})}};
t.Cd=function(b){if(this.tc){$("#summary").hide();var c=nl(this,"signin"===b?"signin":"signup");$("#summary").insertBefore(c.find(".command"))}if("info"===b&&(c=this.va,c.Dn=m,c.uf&&R(c.uf,c.Dn),this.va.Ya("完善资料","最后一步啦，写完就可以进去啦"),this.tc)){this.wi.show();ol(this,b);return}if("resetpassword"===b&&(this.va.Ya("忘记密码","重设密码邮件会发送至您的邮箱"),this.tc)){this.ng.show();ol(this,b);return}$("div.view",this.J).hide();nl(this,b).show();ol(this,b)};
a.ol=function(b,c){b.bn=c;("signin"===c||"signup"===c||"info"===c)&&ml(b);bl||setTimeout(function(){$("input[placeholder]:visible",b.J).placeholder()},10);(!sb||Mg)&&setTimeout(function(){var d=nl(b,c).find('input:text,input[type="email"]').filter(":visible").get(0);d&&d.focus()},100)},a.ml=function(b){var c="1"===Nf.get("r_c"),d="1"===Nf.get("l_c"),e=$(".js-captcha",b.J);e.length&&(!c&&!d?(e.hide(),e.find('input[name="captcha"]').prop("disabled",j)):(d&&"signin"===b.bn&&e.insertBefore(b.xi.find(".captcha-holder")).show(),
c&&"signup"===b.bn&&e.insertBefore(b.vk.find(".captcha-holder")).show(),c&&"info"===b.bn&&(e.addClass("input-wrap").html('          <input id="captcha" class="zg-form-text-input" autocomplete="off" name="captcha" placeholder="验证码" required>          <div class="captcha js-refresh-captcha" data-tip="s$b$看不清楚？换一张">            <img class="js-captcha-img"/>          </div>        '),e.insertBefore(b.wi.find(".command")).show()),b.CG(),e.find('input[name="captcha"]').prop("disabled",m)))};
t.CG=function(){$(".js-captcha-img",this.J).attr("src","/captcha.gif?r="+Aa())};a.nl=function(b,c){return"info"===c||"resetpassword"===c?$(".view-"+c,b.va.U()):$(".view-"+c,b.J)},a.ll=function(b){b.Tk();b.zF?location.href=b.zF:b.tc?location.href="/":location.reload()};t.Tk=function(){$(window).off("beforeunload.SignFlow")};
a.jl=function(b,c){var d="",d=location.pathname.split("/"),d=d[1]?"answer"===d[3]?"answer":d[1]:"index",e={t:"event",tid:"zhihu.web.register",page:d,qqId:c.qqId||0,sinaId:c.sinaId||0,action:c.action,method:b.method||"email",source:b.source||"index"};"sign_up"===c.action?(d=Wc($i.get("zhza"))||[],e.time_=Aa(),e=[e],d&&(e=d.concat(e)),$i.Bd("zhza",Zc(e))):hl(e)},a.pl=function(b,c){var d=new il(b);c&&(d.dn=c);d.X()};
$(function(){$("#js-reg-with-mail-in-top").click(function(){pl("right_email_sign_up");return m});$("#js-reg-with-sina-in-top").click(function(){pl("right_sina_sign_up");Y.ia({type:"ga_click_sign_in_weibo",label:"header_sign_up"});$k("sina");return m});$("#js-reg-with-qq-in-top").click(function(){pl("right_qq_sign_up");Y.ia({type:"ga_click_sign_in_qq",label:"header_sign_up"});$k("qq");return m})});a.ql=function(b,c){var d;qa(c)&&(d=c);return function(){var e={ha:j,bd:m};d&&(c=d.apply(this,arguments));c===j&&(c={ha:j,bd:j});G.extend(e,c||{});return!S.ha()&&e.ha?(pl(e.ha),m):!S.Bi&&e.bd?(Yk.O().D(j),m):b.apply(this,arguments)}};a.rl=void 0,a.tl={"rt:button":function(){sl(this,"roundtable",k,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){sl(this,"roundtable",k,k,{follow_text:"关注圆桌"})},"c:link":function(){sl(this,"column",k,k,{follow_text:"关注专栏"})},"c:button":function(){sl(this,"column",k,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){sl(this,"question",k,k,{follow_text:"关注问题"})},"m:link":function(){var b=this.getAttribute("data-follow_text");sl(this,"people",k,k,b?{follow_text:b}:{})},"t:link":function(){sl(this,
"topic",k,k,{follow_text:"关注话题"})},"m:button":function(){var b=this;sl(b,"people",function(){b.getAttribute("data-followme")&&(F.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$对方已关注你"):b.setAttribute("data-tip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:fi:button":function(){var b=this;sl(b,"question",function(c){$(".label",b).text(c?"取消关注":"关注");var d=$(".count",b),c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text("（"+c+"）").data("count",c))},["unfollowing",
"following"])},"q:m:button":function(){sl(this,"question",k,["zg-btn-green","zg-btn-white"])},"f:button":function(){sl(this,"favlist",k,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){sl(this,"topic",k,["zg-btn-follow","zg-btn-unfollow"])}},a.sl=ql(function(b,c,d,e,g){function h(b){b.r?V(b.msg):l(r)}function l(c){c?(F.qu(b,n,q),rk(b,g.unfollow_text||"取消关注")):(F.qu(b,q,n),rk(b,g.follow_text||"关注"));qa(d)&&d(c)}rl&&"pending"===rl.state()&&rl.abort();var g=g||{},c=c||b.getAttribute("data-focustype"),
e=e||["zg-follow","zg-unfollow"],n=e[0],q=e[1],r=F.has(b,n);Y.ia({type:"ga_click_follow",target:b,data:{type:c,wj:r}});var e={roundtable:Vj,column:Uj,people:Qj,question:Rj,topic:Tj,favlist:Sj}[c],w=b.getAttribute("data-id")||b.id.match(/-(.*)/)[1];e&&(e=e(w,r),"people"===c&&r?e.done(h):l(r),rl=e)},function(b,c){return{ha:c+"_follow_button"}});$(function(){$(document.body).on("click.video","div[data-swfurl]",function(b){var c=b.currentTarget,b=$(b.currentTarget).data("swfurl");if(!Ic(c,k,"zh-summary")){var d={url:$(".video-info",c).text()};if(sb||Mg)b=K("video-url",c),$(c).trigger("videobox:open",d),window.open(b.innerHTML);else{var e=M("embed"),g={src:b,type:"application/x-shockwave-flash",allowscriptaccess:"never",allowfullscreen:"true",wmode:"opaque","class":"video",pluginspage:"http://get.adobe.com/cn/flashplayer/"},h=-1<b.indexOf("tudou");
if(-1<b.indexOf("youku")){var l=b.match(/\w{10,}/g);l&&(g.src="http://static.youku.com/v1.0.0366/v/swf/loader.swf?"+("VideoIDS="+l[0]+"&embedid=-&isAutoPlay=true&isShowRelatedVideo=false"))}h&&(g.src=b.replace("/v.swf","&autoPlay=true/v.swf"),g.flashvars="playMovie=true&auto=true");G.forEach(g,function(b,c){e.setAttribute(c,b)});var b=M("a",{innerHTML:'<i class="icon-fold"></i>收起视频',"class":"video-player-close",href:"#"}),n=M("div","video-player-box",[e,M("div","video-player-foot",b)]);wd(b,"click",
function(b){b.preventDefault();N(n);R(c,j);$(c).trigger("videobox:close",d)});jc(n,c);R(c,m);$(c).trigger("videobox:open",d)}}})});a.ul=void 0,a.vl=window.FastClick;ul=".ac-row *;.goog-menu *;.goog-menu-button *;.goog-toolbar-button *;.goog-link-button *;.ee-menu-palette-cell *;.ee-palette-cell *".split(";");
if(vl){var wl=vl.prototype.needsClick,xl;if(window.wU){var yl=z.find(["matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],function(b){return HTMLElement.prototype[b]});xl=yl&&HTMLElement.prototype[yl]}var zl=xl?function(b,c){return xl.call(b,c)}:function(b,c){return $(b).is(c)};vl.prototype.needsClick=function(b){return z.some(ul,function(c){return zl(b,c)})?j:wl.call(this,b)}};a.Al=function(){O.call(this);this.last=this.EW=0;this.IW=m};y(Al,Sk);Al.prototype.z=function(){if(this.g=J("zh-global-message"))this.uF=K("zu-global-notify-msg",this.g),this.m().e(this.g,"click",this.ra)};Al.prototype.ra=function(b){b.target&&b.target.name&&R(this.g,m)};a.Bl=function(b,c){c&&c.length&&z.forEach(c,function(b){this.dispatchEvent(new kl(b[0],b[1]))},b)};Al.prototype.fireEvent=u(37);
a.Cl=function(b){var c=Y;c.uF?(c.uF.innerHTML=b,R(c.g,j)):V(b)},a.kl=function(b,c){this.type=b;this.Ic=c};y(kl,gd);a.Y=new Al;Y.z();a.Dl=function(b){function c(){r.onload=r.onerror=r.onreadystatechange=k;document.body.removeChild(r)}function d(){c();q.resolve()}function e(){clearTimeout(n);n=k;try{delete window[h]}catch(b){window[h]=k}}"string"===$.type(b)&&(b={url:b});var b=b||{},g=$.Deferred(),h="zh"+Aa()+ab(),l=$.extend({},b.data||{},{callback:h}),n=k;b.timeout&&(n=setTimeout(function(){window[h]&&(window[h]=e,g.reject("timeout"))},b.timeout));window[h]=g.resolve;var b=b.url+(-1===b.url.indexOf("?")?"?":"&")+$.param(l),q=$.Deferred(),
r=document.createElement("script");r.onload=d;r.onerror=function(){c();q.reject()};r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&d()};r.src=b;document.body.appendChild(r);q.promise().fail(g.reject).always(e);return g.promise()};a.El=function(b){this.options=$.extend(j,{},this.defaults,b||{});this.promise=k;this.NG=1E3;this.Tx=3E4;this.yj=this.NG;this.DN=1.5};y(El,Gd);El.prototype.defaults={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:j}};El.prototype.Iy=function(){if(!(this.promise&&"pending"===this.promise.state())){var b=this.options;this.promise=($.support.cors?$.ajax(b):Dl(b)).done($.proxy(this.NP,this)).fail($.proxy(this.jy,this))}};
El.prototype.NP=function(b){this.yj=this.NG;try{this.dispatchEvent({type:"message",data:b})}catch(c){}this.Iy()};El.prototype.jy=function(){this.yj!==this.Tx&&(this.yj*=this.DN);this.yj>this.Tx&&(this.yj=this.Tx);this.xc=setTimeout($.proxy(this.Iy,this),this.yj);this.dispatchEvent("error")};a.Fl=function(b){this.yd=b},a.Gl=function(b){return function(){this.yd=b.apply(k,[this.yd].concat(z.toArray(arguments)));return this}};Fl.prototype.filter=Gl(z.filter);Fl.prototype.map=Gl(z.map);Fl.prototype.reduce=Gl(z.reduce);Fl.prototype.reduceRight=Gl(z.reduceRight);Fl.prototype.flatten=Gl(z.flatten);Fl.prototype.size=function(){return this.yd.length};Fl.prototype.toArray=p("yd");a.Hl=function(b){G.extend(this.F={},this.defaults,b||{});this.ef()},a.Il=["group","key","name"],a.Jl=function(b){return z.every(Il,function(c){return b[c]})},a.Kl=function(b){return $.extend({},{key:b.key},b.Hb)},a.Ll=function(b,c){z.every(b,function(b){return!z.every(Il,function(e){return b[e]===c[e]})})&&b.push(c);return b},a.Ml=function(b,c){var d=b[c.group];d?d.push(c):b[c.group]=[c];return b};Hl.prototype.defaults={bL:"帮助信息",xv:"shortcut-tips-dialog"};
Hl.prototype.ef=function(){ok(pk.register("shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};
Hl.prototype.show=function(){var b=this.F,c=b.bL,d;d=(new Fl(nk)).map(function(b){return G.Ma(b.Fk.Lt())}).flatten().map(Kl).filter(Jl).reduce(Ll,[]).reduce(Ml,{}).toArray();var e=['<div class="shortcut-tips">'],g={ER:/([^\s+])+|([\s+])/g,HL:function(b){return b.replace(this.ER,function(b,c){return c?"<kbd>"+b+"</kbd>":" "+b+" "})}};G.forEach(d,function(b,c){e.push('<div class="group"><h2>',c,"</h2><dl>");z.forEach(b,function(b){e.push("<dt>",g.HL(b.key),"</dt>");e.push("<dd>",b.name,"</dd>")});e.push("</dl></div>")});
e.push("</div>");d=e.join("");Di(c,d,b.xv)};$.easing.easeOutCubic=function(b,c,d,e,g){return e*((c=c/g-1)*c*c+1)+d};a.Nl=function(b){T.call(this);this.pj=-1;G.extend(this.F={},this.defaults,b||{})};y(Nl,T);t=Nl.prototype;t.defaults={items:">li",iK:m,CL:j,className:"navigable",YC:"navigable-focusin"};t.B=function(){Nl.n.B.call(this);var b=this.F;this.J=$(this.g).addClass(b.className).data("navigable",this).on("focusin.navigable focusout.navigable",b.items,$.proxy(this.zP,this));this.he()};t.w=function(){Nl.n.w.call(this);this.J.removeClass(this.F.className).data("navigable",k).off(".navigable");this.J=k};t.he=ia;
t.index=p("pj");t.size=function(){return this.items().length};t.prev=function(){Ol(this,this.index()-1)};t.next=function(){Ol(this,this.index()+1)};t.first=function(){Ol(this,0)};t.last=function(){Ol(this,this.size()-1)};a.Ol=function(b,c){if(c!==b.index()){var d=b.size(),e=d-1;b.F.iK&&(c>e?c=0:0>c&&(c=e));b.dispatchEvent({data:{index:c,size:d},type:"action"});0>c||c>e||(b.pj=c,b.ly(b.items()[b.index()]))}};
t.zP=function(b){var c=this.F,d=b.currentTarget,e=$(d);"focusin"===b.type?(e.addClass(c.YC),this.pj=$.inArray(d,this.items())):e.removeClass(c.YC)};t.ly=function(b){this.F.CL&&(b.tabIndex=-1,b.focus());this.dispatchEvent({data:{item:b},type:"focus"})};Nl.prototype.items=function(){var b=this.F.items;return!b?this.J.children().get():$(b,this.J).get()};a.Pl=function(b){Nl.call(this,b);this.nI=$("html, body")};y(Pl,Nl);G.extend(Pl.prototype.defaults={LR:200,offsetTop:0},Nl.prototype.defaults);a.Ql=function(b){return{k:{action:b.prev,Hb:{group:"导航",name:"上一条目"}},j:{action:b.next,Hb:{group:"导航",name:"下一条目"}},"g g":{action:b.first,Hb:{group:"导航",name:"第一个条目"}},"shift+g":{action:b.last,Hb:{group:"导航",name:"最后一个条目"}},"shift+k":{action:b.NR,Hb:{group:"导航",name:"屏幕上移"}},"shift+j":{action:b.JR,Hb:{group:"导航",name:"屏幕下移"}}}};t=Pl.prototype;
t.he=function(){G.forEach(Ql(this),function(b,c){ok(pk.register(c,b.action,this),b.Hb)},this)};t.w=function(){Pl.n.w.call(this);var b=G.Db(Ql(this));z.forEach(ma(b)?b:[b],pk.dT,pk)};t.ly=function(b){Pl.n.ly.call(this,b);var c=this.F;this.scrollTo($(b).offset().top+c.offsetTop,c.LR,"easeOutCubic")};t.scrollTo=function(b,c,d){this.nI.stop().animate({scrollTop:b},c,d)};t.JR=function(){this.scrollTo("+=60",100)};t.NR=function(){this.scrollTo("-=60",100)};Li.on("init",function(){$("img.lazy").lazyload({load:function(){$(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});Li.on("init",function(){S.Cv&&$i.Bd("lastuser:email",S.Cv)});Li.on("init",function(){(new bj).z()});Li.on("init",function(){dj()});
Li.on("init",function(){$("#js-open-in-app").on("click",function(){var b=$('meta[name="apple-itunes-app"]').attr("content");if(b){b=(new lj(b.replace(/,\s*/,"&"))).get("app-argument")||"";-1===b.indexOf("zhihu://")&&(b="zhihu://"+b);if(/Android/.test(navigator.userAgent)){var c=b.replace(/^zhihu/,"intent")+"/#Intent;scheme=zhihu;package=com.zhihu.android;end",d=navigator.userAgent.match(/Chrome\/(\d+)/);if(25<=(d&&d[1]))window.location=c;else{c=document.createElement("iframe");c.hidden=j;c.src=b;
document.body.appendChild(c);var e=Aa();window.setTimeout(function(){600>Aa()-e&&(window.location="http://api.zhihu.com/client/download/apk")},400)}}else{var g=m;window.location=b;window.setTimeout(function(){g=j;window.location="http://itunes.apple.com/cn/app/id432274380"},250);window.setTimeout(function(){g&&window.location.reload()},500)}X("app-promotion","click_zhihu_ios_open_dl_link","header_not_logged_in")}})});Li.on("postinit",function(){$("#js-feedback-button").click(function(){Wk.O().create()})});
Li.on("init",function(){$(document.body).on("click.follow","[data-follow]",function(){if(this.name)return Hk("末清除的 name 属性:",this);var b=this.getAttribute("data-follow");(b=b&&tl[b])&&b.call(this)})});Li.on("postinit",function(){window.FastClick&&FastClick.attach(document.body)});
Li.on("postinit",function(){if(S.ha())if(window.MozWebSocket||window.WebSocket&&!("__addTask"in window.WebSocket))io.connect("http://"+bh.av).on("live",function(b){Bl(Y,JSON.parse(b.replace(/^\+;/,"")))});else{var b=new El({url:zg,data:{loc:location.href,channel:Aa()+ab()},dataType:"polling",converters:{"text polling":function(b){return JSON.parse(b.replace(/^\+;/,""))}}});b.addEventListener("message",function(b){Bl(Y,b.data)});b.Iy()}});
Li.on("init",function(){new Hl;Pl.prototype.defaults.offsetTop=-60;var b=$('div[data-widget="navigable"], ul[data-widget="navigable"]');if(1===b.length){var c=b.data("navigable-options"),c=new Pl(c);c.o(b.get(0));var d=$("#zh-load-more");c.on("action",function(b){b.data.index>=b.data.size&&d.is(":visible")&&d[0].click()})}});
Li.on("postinit",function(){$(document).on("click","[data-activate-dialog]",function(b){var c=this.getAttribute("data-activate-dialog"),d=Yk.O();d.D(j);"changeEmail"===c?d.EB(j):"resendEmail"===c&&(d.KG(j),d.cH(j));b.preventDefault()})});Li.on("init",function(){$(document).on("click",'a[href="#"]',function(b){b.preventDefault()})});
Li.on("postinit",function(){setTimeout(function(){var b=window._gaq=window._gaq||[];b.push(["_setAccount","UA-20961733-1"]);b.push(["_setDomainName",".zhihu.com"]);b.push(["_addOrganic","baidu","word"]);b.push(["_addOrganic","baidu","wd"]);b.push(["_addOrganic","sogou","query"]);b.push(["_addOrganic","so.360.cn","q"]);b.push(["_addOrganic","so.com","q"]);b.push(["_addOrganic","soso","w"]);b.push(["_addOrganic","google","q"]);b.push(["_addOrganic","sm","q"]);b.push(["_addIgnoredOrganic","知乎"]);b.push(["_addIgnoredOrganic",
"知乎网"]);b.push(["_addIgnoredOrganic","zhihu"]);b.push(["_addIgnoredOrganic","zhihu.com"]);b.push(["_addIgnoredOrganic","www.zhihu.com"]);var c=qh.ga_vars,d=c.user_attr.join("");b.push(["_setVar",d]);b.push(["_setCustomVar",1,"user_attr",d,3]);var e=d=9E12;c.user_created&&(e=c.user_created,b.push(["_setCustomVar",2,"registration_date",moment(e).format("YYYYMMDD"),1]));var g=document.cookie.match(/q_c1=(\w+)\|(\w+)\|(\d+)/);g&&(d=+g[3]);d=Math.min(d,e,c.now);b.push(["_setCustomVar",3,"entry_date",moment(d).format("YYYYMMDD"),
1]);b.push(["_setCustomVar",4,"abtest_group",c.abtest_mask,3]);b=Wc($i.get("zhga"));$i.remove("zhga");b&&!("null"===b||"undefined"===b)&&z.forEach(b,function(b){1===b.length?(b=b[0],window._gaq||(window._gaq=[]),window._gaq.push(["_trackPageview",b])):Ik(b[0],b[1],b[2],b[3])});b=Wc($i.get("zhza"));$i.remove("zhza");b&&z.forEach(b,function(b){18E5>Aa()-b.time_&&hl(b)});window._gaq.push(["_trackPageview"]);b=document.createElement("script");b.type="text/javascript";b.async=j;b.src=("https:"===document.location.protocol?
"https://ssl":"http://www")+".google-analytics.com/ga.js";c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);var h=window,c=b=i;h.GoogleAnalyticsObject="__ga";h.__ga=h.__ga||function(){(h.__ga.Ss=h.__ga.Ss||[]).push(arguments)};h.__ga.kX=1*new Date;b=document.createElement("script");c=document.getElementsByTagName("script")[0];b.async=1;b.src="//www.google-analytics.com/analytics.js";c.parentNode.insertBefore(b,c);b=window.__ga;b("create","UA-20961733-3",{cookieDomain:"zhihu.com"});
b("send","pageview")})});a.Rl=function(){xj.call(this);this.queue=[]};y(Rl,xj);Rl.prototype.add=function(b){z.contains(this.queue,b)||(this.queue.push(b),P(b,"finish",this.FF,m,this))};Rl.prototype.remove=function(b){z.remove(this.queue,b)&&xd(b,"finish",this.FF,m,this)};Rl.prototype.w=function(){z.forEach(this.queue,function(b){b.G()});this.queue.length=0;Rl.n.w.call(this)};a.Sl=function(){Rl.call(this);this.Xv=0};y(Sl,Rl);
Sl.prototype.play=function(b){if(0==this.queue.length)return m;if(b||this.Z==wj)this.Xv=0,this.Wh();else if(1==this.Z)return m;this.Jd("play");-1==this.Z&&this.Jd("resume");var c=-1==this.Z&&!b;this.startTime=Aa();this.kn=k;this.Z=1;z.forEach(this.queue,function(d){(!c||-1==d.Z)&&d.play(b)});return j};Sl.prototype.stop=function(b){z.forEach(this.queue,function(c){c.Z==wj||c.stop(b)});this.Z=wj;this.kn=Aa();this.Jd("stop");this.Xh()};
Sl.prototype.FF=function(){this.Xv++;this.Xv==this.queue.length&&(this.kn=Aa(),this.Z=wj,this.Jd("finish"),this.Xh())};a.Tl=function(b,c,d){O.call(this);this.Cj=b;this.Hg=c;this.ca=d;this.Ik=v(this.iQ,this)};y(Tl,O);t=Tl.prototype;t.st=m;t.lG=0;t.na=k;t.fire=function(){!this.na&&!this.lG?this.yg():this.st=j};t.stop=function(){this.na&&(Hd.clearTimeout(this.na),this.na=k,this.st=m)};t.w=function(){Tl.n.w.call(this);this.stop()};t.iQ=function(){this.na=k;this.st&&!this.lG&&(this.st=m,this.yg())};t.yg=function(){this.na=Ld(this.Ik,this.Hg);this.Cj.call(this.ca)};a.Ul=function(){O.call(this);this.g=k;this.lastPosition=0;this.Tv=this.KR=300;this.Er=j;this.Bu=m;this.MS=150};y(Ul,Sk);t=Ul.prototype;t.z=function(){if(!(sb&&!Ng||z.contains(kh,"back_to_top"))){this.g=ec(this.IS);document.body.appendChild(this.g);var b=this.m(),c=new Tl(this.py,this.MS,this);b.e(window,"scroll",function(){c.fire()});b.e(this.g,"click",this.NJ)}};t.IS='<div class="zh-backtotop" style="display:none"><a data-action="backtotop" data-tip="s$r$回到顶部" href="javascript:;" class="btn-backtotop btn-action"><div class="arrow"></div><div class="stick"></div></a></div>';
t.NJ=function(){var b=Yb(document),c=Zb(document),d=c.x,c=c.y,e=new Sl,g=this.m();e.add(new Hj(b,[d,c],[0,0],this.KR,Oj));e.add(new Jj(this.g,this.Tv,Nj));g.e(e,"finish",this.xP);g.e(e,"begin",this.lP);e.play();Y.ia("ga_click_back_to_top")};t.lP=function(){this.Bu=this.Er=j};t.xP=function(){this.Bu=m};t.py=function(){if(!this.Bu){var b=Zb(document).y,c=sb?500:1200;this.Er?b>=c&&((new Kj(this.g,this.Tv,Mj)).play(),this.Er=m):b<c&&((new Jj(this.g,this.Tv,Nj)).play(),this.Er=j)}};a.Vl=function(){};Vl.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";Vl.prototype.EJ="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";a.Wl=function(){O.call(this)};y(Wl,Sk);a.Xl=k;Wl.prototype.z=function(){Xl=this;Yl(this)};a.Yl=function(b){b.Hj=new W(m);oe(b.m(),b.Hj,"success",b.SP);b.Hj.ajax("/noti7/new?r="+ +new Date,k,"GET")};Wl.prototype.SP=function(){var b=Ie(this.Hj);b&&!b.r&&Bl(Y,[b])};a.am=function(b,c,d,e,g,h,l,n,q){var r=Zl(d),w=og(b),B=fg(b);B&&w.pE(new Qf(B.left,B.top,B.right-B.left,B.bottom-B.top));var B=Rb(b),H=Rb(d);if(B.Ca()!=H.Ca()){var I=B.Ca().body,H=H.Oa(),L=new Lb(0,0),U=$b(Qb(I)),ha=I;do{var Ia=U==H?dg(ha):ig(ha);L.x+=Ia.x;L.y+=Ia.y}while(U&&U!=H&&(ha=U.frameElement)&&(U=U.parent));I=Mb(L,dg(I));A&&!Kc(B)&&(I=Mb(I,Lc(B)));w.left+=I.x;w.top+=I.y}b=(c&4&&eg(b)?c^2:c)&-5;w=new Lb(b&2?w.left+w.width:w.left,b&1?w.top+w.height:w.top);w=Mb(w,r);g&&(w.x+=(b&2?-1:1)*g.x,w.y+=
(b&1?-1:1)*g.y);var ya;if(l)if(q)ya=q;else if(ya=fg(d))ya.top-=r.y,ya.right-=r.x,ya.bottom-=r.y,ya.left-=r.x;return $l(w,d,e,h,ya,l,n)},a.Zl=function(b){var c;if(b=b.offsetParent){var d="HTML"==b.tagName||"BODY"==b.tagName;if(!d||"static"!=Yf(b))c=dg(b),d||(d=(d=eg(b))&&C?-b.scrollLeft:d&&(!A||!E("8"))?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollLeft,c=Mb(c,new Lb(d,b.scrollTop)))}return c||new Lb},a.$l=function(b,c,d,e,g,h,l){var b=b.clone(),n=0,q=(d&4&&eg(c)?d^2:d)&-5,d=ng(c),l=l?l.clone():
d.clone();if(e||0!=q)q&2?b.x-=l.width+(e?e.right:0):e&&(b.x+=e.left),q&1?b.y-=l.height+(e?e.bottom:0):e&&(b.y+=e.top);if(h){if(g){n=b;e=0;if(65==(h&65)&&(n.x<g.left||n.x>=g.right))h&=-2;if(132==(h&132)&&(n.y<g.top||n.y>=g.bottom))h&=-5;n.x<g.left&&h&1&&(n.x=g.left,e|=1);n.x<g.left&&(n.x+l.width>g.right&&h&16)&&(l.width=Math.max(l.width-(n.x+l.width-g.right),0),e|=4);n.x+l.width>g.right&&h&1&&(n.x=Math.max(g.right-l.width,g.left),e|=1);h&2&&(e|=(n.x<g.left?16:0)|(n.x+l.width>g.right?32:0));n.y<g.top&&
h&4&&(n.y=g.top,e|=2);n.y>=g.top&&(n.y+l.height>g.bottom&&h&32)&&(l.height=Math.max(l.height-(n.y+l.height-g.bottom),0),e|=8);n.y+l.height>g.bottom&&h&4&&(n.y=Math.max(g.bottom-l.height,g.top),e|=2);h&8&&(e|=(n.y<g.top?64:0)|(n.y+l.height>g.bottom?128:0));n=e}else n=256;if(n&496)return n}$f(c,b);Ob(d,l)||(g=Kc(Rb(Qb(c))),A&&(!g||!E("8"))?(b=c.style,g?(g=wg(c),c=gg(c),b.pixelWidth=l.width-c.left-g.left-g.right-c.right,b.pixelHeight=l.height-c.top-g.top-g.bottom-c.bottom):(b.pixelWidth=l.width,b.pixelHeight=
l.height)):(c=c.style,C?c.MozBoxSizing="border-box":D?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(l.width,0)+"px",c.height=Math.max(l.height,0)+"px"));return n};a.bm=function(){};bm.prototype.fa=ba();a.cm=function(b,c,d){this.element=b;this.Df=c;this.DQ=d};y(cm,bm);cm.prototype.fa=function(b,c,d){am(this.element,this.Df,b,c,i,d,this.DQ)};a.dm=function(b,c){this.wh=b instanceof Lb?b:new Lb(b,c)};y(dm,bm);dm.prototype.fa=function(b,c,d,e){am(ag(b),0,b,c,this.wh,d,k,e)};a.em=function(b,c){this.Ky=4;this.Ps=c||i;Ph.call(this,b)};y(em,Ph);em.prototype.Yc=function(b){this.Ps=b||i;this.P()&&this.fa()};em.prototype.fa=function(){if(this.Ps){var b=!this.P()&&"move_offscreen"!=this.Lh(),c=this.h();b&&(c.style.visibility="hidden",R(c,j));this.Ps.fa(c,this.Ky,this.Rx);b&&R(c,m)}};a.fm=function(b,c,d){this.aa=d||(b?Rb(J(b)):Rb());em.call(this,this.aa.v("div",{style:"position:absolute;display:none;"}));this.Ni=new Lb(1,1);this.Ua=new Sd;b&&this.attach(b);c!=k&&xc(this.h(),c)};y(fm,em);a.gm=[];t=fm.prototype;t.bc=k;t.className="goog-tooltip";t.vt=500;t.Fr=0;t.K=p("aa");t.attach=function(b){b=J(b);this.Ua.add(b);P(b,"mouseover",this.jd,m,this);P(b,"mouseout",this.sl,m,this);P(b,"mousemove",this.rl,m,this);P(b,"focus",this.te,m,this);P(b,"blur",this.sl,m,this)};
t.detach=function(b){if(b)b=J(b),hm(this,b),this.Ua.remove(b);else{for(var c=this.Ua.Ma(),d=0;b=c[d];d++)hm(this,b);this.Ua.clear()}};a.hm=function(b,c){xd(c,"mouseover",b.jd,m,b);xd(c,"mouseout",b.sl,m,b);xd(c,"mousemove",b.rl,m,b);xd(c,"focus",b.te,m,b);xd(c,"blur",b.sl,m,b)};t.nw=p("Fr");t.Ad=function(b){this.h().innerHTML=b};t.Xg=function(b){var c=this.h();c&&N(c);fm.n.Xg.call(this,b);b&&(c=this.aa.Ca().body,c.insertBefore(b,c.lastChild))};t.Gc=u(32);t.pw=u(10);
t.Rd=function(){return this.om?this.P()?4:1:this.tl?3:this.P()?2:0};t.Zr=function(b){if(!this.P())return m;var c=dg(this.h()),d=ng(this.h());return c.x<=b.x&&b.x<=c.x+d.width&&c.y<=b.y&&b.y<=c.y+d.height};t.oo=function(){if(!Ph.prototype.oo.call(this))return m;if(this.anchor)for(var b,c=0;b=gm[c];c++)rc(b.h(),this.anchor)||b.D(m);z.Wr(gm,this);b=this.h();b.className=this.className;im(this);P(b,"mouseover",this.Pw,m,this);P(b,"mouseout",this.OD,m,this);jm(this);return j};
t.Ij=function(){z.remove(gm,this);for(var b=this.h(),c,d=0;c=gm[d];d++)c.anchor&&rc(b,c.anchor)&&c.D(m);this.iG&&km(this.iG);xd(b,"mouseover",this.Pw,m,this);xd(b,"mouseout",this.OD,m,this);this.anchor=i;0==this.Rd()&&(this.mt=m);Ph.prototype.Ij.call(this)};t.Ux=function(b,c){this.anchor==b&&this.Ua.contains(this.anchor)&&(this.mt||!this.RX?(this.D(m),this.P()||(this.anchor=b,this.Yc(c||lm(this,0)),this.D(j))):this.anchor=i);this.om=i};t.Hh=p("Ua");t.gr=p("bc");
t.iF=function(b){this.tl=i;b==this.anchor&&(this.bc==k||this.bc!=this.h()&&!this.Ua.contains(this.bc))&&(!this.Kk||!this.Kk.bc)&&this.D(m)};a.mm=function(b,c){var d=Lc(b.aa);b.Ni.x=c.clientX+d.x;b.Ni.y=c.clientY+d.y};t.jd=function(b){var c=nm(this,b.target);this.bc=c;im(this);c!=this.anchor&&(this.anchor=c,om(this,c),pm(this),mm(this,b))};a.nm=function(b,c){try{for(;c&&!b.Ua.contains(c);)c=c.parentNode;return c}catch(d){return k}};t.rl=function(b){mm(this,b);this.mt=j};
t.te=function(b){this.bc=b=nm(this,b.target);this.mt=j;if(this.anchor!=b){this.anchor=b;var c=lm(this,1);im(this);om(this,b,c);pm(this)}};a.lm=function(b,c){if(0==c){var d=b.Ni.clone();return new qm(d)}return new rm(b.bc)},a.pm=function(b){if(b.anchor)for(var c,d=0;c=gm[d];d++)rc(c.h(),b.anchor)&&(c.Kk=b,b.iG=c)};
t.sl=function(b){var c=nm(this,b.target),d=nm(this,b.relatedTarget);c!=d&&(c==this.bc&&(this.bc=k),jm(this),this.mt=m,this.P()&&(!b.relatedTarget||!rc(this.h(),b.relatedTarget))?km(this):this.anchor=i)};t.Pw=function(){var b=this.h();this.bc!=b&&(im(this),this.bc=b)};t.OD=function(b){var c=this.h();if(this.bc==c&&(!b.relatedTarget||!rc(c,b.relatedTarget)))this.bc=k,km(this)};
a.om=function(b,c,d){b.om||(b.om=Ld(v(b.Ux,b,c,d),b.vt))},a.jm=function(b){b.om&&(Hd.clearTimeout(b.om),b.om=i)},a.km=function(b){2==b.Rd()&&(b.tl=Ld(v(b.iF,b,b.anchor),b.nw()))},a.im=function(b){b.tl&&(Hd.clearTimeout(b.tl),b.tl=i)};t.w=function(){this.D(m);jm(this);this.detach();this.h()&&N(this.h());this.bc=k;delete this.aa;fm.n.w.call(this)};a.qm=function(b,c){dm.call(this,b,c)};y(qm,dm);
qm.prototype.fa=function(b,c,d){c=ag(b);c=fg(c);d=d?new Of(d.top+10,d.right,d.bottom,d.left+10):new Of(10,0,0,10);$l(this.wh,b,4,d,c,9)&496&&$l(this.wh,b,4,d,c,5)};a.rm=function(b){cm.call(this,b,3)};y(rm,cm);rm.prototype.fa=function(b,c,d){var e=new Lb(10,0);am(this.element,this.Df,b,c,e,d,9)&496&&am(this.element,2,b,1,e,d,5)};a.sm=function(b,c,d){fm.call(this,b,c,d)};y(sm,fm);t=sm.prototype;t.QK=m;t.PK=100;t.sp=m;t.Kj=function(){sm.n.Kj.call(this);this.jq=Rf(og(this.h()));this.anchor&&(this.Au=Rf(og(this.anchor)));this.sp=this.QK;P(this.K().Ca(),"mousemove",this.rl,m,this)};t.Ij=function(){xd(this.K().Ca(),"mousemove",this.rl,m,this);this.Au=this.jq=k;this.sp=m;sm.n.Ij.call(this)};
t.Zr=function(b){if(this.wl){var c=dg(this.h()),d=ng(this.h());return c.x-this.wl.left<=b.x&&b.x<=c.x+d.width+this.wl.right&&c.y-this.wl.top<=b.y&&b.y<=c.y+d.height+this.wl.bottom}return sm.n.Zr.call(this,b)};a.tm=function(b,c){if(b.Au&&b.Au.contains(c)||b.Zr(c))return j;var d=b.Kk;return!!d&&d.Zr(c)};t.iF=function(b){this.tl=i;b==this.anchor&&(!tm(this,this.Ni)&&(!this.gr()&&(!this.Kk||!this.Kk.bc))&&(!C||!(0==this.Ni.x&&0==this.Ni.y)))&&this.D(m)};
t.rl=function(b){var c=this.P();if(this.jq){var d=Lc(this.K()),d=new Lb(b.clientX+d.x,b.clientY+d.y);tm(this,d)?c=m:this.sp&&(c=Pf(this.jq,d)>=Pf(this.jq,this.Ni))}if(c){if(km(this),this.bc=k,c=this.Kk)c.bc=k}else 3==this.Rd()&&im(this);sm.n.rl.call(this,b)};t.Pw=function(){this.gr()!=this.h()&&(this.sp=m,this.bc=this.h())};t.nw=function(){return this.sp?this.PK:sm.n.nw.call(this)};a.um=function(b,c,d,e){fm.call(this,k,k,d);qa(b)?this.ox=b:this.gB=b;this.dK=c!=m;this.Uz=[];this.Ga=e||(d?d.Ca():document);P(this.Ga,"mouseover",this.QD,m,this)};y(um,sm);t=um.prototype;t.w=function(){um.n.w.call(this);xd(this.Ga,"mouseover",this.QD,m,this)};t.ox=function(b){return b.tagName in this.gB&&!!b.getAttribute(this.gB[b.tagName])};t.QD=function(b){if(b=b.target)if(this.ox(b))this.Yc(k),vm(this,b);else if(this.dK&&(b=Hc(b,v(this.ox,this),m,this.pX)))this.Yc(k),vm(this,b)};
a.vm=function(b,c,d){if(c==b.Te)im(b);else if(c!=b.anchor){if(1==b.Rd()||4==b.Rd())jm(b),wm(b);var e=new xm("trigger",b,c,i);b.Hh().contains(c)||(b.attach(c),b.Uz.push(c));b.anchor=c;b.ty(e)?om(b,c,d||b.Ps):wm(b)}},a.ym=function(b,c){var d=z.indexOf(b.Uz,c);-1!=d&&(b.detach(c),b.Uz.splice(d,1))};t.ty=function(b){return this.dispatchEvent(b)};a.wm=function(b){b.dispatchEvent(new xm("canceltrigger",b,b.anchor||k));ym(b,b.anchor);delete b.anchor};
t.Ij=function(){um.n.Ij.call(this);k!=this.Te&&ym(this,this.Te);this.Te=k};t.jd=function(b){var c=nm(this,b.target);c&&c!=this.anchor?vm(this,c):um.n.jd.call(this,b)};t.sl=function(b){var c=this.anchor,d=this.Rd();um.n.sl.call(this,b);if(d!=this.Rd()&&(1==d||4==d))this.anchor=c,wm(this)};t.Ux=function(b,c){um.n.Ux.call(this,b,c);this.P()?(b!=this.Te&&ym(this,this.Te),this.Te=b):(jm(this),wm(this))};a.xm=function(b,c,d,e){gd.call(this,b,c);this.anchor=d;this.data=e};y(xm,gd);a.zm=function(b,c,d){cm.call(this,b,c);this.aB=d};y(zm,cm);zm.prototype.tn=s(5);
zm.prototype.fa=function(b,c,d,e){var g={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},h;if(this.aB){h=am(this.element,this.Df,b,c,k,d,10,e);var l=Am(h,this.Df),n=Am(h,c);h&496&&(h=am(this.element,l,b,n,k,d,10,e),h&496&&(l=Am(h,l),n=Am(h,n),this.aB?am(this.element,l,b,n,k,d,this.tn(),e):am(this.element,l,b,n,k,d,0,e)));this.Os&&(b=(la(l)?l:this.Df)+"-"+(la(c)?c:n),this.Os(g[b],b))}else am(this.element,this.Df,b,c,i,d),this.Os&&
(b=this.Df+"-"+c,this.Os(g[b],b))};a.Am=function(b,c){b&48&&(c^=2);b&192&&(c^=1);return c};a.Bm=!!window.DOMTokenList,a.Cm=Bm?function(b){return b.classList}:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},a.Dm=Bm?function(b,c){return b.classList.contains(c)}:function(b,c){return z.contains(Cm(b),c)},a.Em=Bm?function(b,c){b.classList.add(c)}:function(b,c){Dm(b,c)||(b.className+=0<b.className.length?" "+c:c)},a.Fm=Bm?function(b,c){b.classList.remove(c)}:function(b,c){Dm(b,c)&&(b.className=z.filter(Cm(b),function(b){return b!=c}).join(" "))};a.Gm=function(b,c){T.call(this,c);this.Jb=b||""};y(Gm,T);Gm.prototype.Nf=k;a.Hm="placeholder"in document.createElement("input");t=Gm.prototype;t.Bn=m;t.v=function(){this.g=this.K().v("input",{type:"text"})};t.$=function(b){Gm.n.$.call(this,b);this.Jb||(this.Jb=b.getAttribute("label")||"");Jc(Qb(b))==b&&(this.Bn=j,Fm(this.h(),this.ym));Hm?this.h().placeholder=this.Jb:Nc(this.h(),Uc.Mp,this.Jb)};
t.B=function(){Gm.n.B.call(this);var b=new me(this);b.e(this.h(),"focus",this.xD);b.e(this.h(),"blur",this.yw);Hm?this.N=b:(C&&b.e(this.h(),["keypress","keydown","keyup"],this.xM),b.e($b(Qb(this.h())),"load",this.lN),this.N=b,Im(this));this.sh();this.h().vO=this};t.ib=function(){Gm.n.ib.call(this);this.N&&(this.N.G(),this.N=k);this.h().vO=k};a.Im=function(b){!b.FL&&(b.N&&b.h().form)&&(b.N.e(b.h().form,"submit",b.zM),b.FL=j)};t.w=function(){Gm.n.w.call(this);this.N&&(this.N.G(),this.N=k)};t.ym="label-input-label";
t.xD=function(){this.Bn=j;Fm(this.h(),this.ym);if(!Hm&&!Jm(this)&&!this.CN){var b=this,c=function(){b.h().value=""};A?Ld(c,10):c()}};t.yw=function(){Hm||(this.N.Ea(this.h(),"click",this.xD),this.Nf=k);this.Bn=m;this.sh()};t.xM=function(b){27==b.keyCode&&("keydown"==b.type?this.Nf=this.h().value:"keypress"==b.type?this.h().value=this.Nf:"keyup"==b.type&&(this.Nf=k),b.preventDefault())};t.zM=function(){Jm(this)||(this.h().value="",Ld(this.ZL,10,this))};t.ZL=function(){Jm(this)||(this.h().value=this.Jb)};
t.lN=function(){this.sh()};a.Jm=function(b){return!!b.h()&&""!=b.h().value&&b.h().value!=b.Jb};t.clear=function(){this.h().value="";this.Nf!=k&&(this.Nf="")};t.reset=function(){Jm(this)&&(this.clear(),this.sh())};t.Aa=function(b){this.Nf!=k&&(this.Nf=b);this.h().value=b;this.sh()};t.W=function(){return this.Nf!=k?this.Nf:Jm(this)?this.h().value:""};
t.sh=function(){Hm?this.h().placeholder!=this.Jb&&(this.h().placeholder=this.Jb):(Im(this),Nc(this.h(),Uc.Mp,this.Jb));if(Jm(this))b=this.h(),Fm(b,this.ym);else{if(!this.CN&&!this.Bn){var b=this.h();Em(b,this.ym)}Hm||Ld(this.yR,10,this)}};t.Xa=function(b){this.h().disabled=!b;var c=this.h(),d=this.ym+"-disabled";!b?Em(c,d):Fm(c,d)};t.isEnabled=function(){return!this.h().disabled};t.yR=function(){this.h()&&(!Jm(this)&&!this.Bn)&&(this.h().value=this.Jb)};a.Om=function(b,c,d){O.call(this);this.jf=b;this.nf=d;this.M=c;P(c,[Km,Lm,Mm,Nm],this);this.Rb=k;this.eb=[];this.Sc=-1;this.Ec=0;this.Id=this.Pb=k;this.nE={}};y(Om,Gd);t=Om.prototype;t.El=10;t.Em=j;t.dB=m;t.fI=m;t.IH=m;a.Km="hilite",a.Lm="select",a.Nm="dismiss",a.Mm="canceldismiss",a.Pm={qV:"rowhilite",uU:Km,uV:Lm,xI:Nm,RT:Mm,UV:"update",zi:"suggestionsupdate"};t=Om.prototype;
t.handleEvent=function(b){if(b.target==this.M)switch(b.type){case Km:this.ve(b.Io);break;case Lm:this.Yj();break;case Mm:Qm(this);break;case Nm:this.Ri()}};t.qt=function(b,c){this.Rb!=b&&(this.Rb=b,this.jf.bi(this.Rb,this.El,v(this.JO,this),c),Qm(this))};t.ob=function(){return this.M.P()};
a.Rm=function(b){var c=b.Ec+b.eb.length-1;b.Sc>=b.Ec&&b.Sc<c?b.ve(b.Sc+1):-1==b.Sc?b.ve(b.Ec):b.Sc==c&&(b.dB?b.ve(-1):b.fI&&b.ve(b.Ec))},a.Sm=function(b){b.Sc>b.Ec?b.ve(b.Sc-1):b.dB&&b.Sc==b.Ec?b.ve(-1):b.fI&&(-1==b.Sc||b.Sc==b.Ec)&&b.ve(b.Ec+b.eb.length-1)};t.ve=function(b){this.Sc=b;this.M.ve(b);return-1!=Tm(this,b)};
t.Yj=function(){var b=Tm(this,this.Sc);if(-1!=b){var b=this.eb[b],c=this.nf.ei(b);this.IH?(this.Rb=k,this.Ri()):this.Dc();c||(this.dispatchEvent({type:"update",Io:b}),this.IH&&this.nf.update(j));return j}this.Dc();this.dispatchEvent({type:"update",Io:k});return m};t.Dc=function(){this.Sc=-1;this.Rb=k;this.Ec+=this.eb.length;this.eb=[];window.clearTimeout(this.Id);this.Id=k;this.M.Dc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(Nm)};
t.Ri=function(){this.Id||(this.Id=window.setTimeout(v(this.Dc,this),100))};t.fE=function(){return this.Id?(window.clearTimeout(this.Id),this.Id=k,j):m};a.Qm=function(b){b.fE()||window.setTimeout(v(b.fE,b),10)};t.w=function(){Om.n.w.call(this);delete this.nE;this.M.G();this.nf.G();this.jf=k};t.JO=function(b,c,d){this.Rb==b&&this.Zl(c,d)};
t.Zl=function(b,c){var d="object"==ka(c)&&c,e=(d?d.SW():c)?Tm(this,this.Sc):-1;this.Ec+=this.eb.length;this.eb=b;for(var g=[],h=0;h<b.length;++h)g.push({id:this.Ec+h,data:b[h]});h=k;this.Pb&&(h=this.nE[ua(this.Pb)]||this.Pb);this.M.vJ=h;this.M.Zl(g,this.Rb,this.Pb);h=this.Em;d&&d.LL()!==i&&(h=d.LL());(h||0<=e)&&0!=g.length&&this.Rb?this.ve(0<=e?this.Ec+e:this.Ec):this.Sc=-1;this.dispatchEvent("suggestionsupdate")};a.Tm=function(b,c){var d=c-b.Ec;return 0>d||d>=b.eb.length?-1:d};
t.Ck=function(b){var c=this.nf;c.Ck.apply(c,arguments)};t.update=function(b){this.nf.update(b)};Om.mh=Pm;a.Wm=function(b){var c;a:{var d=0,e=0;if(Um(b))d=b.selectionStart,e=-1;else if(A){var g=Vm(b);c=g[0];g=g[1];if(c.inRange(g)){c.setEndPoint("EndToStart",g);if("textarea"==b.type){g.duplicate();d=b=c.text;for(e=m;!e;)0==c.compareEndPoints("StartToEnd",c)?e=j:(c.moveEnd("character",-1),c.text==b?d+="\r\n":e=j);c=[d.length,-1];break a}d=c.text.length;e=-1}}c=[d,e]}return c[0]},a.Vm=function(b){var c=b.ownerDocument||b.document,d=c.selection.createRange();"textarea"==b.type?(c=c.body.createTextRange(),
c.moveToElementText(b)):c=b.createTextRange();return[c,d]},a.Xm=function(b,c){"textarea"==b.type&&(c=Ma(b.value.substring(0,c)).length);return c},a.Um=function(b){try{return"number"==typeof b.selectionStart}catch(c){return m}};a.Ym=function(b,c){O.call(this);b&&this.attach(b,c)};y(Ym,Gd);t=Ym.prototype;t.g=k;t.ds=k;t.yx=k;t.es=k;t.Ud=-1;t.Rh=-1;t.yu=m;
a.Zm={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},a.$m={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},a.an=A||D&&E("525"),a.bn=kb&&C;t=Ym.prototype;
t.cf=function(b){if(D&&(17==this.Ud&&!b.ctrlKey||18==this.Ud&&!b.altKey||kb&&91==this.Ud&&!b.metaKey))this.Rh=this.Ud=-1;-1==this.Ud&&(b.ctrlKey&&17!=b.keyCode?this.Ud=17:b.altKey&&18!=b.keyCode?this.Ud=18:b.metaKey&&91!=b.keyCode&&(this.Ud=91));an&&!sh(b.keyCode,this.Ud,b.shiftKey,b.ctrlKey,b.altKey)?this.handleEvent(b):(this.Rh=C?th(b.keyCode):b.keyCode,bn&&(this.yu=b.altKey))};t.HM=function(b){this.Rh=this.Ud=-1;this.yu=b.altKey};
t.handleEvent=function(b){var c=b.Ub,d,e,g=c.altKey;A&&"keypress"==b.type?(d=this.Rh,e=13!=d&&27!=d?c.keyCode:0):D&&"keypress"==b.type?(d=this.Rh,e=0<=c.charCode&&63232>c.charCode&&rh(d)?c.charCode:0):rb?(d=this.Rh,e=rh(d)?c.keyCode:0):(d=c.keyCode||this.Rh,e=c.charCode||0,bn&&(g=this.yu),kb&&(63==e&&224==d)&&(d=191));var h=d,l=c.keyIdentifier;d?63232<=d&&d in Zm?h=Zm[d]:25==d&&b.shiftKey&&(h=9):l&&l in $m&&(h=$m[l]);b=h==this.Ud;this.Ud=h;c=new cn(h,e,b,c);c.altKey=g;this.dispatchEvent(c)};t.h=p("g");
t.attach=function(b,c){this.es&&this.detach();this.g=b;this.ds=P(this.g,"keypress",this,c);this.yx=P(this.g,"keydown",this.cf,c,this);this.es=P(this.g,"keyup",this.HM,c,this)};t.detach=function(){this.ds&&(zd(this.ds),zd(this.yx),zd(this.es),this.es=this.yx=this.ds=k);this.g=k;this.Rh=this.Ud=-1};t.w=function(){Ym.n.w.call(this);this.detach()};a.cn=function(b,c,d,e){e&&this.z(e,i);this.type="key";this.keyCode=b;this.charCode=c;this.repeat=d};y(cn,kd);a.dn=function(b,c,d,e){O.call(this);e=e||150;this.Il=d!=k?d:j;this.Ko=b||",;";this.VK=this.Ko.substring(0,1);b=this.Il?"[\\s"+this.Ko+"]+":"[\\s]+";this.JH=RegExp("^"+b+"|"+b+"$","g");this.QR=RegExp("\\s*["+this.Ko+"]$");this.SE=c||"";this.RQ=this.Il;this.na=0<e?new Id(e):k;this.dc=new me(this);this.ju=new me(this);this.lb=new Ym;this.KE=-1};y(dn,O);a.en=(Lg||Mg)&&!E("533.17.9");t=dn.prototype;t.sT=j;t.JL=j;t.QH=m;t.SR=j;t.RR=j;t.mu=k;t.$a=k;t.Zn="";t.ui=m;t.cz=m;t.OH=j;t.gr=p("$a");t.W=function(){return this.$a.value};
t.Aa=function(b){this.$a.value=b};t.aq=function(b){ra(b)&&1==b.nodeType&&Nc(b,"haspopup",j);this.dc.e(b,"focus",this.te);this.dc.e(b,"blur",this.Rc);this.$a||(this.ju.e(b,"keydown",this.JP),ra(b)&&1==b.nodeType&&Jc(Qb(b))==b&&fn(this,b))};t.Ck=function(b){for(var c=0;c<arguments.length;c++)this.aq(arguments[c])};t.ei=function(b,c){gn(this,b.toString(),c);return m};
a.gn=function(b,c,d){if(la(d)?d:b.Il){var d=hn(b,b.W(),Wm(b.$a)),e=jn(b,b.W());b.QR.test(c)||(c=Pa(c)+b.VK);b.sT&&(0!=d&&!Ka(e[d-1])&&(c=" "+c),d==e.length-1&&(c+=" "));if(c!=e[d]){e[d]=c;c=b.$a;(C||A&&E("9"))&&c.blur();c.value=e.join("");for(var g=0,h=0;h<=d;h++)g+=e[h].length;c.focus();d=g;e=b.$a;c=d;Um(e)?e.selectionStart=c:A&&(g=Vm(e),h=g[0],h.inRange(g[1])&&(c=Xm(e,c),h.collapse(j),h.move("character",c),h.select()));e=b.$a;Um(e)?e.selectionEnd=d:A&&(g=Vm(e),c=g[1],g[0].inRange(c)&&(d=Xm(e,d),
e=Xm(e,Wm(e)),c.collapse(j),c.moveEnd("character",d-e),c.select()))}}else b.Aa(c);b.cz=j};t.w=function(){dn.n.w.call(this);this.mu!=k&&window.clearTimeout(this.mu);this.dc.G();delete this.dc;this.ju.G();this.lb.G()};
t.Vb=function(b){switch(b.keyCode){case 40:if(this.Y.ob())return this.QH?Sm(this.Y):Rm(this.Y),b.preventDefault(),j;if(!this.Il)return this.update(j),b.preventDefault(),j;break;case 38:if(this.Y.ob())return this.QH?Rm(this.Y):Sm(this.Y),b.preventDefault(),j;break;case 9:if(this.Y.ob()&&!b.shiftKey){if(this.update(),this.Y.Yj()&&this.RQ)return b.preventDefault(),j}else this.Y.Dc();break;case 13:if(this.Y.ob()){if(this.update(),this.Y.Yj())return b.preventDefault(),b.stopPropagation(),j}else this.Y.Dc();
break;case 27:if(this.Y.ob())return this.Y.Dc(),b.preventDefault(),b.stopPropagation(),j;break;case 229:if(!this.ui)return this.ui||(this.dc.e(this.$a,"keyup",this.QF),this.dc.e(this.$a,"keypress",this.PF),this.ui=j),j;break;default:this.na&&!this.OH&&(this.na.stop(),this.na.start())}return kn(this,b)};a.kn=function(b,c){var d=b.Il&&c.charCode&&-1!=b.Ko.indexOf(String.fromCharCode(c.charCode));b.SR&&d&&b.update();return b.RR&&d&&b.Y.Yj()?(c.preventDefault(),j):m};t.ur=s(m);
a.ln=function(b){b.lb.attach(b.$a);b.dc.e(b.lb,"key",b.uo);b.dc.e(b.$a,"mousedown",b.RF);A&&b.dc.e(b.$a,"keypress",b.NF)};t.te=function(b){fn(this,b.target||k)};a.fn=function(b,c){b.ju.removeAll();b.Y&&Qm(b.Y);c!=b.$a&&(b.$a=c,b.na&&(b.na.start(),b.dc.e(b.na,Kd,b.Ml)),b.Zn=b.W(),ln(b))};t.Rc=function(){en?this.mu=window.setTimeout(v(this.sG,this),0):this.sG()};
t.sG=function(){this.$a&&(this.dc.Ea(this.lb,"key",this.uo),this.lb.detach(),this.dc.Ea(this.$a,"keyup",this.ur),this.dc.Ea(this.$a,"mousedown",this.RF),A&&this.dc.Ea(this.$a,"keypress",this.NF),this.ui&&mn(this),this.$a=k,this.na&&(this.na.stop(),this.dc.Ea(this.na,Kd,this.Ml)),this.Y&&this.Y.Ri())};t.Ml=function(){this.update()};t.JP=function(b){this.te(b)};t.uo=function(b){this.KE=b.keyCode;this.Y&&this.Vb(b)};t.PF=function(){this.ui&&229!=this.KE&&mn(this)};
t.QF=function(b){this.ui&&(13==b.keyCode||77==b.keyCode&&b.ctrlKey)&&mn(this)};t.RF=function(b){this.Y&&this.ue(b)};t.ue=ba();a.mn=function(b){b.ui&&(b.ui=m,b.dc.Ea(b.$a,"keypress",b.PF),b.dc.Ea(b.$a,"keyup",b.QF))};t.NF=function(b){kn(this,b)};t.update=function(b){if(this.$a&&(b||this.W()!=this.Zn)){if(b||!this.cz){var b=Wm(this.$a),c=this.W(),b=jn(this,c)[hn(this,c,b)],b=this.JH?String(b).replace(this.JH,""):b;this.Y&&(this.Y.Pb=this.$a,this.Y.qt(b,this.W()))}this.Zn=this.W()}this.cz=m};
a.hn=function(b,c,d){b=jn(b,c);if(d==c.length)return b.length-1;for(var e=c=0,g=0;e<b.length&&g<=d;e++)g+=b[e].length,c=e;return c},a.jn=function(b,c){if(!b.Il)return[c];for(var d=String(c).split(""),e=[],g=[],h=0,l=m;h<d.length;h++)b.SE&&-1!=b.SE.indexOf(d[h])?(b.JL&&!l&&(e.push(g.join("")),g.length=0),g.push(d[h]),l=!l):!l&&-1!=b.Ko.indexOf(d[h])?(g.push(d[h]),e.push(g.join("")),g.length=0):g.push(d[h]);e.push(g.join(""));return e};Om.Lp=dn;Om.Lp.AV=",;";Om.Lp.fV='"';a.nn=function(b,c,d,e){dn.call(this,b,c,d,e)};y(nn,dn);nn.prototype.ei=function(b){var c=nn.n.ei.call(this,b);b.select(this.Y.Pb);return c};Om.HI=nn;a.on=function(b,c,d,e){O.call(this);this.Sa=b||document.body;this.aa=Rb(this.Sa);this.Do=!b;this.g=k;this.Rb="";this.eb=[];this.ag=[];this.mH=this.vl=-1;this.kb=m;this.className="ac-renderer";this.ci="ac-row";this.OE="active";this.lu="ac-active";this.uN="ac-highlighted";this.Qk=c||k;this.SH=e!=k?e:j;this.Gr=m;this.DR=!!d;this.Ot=m;this.eo=0};y(on,Gd);t=on.prototype;t.h=p("g");t.ki=ca("SH");
t.Zl=function(b,c,d){this.Rb=c;this.eb=b;this.vl=-1;this.mH=Aa();this.Pb=d;this.ag=[];this.g||(this.g=b=this.aa.v("div",{style:"display:none"}),F.add(b,this.className),Mc(b,Vc.HA),b.id=Gh(Fh.O()),this.aa.appendChild(this.Sa,b),P(b,"click",this.nr,m,this),P(b,"mousedown",this.hj,m,this),P(b,"mouseover",this.zD,m,this));this.Ot&&(this.g.style.visibility="hidden");this.tT&&(this.g.style.minWidth=this.tT.clientWidth+"px");this.ag.length=0;this.aa.$s(this.g);if(this.Qk&&this.Qk.X)this.Qk.X(this,this.g,
this.eb,this.Rb);else{var e=k;Q.forEach(this.eb,function(b){b=pn(this,b,this.Rb);this.Ot?this.g.insertBefore(b,e):this.aa.appendChild(this.g,b);e=b},this)}0==this.eb.length?this.Dc():(this.show(),this.fa(),sg(this.g,j))};t.Dc=function(){this.Pb&&Nc(this.Pb,"activedescendant","");this.kb&&(this.kb=m,this.Pb&&Nc(this.Pb,Uc.wk,m),0<this.eo?(Tc(this.Ak),this.Ak=new Jj(this.g,this.eo),this.Ak.play()):R(this.g,m))};
t.show=function(){this.kb||(this.kb=j,this.Pb&&(Mc(this.Pb,Vc.uI),Nc(this.Pb,Uc.qI,"list"),Nc(this.Pb,Uc.wk,j)),0<this.eo?(Tc(this.Ak),this.Ak=new Kj(this.g,this.eo),this.Ak.play()):R(this.g,j))};t.P=p("kb");a.qn=function(b,c){var d=0<=c&&c<b.ag.length?b.ag[c]:i;b.dispatchEvent({type:"rowhilite",SX:d})&&(0<=b.vl&&F.remove(b.ag[b.vl],b.lu,b.OE),b.vl=c,d&&(F.add(d,b.lu,b.OE),b.Pb&&Nc(b.Pb,"activedescendant",d?d.id:""),hg(d,b.g)))};
t.ve=function(b){if(-1==b)qn(this,-1);else for(var c=0;c<this.eb.length;c++)if(this.eb[c].id==b){qn(this,c);break}};t.fa=function(){if(this.Pb&&this.Do){var b;b=this.DR?3:1;this.Ot&&(b^=1);am(this.vJ||this.Pb,b,this.g,b^1,k,k,65);this.Ot&&(this.g.style.visibility="visible")}};t.w=function(){this.g&&(xd(this.g,"click",this.nr,m,this),xd(this.g,"mousedown",this.hj,m,this),xd(this.g,"mouseover",this.zD,m,this),this.aa.removeNode(this.g),this.g=k,this.kb=m);Tc(this.Ak);this.Sa=k;on.n.w.call(this)};
t.GG=function(b,c,d){d.innerHTML=Wa(b.data.toString())};
a.rn=function(b,c,d){if(3==c.nodeType){var e=k;ma(d)&&(1<d.length&&!b.Gr)&&(e=z.slice(d,1));var g="";d&&(ma(d)&&(d=z.filter(d,function(b){return!Ka(b==k?"":String(b))})),b.Gr?ma(d)?g=z.map(d,$a).join("|"):(g=d.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),g=$a(g),g=g.replace(/ /g,"|")):ma(d)?g=0<d.length?$a(d[0]):"":/^\W/.test(d)||(g=$a(d)));d=g;if(0!=d.length){for(var g=c.nodeValue,h=RegExp("([\\s\\S]*?)\\b("+d+")","gi"),d=[],l=0,n=h.exec(g),q=0;n;)q++,d.push(n[1]),d.push(n[2]),l=h.lastIndex,
n=h.exec(g);d.push(g.substring(l));if(1<d.length){e=!b.Gr?1:q;for(g=0;g<e;g++)h=2*g,c.nodeValue=d[h],l=b.aa.createElement("b"),l.className=b.uN,b.aa.appendChild(l,b.aa.createTextNode(d[h+1])),l=c.parentNode.insertBefore(l,c.nextSibling),c.parentNode.insertBefore(b.aa.createTextNode(""),l.nextSibling),c=l.nextSibling;b=z.slice(d,2*e);c.nodeValue=b.join("")}else e&&rn(b,c,e)}}else for(c=c.firstChild;c;)e=c.nextSibling,rn(b,c,d),c=e},a.pn=function(b,c,d){var e=b.aa.v("div",{className:b.ci,id:Gh(Fh.O())});
Mc(e,Vc.KA);b.Qk&&b.Qk.Wc?b.Qk.Wc(c,d,e):b.GG(c,d,e);d&&b.SH&&rn(b,e,d);F.add(e,b.ci);b.ag.push(e);return e},a.sn=function(b,c){for(;c&&c!=b.g&&!F.has(c,b.ci);)c=c.parentNode;return c?z.indexOf(b.ag,c):-1};t.nr=function(b){var c=sn(this,b.target);0<=c&&this.dispatchEvent({type:Lm,Io:this.eb[c].id});b.stopPropagation()};t.hj=function(b){b.stopPropagation();b.preventDefault()};t.zD=function(b){b=sn(this,b.target);0<=b&&!(300>Aa()-this.mH)&&this.dispatchEvent({type:Km,Io:this.eb[b].id})};a.tn=function(){};
tn.prototype.X=ba();tn.prototype.Wc=ba();Om.hu=on;Om.hu.$T=300;Om.hu.YT=tn;a.vn=function(b,c){O.call(this);this.jT=b;this.oA=!c;this.ga=new xe};y(vn,O);t=vn.prototype;t.oF="GET";t.pc=i;t.qN=k;t.Ex=k;t.pz=ca("oF");t.Ha=ca("pc");t.yT=function(b,c,d){var d=He(d.target),e=[];if(d)try{e=Xc(d)}catch(g){}c(b,e)};
t.bi=function(b,c,d){var e,g=this.oA;e=new vf(this.jT);rj(e);e.zd.set("token",b);c=String(c);rj(e);e.zd.set("max_matches",c);g=String(Number(g));rj(e);e.zd.set("use_similar",g);if(e=e.toString())b=v(this.yT,this,b,d),this.ga.Xb()&&this.ga.abort(),this.Ex&&zd(this.Ex),this.Ex=wd(this.ga,"success",b),this.ga.send(e,this.oF,this.pc,this.qN)};t.w=function(){this.ga.G();vn.n.w.call(this)};Om.OA=vn;a.wn=function(b,c,d,e){this.jf=b=new vn(b,!e);e=new on;d=new dn(k,k,!!d,300);Om.call(this,b,e,d);d.Y=this;d.Ck(c)};y(wn,Om);wn.prototype.ki=function(b){this.M.ki(b)};wn.prototype.pz=function(b){this.jf.pz(b)};wn.prototype.Ha=function(b){this.jf.Ha(b)};Om.GI=wn;a.xn=function(b,c){Om.OA.call(this,b,c);this.bz=k;this.SC=j};y(xn,Om.OA);xn.prototype.UQ=["根话题","未归类话题"];xn.prototype.To=ca("bz");xn.prototype.bi=function(b,c,d){var e=v(function(b,c){for(var e=[],n,q=0;q<c.length;q++)for(var r=1;r<c[q].length;r++){n=c[q][r];var w=j;this.SC&&z.forEach(this.UQ,function(b){n[2]===b&&(w=m)});w&&e.push(n)}this.bz&&(e=this.bz(e,b));d(b,e)},this);xn.n.bi.call(this,b,c,e)};a.yn=function(b,c,d,e){this.pF=0;Om.Lp.call(this,b,c,!!d,e||300)};y(yn,Om.Lp);t=yn.prototype;
t.ei=function(b){var c=Om.HI.n.ei.call(this,b),d=this.Y.Pb,e=this.Y;e.UG=b;e.dispatchEvent("select");d.value="";return c};t.Aa=ba();t.update=function(b){var c=tk(this.W());!c||"搜索用户"===c||"搜索话题"===c||"在这里输入问题"===c||z.contains(this.Y.Nv||[],c)||(!c?0:unescape(encodeURIComponent(c)).length)<this.pF||c===this.cF?(this.Y.Ri(),this.Zn=c):(this.cF=k,this.Y.dispatchEvent({type:zn}),yn.n.update.call(this,b))};
t.te=function(b){this.Y&&Qm(this.Y);b.target!==this.$a&&(this.$a=b.target||k,this.na&&(this.na.start(),this.dc.e(this.na,Kd,this.Ml)),this.Zn=this.W(),ln(this));this.na&&this.na.start();this.update(j)};t.Rc=function(){this.na&&this.na.stop();this.Y&&this.Y.Ri()};
t.Vb=function(b){if(13===b.keyCode){if(this.Y.ob()){if(this.Y.Yj())return b.preventDefault(),b.stopPropagation(),j;b.preventDefault();b.stopPropagation();this.Y.Rb="";this.Y.Dc();this.update(j);return m}b.stopPropagation();b.preventDefault();return m}yn.n.Vb.call(this,b)};t.aq=function(b){yn.n.aq.call(this,b);this.dc.e(b,"mousedown",function(b){b.stopPropagation();return j})};a.An=function(b,c,d,e){yn.call(this,b,c,!!d,e)};y(An,yn);
An.prototype.ei=function(b){var c=this.Y;c.UG=b;c.dispatchEvent("select");return m};a.Bn=function(b,c,d,e,g,h,l,n,q){var r={};"question_suggest"===h?(r.X=v(this.pR,this),r.Wc=Dk):"topic_question"===h?(r.X=v(this.rR,this),r.Wc=Ck):r.Wc=h?Ck:Dk;h=new Om.hu(g,r);g&&(h.Do=m);h.Gr=j;this.M=h;this.jf=new xn(b,!e);b=q?q:new yn(k,k,d);l&&l.length&&new al(c,l[0]);b.OH=m;Om.call(this,this.jf,h,b);b.Y=this;b.aq(c);n&&(b.pF=n)};y(Bn,Om.GI);a.zn="before_update";t=Bn.prototype;t.vC=j;
t.pR=function(b,c,d){Q.forEach(d,function(b){b=pn(this,b,this.Rb);this.aa.appendChild(this.g,b)},b);kc(b.g,b.aa.v("div","zh-question-suggest-info",[b=b.aa.v("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[b.aa.v("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);P(b,"click",function(){var b=this.nf;b.Rc();this.Dc();b.cF=b.W()},m,this)};
t.rR=function(b,c,d){0===d.length?this.Dc():(Q.forEach(d,function(b){b=pn(this,b,this.Rb);this.aa.appendChild(this.g,b)},b),c=b.aa.v("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",b.aa.v("span","x-m")]),kc(b.g,c,0),bh.vc&&P(c,"click",function(){this.nf.Rc();this.Dc()},m,this))};t.cj=p("UG");t.To=function(b){this.jf.To(b)};t.Dc=function(){if(this.vC)return Bn.n.Dc.call(this)};t.Yj=function(){return-1===Tm(this,this.Sc)?m:Bn.n.Yj.call(this)};
t.Ri=function(){bh.vc?wd(document,"click",v(this.Dc,this)):Bn.n.Ri.call(this)};a.Cn=function(b){O.call(this);this.vp=j;this.ni=this.gp=-1;this.yH="";this.nb=k;G.extend(this.F={},this.defaults,b||{})};y(Cn,Sk);a.Dn=Zi.create("PMForm"+S.Fe);t=Cn.prototype;t.defaults={mG:"pm",Zs:m};t.Xg=ca("g");t.h=p("g");t.gx=function(){this.nb=new xi(k,m);this.nb.Ya("发送私信");gi(this.nb,k);this.nb.D(j);this.g=this.nb.U()};t.focus=function(){this.z();this.Wb.focus()};
t.z=function(){this.oN||(this.oN=j,this.vp&&(this.nb||this.gx(),this.g.innerHTML='<div class="zm-pm-wrap"><dl class="zm-form-table zm-form-table-medium"><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">发给：</label></dt><dd class="zm-form-table-field"><div class="zm-pm-selector-wrap"><div class="zg-user-name" style="display:none;padding:4px 0 0 0"></div><input class="zg-form-text-input zm-pm-user-selector" type="text" /></div></dd><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">内容：</label></dt><dd class="zm-form-table-field zm-form-table-field-last"><div class="zg-editor-simple-wrap zg-form-text-input"><textarea class="zg-editor-input" style="font-weight:normal"></textarea></div></dd></dl><div class="zh-pm-warnmsg" style="display:none;text-align:right;color:#C3412F;"></div><div class="zm-command zg-clear"><div class="zm-item-meta zg-left" style="margin: 0 0 0 57px;"><span class="zg-text-counter" style="display:none">还可以输入 500 字</span><span class="additional-info" ></span></div><a name="cancel" href="javascript:;" class="zm-command-cancel">取消</a><a name="send" href="javascript:;" class="zg-btn-blue zg-r3px" id="zh-question-pm-send-button">发送</a></div></div>'),this.jg=
K("zg-user-name",this.g),this.Wb=K("zg-editor-input",this.g),this.Kc=K("zm-pm-user-selector",this.g),this.Ji=K("zm-command",this.g),this.rW=K("zg-text-counter",this.g),this.ws=K("zh-pm-warnmsg",this.g),this.BT=$(".additional-info",$(this.g)),this.nG=new Vk(this.Wb),this.m().e(this.Ji,"click",this.ra).e(this.jg,"click",this.ra).e(this.Wb,"keydown",this.DM),this.Kc&&((new Gm("搜索用户")).o(this.Kc),this.m().e(this.Kc,"blur",this.fK),this.T=new Bn("/people/autocomplete?type="+this.F.mG,this.Kc,k,k,K("zm-pm-wrap",
this.g),j),this.T.ki(j),this.m().e(this.T,"select",this.ZP)),this.Gv(),this.Lx(),S.Bi||En(this,"未激活用户，不能发送私信。请先激活邮箱。"))};t.DM=function(b){if(13===b.keyCode&&(b.ctrlKey||b.metaKey))this.KD(),b.preventDefault()};a.Fn=function(b,c){b.WW=c;b.jg.innerHTML+='<a class="zm-profile-email-history-link" href="'+c+'">私信记录  »</a>'};t.fK=function(){this.IB&&clearTimeout(this.IB);this.IB=setTimeout(v(this.gK,this),200)};t.gK=function(){var b=tk(this.Kc.value);-1===this.ni&&(b&&"搜索用户"!==b)&&En(this,"请输入对方姓名，从下拉菜单里选择收件人")};
t.qt=ca("PR");t.show=function(){this.z();this.vp&&(this.nb.D(j),this.nb.fa())};t.Gv=function(){if(this.Jk)$(window).on("beforeunload.PMForm",v(function(){this.it()},this))};t.yv=function(){this.Jk&&$(window).off("beforeunload.PMForm")};t.it=function(){this.Jk&&this.Wb.value&&Dn.Bd("content",this.Wb.value)};t.Lx=function(){if(this.Jk){var b=Dn.get("content");b&&(this.Wb.value=b)}};t.Yu=function(){this.Jk&&Dn.remove("content")};t.ZP=function(){var b=z.slice(this.T.cj(),1);Gn(this,b[3],b[0],j)};
a.Gn=function(b,c,d,e){-1===c?(c=b.jg,R(b.Kc,j),R(c,m)):c!==S.Fe&&(b.ni=c,b.yH=d,b.jg&&b.Kc&&(b.jg.innerHTML=b.yH+(e?wk():""),c=b.Kc,R(b.jg,j),R(c,m),b.Kc.value=""))};
t.KD=ql(function(){if(!(this.sd&&"pending"===this.sd.state()))if(-1===this.ni)En(this,"请填写收信人。");else{var b=this.Wb.value;Oa(b)?(b=-1!==this.gp?$.post("/inbox/reply",{message_id:this.gp,content:b,type:this.Vz}):$.post("/inbox/post",{member_id:this.ni,content:b,token:this.PR}),b.done(v(this.aQ,this)),this.sd=b):En(this,"请填写私信内容。")}},j);t.ra=function(b){if(b=(b=this.$e(b.target))&&b.name)switch(b){case "edit":this.ni=-1;b=this.jg;R(this.Kc,j);R(b,m);break;case "cancel":this.vp&&this.nb.D(m);break;case "send":this.KD()}};
a.En=function(b,c){b.ws.innerHTML=c;R(b.ws,j)};t.aQ=function(b){Ik("message","send_message");b&&!b.r?(this.yv(),this.Yu(),this.vp&&this.nb.D(m),this.F.Zs?window.location.reload():V("发送成功")):En(this,b.msg)};t.Jk=j;a.Hn=function(){O.call(this);this.gS=this.tN=250;this.rh={}};y(Hn,Sk);a.In={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};t=Hn.prototype;t.wN={t:0,r:2,b:1,l:2};a.Jn=function(b,c){return'<div class="popover-content no-hovercard">'+b+"</div>"+('<div class="arrow"></div><div class="arrow2'+(c?" loading":"")+'"></div>')};
t.z=function(){if(!bh.vc&&!z.contains(kh,"tooltiop")){var b=this.R=new um({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip",INPUT:"data-tip",IMG:"data-tip"}),c=M("div",{id:"zh-tooltip"});document.body.appendChild(c);this.R.Xg(c);this.R.vt=this.gS;this.R.Fr=this.tN;this.m().e(this.R,"trigger",this.ty);var d=$(c),e=k;b.on("show",function(b){clearTimeout(e);d.addClass("in");Y.ia({type:"ga_hover_hovercard",target:b.target.Te||b.target.anchor})}).on("hide",function(){d.css({display:"block",
visibility:"visible"}).removeClass("in").addClass("out");e=setTimeout(function(){d.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.m().e(this.R,"beforeshow",this.oo);this.m().e(this.R,"beforehide",this.kP);$(b.h()).on("click",".member-profile-card-pm",function(c){c.preventDefault();var d=$(this);b.D(m);ql(function(){var b=new Cn;b.show();Gn(b,d.data("pmHash"),d.data("pmName"));Fn(b,d.attr("href"));b.Wb.focus()},{ha:"people_message_button",bd:j})()})}};
t.kP=function(){"s"!==this.zh&&this.rh[this.zh]&&this.rh[this.zh][this.$m]&&(this.rh[this.zh][this.$m]=$(this.R.h()).find(".popover-content").html())};
t.oo=function(){var b=this.R.Te||this.R.anchor,c=b.getAttribute("data-tip");this.jC=b;b=c.split("$");this.zh=b[0];this.$m=b[2];this.Pk=b[1];if("s"===this.zh)b=this.$m,c=[],c.push('<div class="tooltip-arrow'),c.push('"></div><div class="tooltip-inner">'),c.push(Za(b)),c.push("</div></div>"),b=c.join(""),Kn(this,b);else{var d=this.zh,e=this.$m,b=this.Pk;if(c=this.rh[d]&&this.rh[d][e])Kn(this,Jn(c));else if(c=In[d])$.get("/node/"+c,{params:{url_token:e}},v(function(b){Ln(this,b,d,e)},this)),Kn(this,
this.Pu(b))}Mn(this)};a.Mn=function(b){var c;switch(b.Pk){case "t":c=5;break;case "r":c=4;break;case "b":c=4;break;case "l":c=6}b=b.R;b.Ky=c;b.P()&&b.fa()};t.Pu=function(){return Jn('<div class="zh-hovercard-spinner"></div>',j)};a.Ln=function(b,c,d,e){b.zh===d&&b.$m===e&&Ln(b,c);b.rh[d]=b.rh[d]||{};b.rh[d][e]=c;Mn(b);Kn(b,Jn(c));vm(b.R,b.jC,b.Pk)},a.Kn=function(b,c){b.R.Ad(c);b.R.Yc(b.LK)};
t.ty=function(b){var c=b.anchor,d=c&&c.getAttribute("data-tip"),b=d.split("$"),e=k;Ic(c,k,"no-hovercard")?(b=this.R,jm(b),wm(b)):d&&1<b.length?(c.title&&(c.setAttribute("data-original_title",c.title),c.removeAttribute("title")),e=b[1],"s"!==b[0]&&(210>ig(c).y?"t"===e&&(e="b",c.setAttribute("data-tip",d.replace("$t$","$b$"))):(e="t",c.setAttribute("data-tip",d.replace("$b$","$t$")))),this.LK=e=new zm(c,this.wN[e],"b"===e||"t"===e),c=v(this.eQ,this),e.Os=c,this.R.className="s"!==b[0]?"goog-hovercard popover":
"tooltip"):(b=this.R,jm(b),wm(b))};
t.eQ=function(b,c){var d=this.R.h();F.remove(d,"top","bottom","left","right");F.add(d,b);var e=tg(d),g=tg(this.jC),h=new Lb(d.offsetLeft,d.offsetTop);if("t"===this.Pk||"b"===this.Pk){var e=(e.width-g.width)/2,l=h.x-e;if("s"===this.zh)Tf(d,"left",l+"px");else{var l=z.contains(["2-5","3-5","3-4","2-4"],c),n=$(".zh-hovercard-spinner",d)[0],q=K("arrow",d),r=K("arrow2",d);n?Tf(d,"left",h.x-e+"px"):l?Tf(d,"left",h.x+83+"px"):Tf(d,"left",h.x-70+"px");var w=g.width/2;q&&r&&(n||(l?z.forEach([q,r],function(b){Tf(b,
"left","auto");Tf(b,"right",w+70+"px")}):z.forEach([q,r],function(b){Tf(b,"left",w+70+"px")})))}}else Tf(d,"top",h.y-(e.height-g.height)/2+"px"),"l"===this.Pk&&$f(d,h.x-g.width)};a.Nn=function(){},a.On=void 0;ja(Nn);t=Nn.prototype;t.qc=ba();t.v=function(b){var c=b.K().v("div",this.af(b).join(" "),b.ab());Pn(this,b,c);return c};t.U=aa();t.Xi=function(b,c,d){if(b=b.h?b.h():b)if(A&&!E("7")){var e=Qn(F.get(b),c);e.push(c);xa(d?F.add:F.remove,b).apply(k,e)}else F.enable(b,c,d)};t.oc=s(j);
t.o=function(b,c){c.id&&Jh(b,c.id);var d=this.U(c);d&&d.firstChild?b.hm(d.firstChild.nextSibling?z.clone(d.childNodes):d.firstChild):b.hm(k);var e=0,g=this.L(),h=this.L(),l=m,n=m,d=m,q=F.get(c);z.forEach(q,function(b){!l&&b==g?(l=j,h==g&&(n=j)):!n&&b==h?n=j:e|=this.uw(b)},this);b.Z=e;l||(q.push(g),h==g&&(n=j));n||q.push(h);var r=b.Ze;r&&q.push.apply(q,r);if(A&&!E("7")){var w=Qn(q);0<w.length&&(q.push.apply(q,w),d=j)}(!l||!n||r||d)&&F.set(c,q.join(" "));Pn(this,b,c);return c};
t.xe=function(b){b.xd()&&this.ii(b.h(),j);b.isEnabled()&&this.Ke(b,b.P())};a.Pn=function(b,c,d){c.isEnabled()||b.gg(d,1,j);c.Z&8&&b.gg(d,8,j);c.Ob&16&&b.gg(d,16,c.ze());c.Ob&64&&b.gg(d,64,c.ob())};t.Lo=function(b,c){sg(b,!c,!A&&!rb)};t.ii=function(b,c){this.Xi(b,this.L()+"-rtl",c)};t.Ph=function(b){var c;return b.Ob&32&&(c=b.gc())?Cc(c):m};t.Ke=function(b,c){var d;if(b.Ob&32&&(d=b.gc())){if(!c&&b.Z&32){try{d.blur()}catch(e){}b.Z&32&&b.Rc(k)}Cc(d)!=c&&Dc(d,c)}};t.D=function(b,c){R(b,c)};
t.Zb=function(b,c,d){var e=b.h();if(e){var g=this.rn(c);g&&this.Xi(b,g,d);this.gg(e,c,d)}};t.gg=function(b,c,d){On||(On=G.create(1,Uc.wI,8,Uc.II,16,Uc.Kp,64,Uc.GA));(c=On[c])&&Nc(b,c,d)};t.Ha=function(b,c){var d=this.U(b);if(d&&(hc(d),c))if(oa(c))xc(d,c);else{var e=function(b){if(b){var c=Qb(d);d.appendChild(oa(b)?c.createTextNode(b):b)}};ma(c)?z.forEach(c,e):na(c)&&!("nodeType"in c)?z.forEach(z.clone(c),e):e(c)}};t.gc=function(b){return b.h()};t.L=s("goog-control");
t.af=function(b){var c=this.L(),d=[c],e=this.L();e!=c&&d.push(e);c=b.Rd();for(e=[];c;){var g=c&-c;e.push(this.rn(g));c&=~g}d.push.apply(d,e);(b=b.Ze)&&d.push.apply(d,b);A&&!E("7")&&d.push.apply(d,Qn(d));return d};a.Qn=function(b,c){var d=[];c&&(b=b.concat([c]));z.forEach([],function(e){z.every(e,xa(z.contains,b))&&(!c||z.contains(e,c))&&d.push(e.join("_"))});return d};t.rn=function(b){this.uq||Rn(this);return this.uq[b]};
t.uw=function(b){this.oH||(this.uq||Rn(this),this.oH=G.tm(this.uq));b=parseInt(this.oH[b],10);return isNaN(b)?0:b};a.Rn=function(b){var c=b.L();b.uq=G.create(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")};a.Sn=function(){};y(Sn,Nn);ja(Sn);t=Sn.prototype;t.qc=function(){return Vc.Jp};t.gg=function(b,c,d){16==c?Nc(b,Uc.FI,d):Sn.n.gg.call(this,b,c,d)};t.v=function(b){var c=Sn.n.v.call(this,b),d=b.Pf();d&&this.Lc(c,d);(d=b.W())&&this.Aa(c,d);b.Ob&16&&this.gg(c,16,b.ze());return c};t.o=function(b,c){var c=Sn.n.o.call(this,b,c),d=this.W(c);b.ae=d;b.rt(this.Pf(c));b.Ob&16&&this.gg(c,16,b.ze());return c};t.W=ia;t.Aa=ia;t.Pf=function(b){return b.title};t.Lc=function(b,c){b&&(b.title=c||"")};t.fi=u(21);
t.L=s("goog-button");a.Un=function(b,c){b||f(Error("Invalid class name "+b));qa(c)||f(Error("Invalid decorator function "+c));Tn[b]=c},a.Vn={},a.Tn={};a.Wn=function(b,c,d){T.call(this,d);if(!c){for(var c=this.constructor,e;c;){e=ua(c);if(e=Vn[e])break;c=c.n?c.n.constructor:k}c=e?qa(e.O)?e.O():new e:k}this.M=c;this.hm(b)};y(Wn,T);t=Wn.prototype;t.pc=k;t.Z=0;t.Ob=39;t.Fi=255;t.ak=0;t.kb=j;t.Ze=k;t.ij=j;t.Vp=m;t.Pj=k;t.Qo=function(b){this.za&&b!=this.ij&&Xn(this,b);this.ij=b};t.gc=function(){return this.M.gc(this)};t.ir=function(){return this.lb||(this.lb=new Ym)};
t.oh=function(b){b&&(this.Ze?z.contains(this.Ze,b)||this.Ze.push(b):this.Ze=[b],this.M.Xi(this,b,j))};t.Xi=function(b,c){c?this.oh(b):b&&this.Ze&&(z.remove(this.Ze,b),0==this.Ze.length&&(this.Ze=k),this.M.Xi(this,b,m))};t.v=function(){var b=this.M.v(this);this.g=b;var c=this.Pj||this.M.qc();c&&Mc(b,c);this.Vp||this.M.Lo(b,m);this.P()||this.M.D(b,m)};t.So=u(18);t.U=function(){return this.M.U(this.h())};t.oc=function(b){return this.M.oc(b)};
t.$=function(b){this.g=b=this.M.o(this,b);var c=this.Pj||this.M.qc();c&&Mc(b,c);this.Vp||this.M.Lo(b,m);this.kb="none"!=b.style.display};t.B=function(){Wn.n.B.call(this);this.M.xe(this);if(this.Ob&-2&&(this.ij&&Xn(this,j),this.Ob&32)){var b=this.gc();if(b){var c=this.ir();c.attach(b);this.m().e(c,"key",this.Vb).e(b,"focus",this.te).e(b,"blur",this.Rc)}}};
a.Xn=function(b,c){var d=b.m(),e=b.h();c?(d.e(e,"mouseover",b.jd).e(e,"mousedown",b.ue).e(e,"mouseup",b.Qf).e(e,"mouseout",b.Mh),b.yn!=ia&&d.e(e,"contextmenu",b.yn),A&&d.e(e,"dblclick",b.rD)):(d.Ea(e,"mouseover",b.jd).Ea(e,"mousedown",b.ue).Ea(e,"mouseup",b.Qf).Ea(e,"mouseout",b.Mh),b.yn!=ia&&d.Ea(e,"contextmenu",b.yn),A&&d.Ea(e,"dblclick",b.rD))};t.ib=function(){Wn.n.ib.call(this);this.lb&&this.lb.detach();this.P()&&this.isEnabled()&&this.M.Ke(this,m)};
t.w=function(){Wn.n.w.call(this);this.lb&&(this.lb.G(),delete this.lb);delete this.M;this.Ze=this.pc=k};t.ab=p("pc");t.Ha=function(b){this.M.Ha(this.h(),b);this.hm(b)};t.hm=ca("pc");t.Ag=function(){var b=this.ab();if(!b)return"";b=oa(b)?b:ma(b)?z.map(b,Gc).join(""):Fc(b);return Na(b)};t.gm=u(55);t.ii=function(b){Wn.n.ii.call(this,b);var c=this.h();c&&this.M.ii(c,b)};t.Lo=function(b){this.Vp=b;var c=this.h();c&&this.M.Lo(c,b)};t.P=p("kb");
t.D=function(b,c){if(c||this.kb!=b&&this.dispatchEvent(b?"show":"hide")){var d=this.h();d&&this.M.D(d,b);this.isEnabled()&&this.M.Ke(this,b);this.kb=b;return j}return m};t.isEnabled=function(){return!(this.Z&1)};t.Xa=function(b){var c=this.getParent();if((!c||"function"!=typeof c.isEnabled||c.isEnabled())&&Yn(this,1,!b))b||(this.setActive(m),this.od(m)),this.P()&&this.M.Ke(this,b),this.Zb(1,!b)};t.od=function(b){Yn(this,2,b)&&this.Zb(2,b)};t.Xb=function(){return!!(this.Z&4)};
t.setActive=function(b){Yn(this,4,b)&&this.Zb(4,b)};t.jm=function(b){Yn(this,8,b)&&this.Zb(8,b)};t.ze=function(){return!!(this.Z&16)};t.Xc=function(b){Yn(this,16,b)&&this.Zb(16,b)};t.ob=function(){return!!(this.Z&64)};t.qb=function(b){Yn(this,64,b)&&this.Zb(64,b)};t.Rd=p("Z");t.Zb=function(b,c){this.Ob&b&&c!=!!(this.Z&b)&&(this.M.Zb(this,b,c),this.Z=c?this.Z|b:this.Z&~b)};
a.Zn=function(b,c,d){b.za&&(b.Z&c&&!d)&&f(Error("Component already rendered"));!d&&b.Z&c&&b.Zb(c,m);b.Ob=d?b.Ob|c:b.Ob&~c},a.$n=function(b,c){return!!(b.Fi&c)&&!!(b.Ob&c)},a.Yn=function(b,c,d){return!!(b.Ob&c)&&!!(b.Z&c)!=d&&(!(b.ak&c)||b.dispatchEvent(Ih(c,d)))&&!b.xg};t.jd=function(b){(!b.relatedTarget||!rc(this.h(),b.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&$n(this,2))&&this.od(j)};
t.Mh=function(b){if((!b.relatedTarget||!rc(this.h(),b.relatedTarget))&&this.dispatchEvent("leave"))$n(this,4)&&this.setActive(m),$n(this,2)&&this.od(m)};t.yn=ia;t.ue=function(b){this.isEnabled()&&($n(this,2)&&this.od(j),nd(b)&&($n(this,4)&&this.setActive(j),this.M.Ph(this)&&this.gc().focus()));!this.Vp&&nd(b)&&b.preventDefault()};t.Qf=function(b){this.isEnabled()&&($n(this,2)&&this.od(j),this.Xb()&&(this.Xd(b)&&$n(this,4))&&this.setActive(m))};t.rD=function(b){this.isEnabled()&&this.Xd(b)};
t.Xd=function(b){$n(this,16)&&this.Xc(!this.ze());$n(this,8)&&this.jm(j);$n(this,64)&&this.qb(!this.ob());var c=new gd("action",this);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Gy=b.Gy);return this.dispatchEvent(c)};t.te=function(){$n(this,32)&&Yn(this,32,j)&&this.Zb(32,j)};t.Rc=function(){$n(this,4)&&this.setActive(m);$n(this,32)&&Yn(this,32,m)&&this.Zb(32,m)};
t.Vb=function(b){return this.P()&&this.isEnabled()&&this.df(b)?(b.preventDefault(),b.stopPropagation(),j):m};t.df=function(b){return 13==b.keyCode&&this.Xd(b)};qa(Wn)||f(Error("Invalid component class "+Wn));qa(Nn)||f(Error("Invalid renderer class "+Nn));a.ao=ua(Wn);Vn[ao]=Nn;Un("goog-control",function(){return new Wn(k)});a.bo=function(){};y(bo,Sn);ja(bo);t=bo.prototype;t.qc=ba();t.v=function(b){b.Qo(m);b.Fi&=-256;Zn(b,32,m);return b.K().v("button",{"class":this.af(b).join(" "),disabled:!b.isEnabled(),title:b.Pf()||"",value:b.W()||""},b.Ag()||"")};t.oc=function(b){return"BUTTON"==b.tagName||"INPUT"==b.tagName&&("button"==b.type||"submit"==b.type||"reset"==b.type)};t.o=function(b,c){b.Qo(m);b.Fi&=-256;Zn(b,32,m);c.disabled&&F.add(c,this.rn(1));return bo.n.o.call(this,b,c)};t.xe=function(b){b.m().e(b.h(),"click",b.Xd)};
t.Lo=ia;t.ii=ia;t.Ph=function(b){return b.isEnabled()};t.Ke=ia;t.Zb=function(b,c,d){bo.n.Zb.call(this,b,c,d);if((b=b.h())&&1==c)b.disabled=d};t.W=function(b){return b.value};t.Aa=function(b,c){b&&(b.value=c)};t.gg=ia;a.co=function(b,c,d){Wn.call(this,b,c||bo.O(),d)};y(co,Wn);t=co.prototype;t.W=p("ae");t.Aa=function(b){this.ae=b;this.M.Aa(this.h(),b)};t.Pf=p("mp");t.Lc=function(b){this.mp=b;this.M.Lc(this.h(),b)};t.rt=ca("mp");t.fi=u(20);t.w=function(){co.n.w.call(this);delete this.ae;delete this.mp};t.B=function(){co.n.B.call(this);if(this.Ob&32){var b=this.gc();b&&this.m().e(b,"keyup",this.df)}};t.df=function(b){return 13==b.keyCode&&"key"==b.type||32==b.keyCode&&"keyup"==b.type?this.Xd(b):32==b.keyCode};
Un("goog-button",function(){return new co(k)});a.eo=function(){};y(eo,Nn);ja(eo);eo.prototype.v=function(b){var c=b.K().v("span",this.af(b).join(" "));fo(this,c,b.th);return c};eo.prototype.o=function(b,c){var c=eo.n.o.call(this,b,c),d=F.get(c),e=go;z.contains(d,ho(this,jo))?e=jo:z.contains(d,ho(this,ko))?e=ko:z.contains(d,ho(this,go))&&(e=go);b.th=e;Nc(c,Uc.Kp,e==jo?"mixed":e==ko?"true":"false");return c};eo.prototype.qc=function(){return Vc.tI};
a.fo=function(b,c,d){if(c){var e=ho(b,d);F.has(c,e)||(G.forEach(lo,function(b){b=ho(this,b);F.enable(c,b,b==e)},b),Nc(c,Uc.Kp,d==jo?"mixed":d==ko?"true":"false"))}};eo.prototype.L=s("goog-checkbox");a.ho=function(b,c){var d=b.L();if(c==ko)return d+"-checked";if(c==go)return d+"-unchecked";if(c==jo)return d+"-undetermined";f(Error("Invalid checkbox state: "+c))};a.mo=function(b,c,d){d=d||eo.O();Wn.call(this,k,d,c);this.th=la(b)?b:go};y(mo,Wn);a.ko=j,a.go=m,a.jo=k,a.lo={Kp:ko,OV:go,QV:jo};t=mo.prototype;t.Jb=k;t.ze=function(){return this.th==ko};t.Xc=function(b){b!=this.th&&(this.th=b,fo(this.M,this.h(),this.th))};t.toggle=function(){this.Xc(this.th?go:ko)};
t.B=function(){mo.n.B.call(this);if(this.ij){var b=this.m();this.Jb&&b.e(this.Jb,"click",this.Bw).e(this.Jb,"mouseover",this.jd).e(this.Jb,"mouseout",this.Mh).e(this.Jb,"mousedown",this.ue).e(this.Jb,"mouseup",this.Qf);b.e(this.h(),"click",this.Bw)}if(this.Jb){if(!this.Jb.id){var b=this.Jb,c;c=this.Qd()+".lbl";b.id=c}Nc(this.h(),Uc.eu,this.Jb.id)}};t.Xa=function(b){mo.n.Xa.call(this,b);if(b=this.h())b.tabIndex=this.isEnabled()?0:-1};
t.Bw=function(b){b.stopPropagation();var c=this.th?"uncheck":"check";this.isEnabled()&&this.dispatchEvent(c)&&(b.preventDefault(),this.toggle(),this.dispatchEvent("change"))};t.df=function(b){32==b.keyCode&&this.Bw(b);return m};Un("goog-checkbox",function(){return new mo});a.no=function(){};y(no,Sn);ja(no);t=no.prototype;t.v=function(b){var c={"class":"goog-inline-block "+this.af(b).join(" "),title:b.Pf()||""};return b.K().v("div",c,b.ab())};t.qc=function(){return Vc.Jp};t.oc=function(b){return"DIV"==b.tagName};t.o=function(b,c){F.add(c,"goog-inline-block");return no.n.o.call(this,b,c)};t.W=s("");t.L=s("goog-flat-button");Un("goog-flat-button",function(){return new co(k,no.O())});a.oo=function(){};y(oo,no);ja(oo);oo.prototype.L=s("goog-link-button");Un("goog-link-button",function(){return new co(k,oo.O())});a.qo=function(b,c,d,e,g){function h(b){b&&(b.tabIndex=0,Mc(b,l.qc()),F.add(b,"goog-zippy-header"),po(l,b),b&&l.HE.e(b,"keydown",l.DP))}O.call(this);this.aa=g||Rb();this.Ch=this.aa.h(b)||k;this.hn=this.aa.h(e||k);this.$k=(this.Hx=qa(c)?c:k)||!c?k:this.aa.h(c);this.ed=d==j;this.HE=new me(this);this.ay=new me(this);var l=this;h(this.Ch);h(this.hn);this.Ka(this.ed)};y(qo,Gd);t=qo.prototype;t.ij=j;t.w=function(){qo.n.w.call(this);Tc(this.HE);Tc(this.ay)};t.qc=function(){return Vc.PA};t.U=p("$k");
t.expand=u(61);t.collapse=function(){this.Ka(m)};t.toggle=function(){this.Ka(!this.ed)};t.Ka=function(b){this.$k?R(this.$k,b):b&&this.Hx&&(this.$k=this.Hx());this.$k&&F.add(this.$k,"goog-zippy-content");this.hn?(R(this.Ch,!b),R(this.hn,b)):this.Ch&&(F.enable(this.Ch,"goog-zippy-expanded",b),F.enable(this.Ch,"goog-zippy-collapsed",!b),Nc(this.Ch,Uc.GA,b));this.ed=b;this.dispatchEvent(new ro("toggle",this,this.ed))};t.uc=p("ed");
t.Qo=function(b){this.ij!=b&&((this.ij=b)?(po(this,this.Ch),po(this,this.hn)):this.ay.removeAll())};a.po=function(b,c){c&&b.ay.e(c,"click",b.CP)};t.DP=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new gd("action",this)),b.preventDefault(),b.stopPropagation()};t.CP=function(){this.toggle();this.dispatchEvent(new gd("action",this))};a.ro=function(b,c,d){gd.call(this,b,c);this.td=d};y(ro,gd);a.so=function(){this.sd=k};ja(so);so.prototype.refresh=function(){return this.sd&&"pending"===this.sd.state()?this.sd:this.sd=$.post("/oauth/refresh",function(b){b=b.sina;G.extend(ph,b);b.id&&Y.dispatchEvent(new kl("sina_callback",b))})};a.to=function(){};y(to,Nn);ja(to);to.prototype.v=function(b){return b.K().v("div",this.L())};to.prototype.o=function(b,c){c.id&&Jh(b,c.id);if("HR"==c.tagName){var d=c,c=this.v(b);ic(c,d);N(d)}else F.add(c,this.L());return c};to.prototype.Ha=ba();to.prototype.L=s("goog-menuseparator");a.uo=function(b,c){Wn.call(this,k,b||to.O(),c);Zn(this,1,m);Zn(this,2,m);Zn(this,4,m);Zn(this,32,m);this.Z=1};y(uo,Wn);uo.prototype.B=function(){uo.n.B.call(this);Mc(this.h(),"separator")};Un("goog-menuseparator",function(){return new uo});a.vo=function(){};ja(vo);t=vo.prototype;t.qc=ba();t.v=function(b){return b.K().v("div",this.af(b).join(" "))};t.U=aa();t.oc=function(b){return"DIV"==b.tagName};t.o=function(b,c){c.id&&Jh(b,c.id);var d=this.L(),e=m,g=F.get(c);g&&z.forEach(g,function(c){c==d?e=j:c&&this.rz(b,c,d)},this);e||F.add(c,d);wo(this,b,this.U(c));return c};t.rz=function(b,c,d){c==d+"-disabled"?b.Xa(m):c==d+"-horizontal"?b.Ro(xo):c==d+"-vertical"&&b.Ro(yo)};
a.wo=function(b,c,d){if(d)for(var e=d.firstChild,g;e&&e.parentNode==d;){g=e.nextSibling;if(1==e.nodeType){var h=b.sn(e);h&&(h.g=e,c.isEnabled()||h.Xa(m),c.H(h),h.o(e))}else(!e.nodeValue||""==Oa(e.nodeValue))&&d.removeChild(e);e=g}};t.sn=function(b){a:{for(var c=F.get(b),d=0,e=c.length;d<e;d++)if(b=c[d]in Tn?Tn[c[d]]():k)break a;b=k}return b};t.xe=function(b){b=b.h();sg(b,j,C);A&&(b.hideFocus=j);var c=this.qc();c&&Mc(b,c)};t.gc=function(b){return b.h()};t.L=s("goog-container");
t.af=function(b){var c=this.L(),d=[c,b.vb==xo?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};t.kw=u(12);a.xo="horizontal",a.yo="vertical";a.zo=function(){T.call(this);this.Yt=[]};y(zo,T);t=zo.prototype;t.Kb=le("ZH.ui.Accordion");t.Fa=function(b){this.Yt.push(b);b.pt(this)};t.B=function(){zo.n.B.call(this);this.m().e(this,"toggle",this.iN)};t.iN=function(b){z.forEach(this.Yt,function(c){b.target!==c&&c.uc()&&c.Ka(m,j)},this)};t.w=function(){zo.n.w.call(this);z.forEach(this.Yt,function(b){b.G()},this);this.Yt=[]};a.Ao=function(b,c){var d=this,e={};G.extend(e,this.defaults,c||{});this.F=e;var g=e.Wc?{Wc:v(e.Wc,d)}:k;g&&(g.X=e.X?v(e.X,d):k);this.M=g=new on(e.Uj,g);var h=new vn(e.source,!e.mT);this.jf=h;var l=e.lx;l||(l=new dn(e.separator,e.ZK,!!e.multiple,e.delay),l.ei=function(b,c){var g;qa(e.select)&&(g=e.select.call(d,b,d.M.ag[d.M.vl]));gn(this,la(g)?g:b.label||b.toString(),c);return m});Om.call(this,h,g,l);l.Y=this;l.Ck(b);b.setAttribute("autocomplete","off");h.bi=function(b,c,g){var h=g;qa(e.format)&&(h=
function(b,c){var h=e.format.call(d,c,b);qa(e.filter)&&(h=e.filter.call(d,h,b));g(b,h)});return vn.prototype.bi.call(this,b,c,h)};g.GG=function(b,c,d){b=b.data;d.innerHTML=b.RS?b.RS():b.label||b.toString()};this.Pb=b;e.Ee&&(this.El=e.Ee);e.placeholder&&(this.Yd=new al(b,e.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.ob()?"show":"hide")})};y(Ao,wn);
Ao.prototype.defaults={source:"",Ee:10,mT:m,filter:k,format:k,lx:k,delay:300,separator:k,ZK:k,multiple:m,Uj:k,QX:k,placeholder:"",Wc:k,X:k};a.Do=function(b){var c;return(c=Bo[this.F.source])||(c=Bo[Co][b[0]])?c(b):b};Ao.prototype.defaults.format=function(b,c){return Oa(c)&&ma(b)?ma(b[0])?z.map(b[0].slice(1),Do,this):b:[]};a.Co="/autocomplete",a.Bo={};
Bo[Co]={topic:function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],answers:b[6],alias:b[7],raw:b,value:b[4],label:b[1]}},question:function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],answers:b[4],is_star:!!b[5],raw:b,label:b[1],value:b[2]}},people:function(b){return{type:b[0],fullname:b[1],url_token:b[2],avatar:b[3],id:b[4],headline:b[5],raw:b,label:b[1],value:b[4]}},search_link:function(b){return{type:b[0],raw:b,label:b[1],value:b[1]}}};
Bo["/topic/autocomplete"]=function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],followers:b[5],alias:b[6],label:b[1]}};Bo["/question/autocomplete"]=function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],is_duplicated:Boolean(+b[4]),answer_count:b[5],raw:b,label:b[1],value:b[2]}};a.Eo=function(b,c,d,e){dn.call(this,b,c,d,e)};y(Eo,dn);Eo.prototype.Rc=ia;Eo.prototype.Vb=ia;Eo.prototype.ei=s(m);a.Go=function(b,c,d){O.call(this);this.ye=d||"搜索话题";this.ka=c;this.data=b||[];this.status=Fo;this.lR="/topic/unbind";this.bJ="/topic/bind";this.isEnabled=j;this.Rr='<a class="zm-tag-editor-tip-link" href="#" name="edit">帮忙给这个问题选个话题吧，好让别人来回答</a><a name="edit" class="zu-edit-button" href="#"><i class="zu-edit-button-icon"></i>添加</a>';this.Ee=10;this.As=m;this.ss=Infinity;this.vs=0;this.XA=m};y(Go,Sk);a.Fo="view",a.Ho="零一二三四五六七八九十".split("");t=Go.prototype;
t.o=function(b){this.g=b;this.eg=K("zm-tag-editor-labels",this.g);this.As&&(b=Ub("zm-item-tag",this.eg),this.data=z.map(b,function(b){var d=[Oa(b.innerHTML),b.getAttribute("data-token"),k,b.getAttribute("data-topicid")];d.bT=!!b.getAttribute("data-uneditable");return d}));Io(this);this.le();this.gb()};a.Io=function(b){if(b.data.length){var c=z.map(b.data,function(b){return sk(b,"",k,"b")},b);b.isEnabled&&c.push(wk());b.eg.innerHTML=c.join("")}else b.isEnabled&&(b.eg.innerHTML=b.Rr)};
t.ln=function(){this.Pc||(this.Pc=M("div","zm-tag-editor-editor",[this.gn=M("div","zg-section zg-clear"),this.We=M("div","zg-section zm-tag-editor-command-buttons-wrap",[this.fb=M("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),M("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.UC=M("a",{href:"#",name:"close"},"完成")]),this.ts=M("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[M("span",{},"最多只能为一个问题绑定 "+this.ss+" 个话题"),
M("a",{href:"#",name:"close"},"完成")])]),jc(this.Pc,this.eg),this.ye&&(this.Bx=new Gm(this.ye),this.Bx.o(this.fb),this.fb.title=this.ye),this.Gg(this.We))};t.Gg=function(b,c){this.T=new Bn(c||"/topic/autocomplete",this.fb,k,k,b,j);this.T.ki(j);this.T.El=this.Ee;this.T.To(this.bm());this.T.Nv=[this.ye];this.m().e(this.T,"select",this.no);this.m().e(this.T,Om.mh.zi,this.ru)};t.Pv=function(b){return z.some(this.data,function(c){return c[0]===b[1]})};
t.bm=function(){return v(function(b,c){function d(){return z.find(e,function(b){return 3>=b.length&&b[1]===Ha("创建 %s 话题",b[2])})}var e=z.filter(b,function(b){return"topic"!==b[0]?m:!this.Pv(b)},this),g=v(function(){return z.find(this.data,function(b){return b[0]===c})},this);S.Cr?this.XA&&((!e.length||!d()&&!z.find(e,function(b){return"topic"===b[0]&&b[4]&&b[1]===c}))&&!g())&&e.push(["topic",Ha("创建 %s 话题",c),c]):(g=d())&&(1<e.length?z.remove(e,g):e=[["plain_text",'<span class="zu-autocomplete-row-name zu-autocomplete-row-name-info">没有找到话题：'+
g[2]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">请使用已经创建的话题</span>']]);return e},this)};t.ru=function(){1<this.T.eb.length&&!this.T.eb[0][4]&&Rm(this.T)};t.gb=function(){this.m().e(this.g,"click",this.ra);Li&&this.m().e(Li,"anon_change",this.fj)};t.fj=function(b){b.jb?F.add(this.g,"zm-tag-editor-disabled"):F.remove(this.g,"zm-tag-editor-disabled")};
t.ra=function(b){var c=this.$e(b.target);if(c&&c.name)switch(b.preventDefault(),c.name){case "edit":this.De(j);break;case "add":(b=tk(!this.fb.value?"":this.fb.value.replace(/<[^>]+>/g,"")))&&b!==this.fb.title&&this.Oe("",b);break;case "close":this.De(m);break;case "remove":this.UF(c)}};t.De=ql(function(b){if(b&&(this.dispatchEvent("start_editing"),this.dispatchEvent("beforeedit")===m))return;this.status=b?"edit":Fo;this.ln();this.Ie();this.le();Jo(this)},j);
t.UF=function(b){var c=b.id.split("-")[1],d=qc(b).innerHTML;this.vs&&this.data.length<=this.vs?V("请至少绑定"+Ho[this.vs]+"个话题"):(this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c}),this.wo(c))};t.wo=function(b){if(!this.at||!this.at.Xb()){this.at=new W(j);var c=new lj;c.add("qid",this.ka).add("question_id",this.ka).add("topic_id",b);oe(this.m(),this.at,"complete",this.WM);this.at.ajax(this.lR,c.toString())}};
t.WM=function(b){b=Ie(b.target);b.r?V(b.msg):(this.dispatchEvent("remove_tag"),Io(this),this.Ie(),Jo(this))};t.le=function(){this.status===Fo?(R(this.eg,j),this.Pc&&R(this.Pc,m)):(R(this.eg,m),this.Pc&&this.isEnabled&&R(this.Pc,j),this.ts&&R(this.ts,m))};t.Oe=function(b,c){this.Ng||(this.dispatchEvent("add_tag"),this.Ng=j,this.xhr=new W(j),oe(this.m(),this.xhr,"complete",this.su),this.xhr.ajax(this.bJ,"qid="+this.ka+"&question_id="+this.ka+"&topic_id="+b+"&topic_text="+encodeURIComponent(c)))};
t.no=function(){var b="",c="",d=this.T.cj().slice(1);3<d.length?(b=d[3],c=d[0]):c=d[1];z.some(this.data,function(d){return d[3]&&String(d[3])===b||d[0]===c})||(b||c)&&this.Oe(b,c)};t.su=function(){this.Ng=m;var b=Ie(this.xhr);this.$j(b);Jo(this)};t.$j=function(b){var c=k;b&&b.r?b.notify?Cl(b.notify):V(b.msg,2E3):(4<b.length&&Cl(b[4]),this.VG=c=b,this.data.push(c),this.Co(),Io(this),this.Ie(),this.fb.value="",this.dispatchEvent("select"))};t.aD=function(b){return sk(b,"nor",m)};
t.Ie=function(){var b=z.map(this.data,function(b){return['<span class="zm-tag-editor-edit-item">',this.aD(b),b.bT?"":'<a id="rmid-'+b[3]+'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a>',"</span>"].join("")},this);this.gn.innerHTML=b.join("")};t.cj=p("VG");t.Xa=function(b){this.isEnabled=b;this.status=Fo;this.le()};a.Jo=function(b){var c=b.data.length>=b.ss;b.We&&R(b.We,!c);b.ts&&R(b.ts,c)};
t.Co=function(){var b=[];this.data=z.filter(this.data,function(c){if(z.contains(b,c[1]))return m;b.push(c[1]);return j})};a.Ko=function(b){Go.call(this);this.Rr="";this.ye=b||"";this.ss=this.Ee=5;this.Gp=$("#zh-question-suggest-title-content")};y(Ko,Go);t=Ko.prototype;
t.o=function(b){Ko.n.o.call(this,b);this.De(j);z.forEach(Tb("a",k,b),function(b){R(b,m)});this.m().e(this.fb,"focus",function(){this.Gp.val()&&!this.HC&&(this.HC=j,this.hA());this.placeholder&&(this.placeholder.Zj("搜索话题"),dl(this.placeholder))});this.GE=new Ym;this.GE.attach(this.fb);this.m().e(this.GE,"key",function(b){8===b.keyCode&&(1===this.fb.value.length&&(this.rB=j,this.OJ=setTimeout(v(function(){this.rB=m;clearTimeout(this.OJ)},this))),!this.fb.value.length&&!this.rB&&(this.data.pop(),this.Ie(),
this.dispatchEvent("remove_tag")))});this.zS=new Tl(this.hA,2E3,this);this.m().e(this.Gp[0],"keyup",function(){var b=this.Gp.val();this.At!==b&&(this.zS.fire(),this.At=b)});this.m().e(this,["remove_tag","add_tag"],function(){Lo(this);0<this.data.length&&this.placeholder&&(this.placeholder.Zj("搜索话题"),dl(this.placeholder));5<=this.data.length?(this.Xa(m),this.Ep.show(),this.placeholder&&this.placeholder.hide(),this.cu.hide()):(this.Xa(j),this.Ep.hide(),this.placeholder&&this.placeholder.show(),this.cu.show(),
this.Ep.removeClass("light"))})};t.Pv=function(b){return z.some(this.data,function(c){return c[1]===b[1]})};t.wo=function(){this.dispatchEvent("remove_tag");Io(this);this.Ie()};
t.ln=function(){this.Pc||(Ko.n.ln.call(this),F.add(this.Pc,"zg-clear"),F.set(this.gn,"zg-inline"),F.add(this.We,"zg-left"),F.remove(this.We,"zg-section"),F.set(this.fb,"zu-question-suggest-topic-input"),F.add(this.fb,"label-input-label"),this.Hp=$("<div class='sug-con zg-clear' style='display:none;'></div>").append("<span class='zg-gray-normal zg-left tip'>推荐添加</span>").append(this.pI=$("<span class='sugs zg-clear zg-inline'></span>")).append(this.CA=$("<img src='http://static.zhihu.com/static/img/spinner2.gif' style=''/>")),
this.Hp.insertAfter(this.g),this.Hp.on("click","a[name='add']",v(function(b){b=b.currentTarget;5>this.data.length?this.Oe($(b).attr("data-id"),$(b).attr("data-text")):this.Ep.addClass("light")},this)),this.cu=$('<label for="topic" class="zg-icon icon-magnify"></label>'),$(this.We).prepend(this.cu),this.placeholder=new al(this.fb,{text:"搜索话题",qB:j}),$(this.We).append(this.Ep=$("<label class='err-tip' style='display:none;'>最多添加五个话题</label>")),this.m().e(this.Pc,"click",this.$S))};
t.$S=function(b){Ek(this.g,b.target)||(b=K("zu-question-suggest-topic-input",this.Pc),qg(b)&&b.focus())};t.hA=function(){this.HC&&(this.At=this.Gp.val(),8>this.At.length?(this.ep=[],Lo(this)):(this.fp&&this.fp.abort(),this.fp=new W(m),this.m().e(this.fp,"success",this.fQ),this.fp.ajax("/topic-question/autocomplete?token="+this.At+"&max_matches=5&use_similar=0","GET"),this.CA.show()))};t.fQ=function(){this.ep=Ie(this.fp)[0].slice(1);Lo(this)};
a.Lo=function(b){var c;c=b.ep?z.filter(b.ep,function(b){return!this.Pv(b)},b):[];b.Hp.show();(!c||0===c.length)&&b.Hp.hide();var d="";c=z.map(c,function(b){return"<a href='javascript:;' name='add' data-id='"+b[4]+"' data-text='"+b[1]+"' class='zg-r3px zm-item-tag'><span>"+b[1]+"</span></a>"});d+=c.join("");b.pI.html(d);b.CA.hide()};
t.Ie=function(){var b=[];z.forEach(this.data,function(c){b.push(['<div class="zm-tag-editor-edit-item"><span>',c[0],'</span><a id="rmid-',c[3],'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a></div>'].join(""))},this);this.gn.innerHTML=b.join("")};t.reset=function(){this.data=[];Io(this);this.Ie()};t.UF=function(b){var c=b.id.split("-")[1],d=qc(b).innerHTML;this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c});this.wo(c)};
t.Oe=function(b,c){var d=[c,c,"",b];this.VG=d;this.data.push(d);Io(this);this.Ie();this.fb.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};t.Xa=function(b){this.fb&&R(this.fb,b)};a.Mo=function(){O.call(this)};y(Mo,O);a.No=le("goog.dom.SavedRange");Mo.prototype.restore=u(36);a.Oo=function(b,c,d,e,g){this.Jc=!!c;b&&this.Yc(b,e);this.depth=g!=i?g:this.$b||0;this.Jc&&(this.depth*=-1);this.Aq=!d};y(Oo,Nd);t=Oo.prototype;t.ba=k;t.$b=0;t.Kz=m;t.Yc=function(b,c,d){if(this.ba=b)this.$b=pa(c)?c:1!=this.ba.nodeType?0:this.Jc?-1:1;pa(d)&&(this.depth=d)};t.ug=function(b){this.ba=b.ba;this.$b=b.$b;this.depth=b.depth;this.Jc=b.Jc;this.Aq=b.Aq};t.clone=function(){return new Oo(this.ba,this.Jc,!this.Aq,this.$b,this.depth)};t.$o=u(16);
t.next=function(){var b;if(this.Kz){(!this.ba||this.Aq&&0==this.depth)&&f(Q.Za);b=this.ba;var c=this.Jc?-1:1;if(this.$b==c){var d=this.Jc?b.lastChild:b.firstChild;d?this.Yc(d):this.Yc(b,-1*c)}else(d=this.Jc?b.previousSibling:b.nextSibling)?this.Yc(d):this.Yc(b.parentNode,-1*c);this.depth+=this.$b*(this.Jc?-1:1)}else this.Kz=j;(b=this.ba)||f(Q.Za);return b};t.equals=function(b){return b.ba==this.ba&&(!this.ba||b.$b==this.$b)};
t.splice=function(b){var c=this.ba,d=this.Jc?1:-1;this.$b==d&&(this.$b=-1*d,this.depth+=this.$b*(this.Jc?-1:1));this.Jc=!this.Jc;Oo.prototype.next.call(this);this.Jc=!this.Jc;for(var d=na(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)jc(d[e],c);N(c)};a.Po=function(){},a.Qo=function(b){if(b.getSelection)return b.getSelection();var b=b.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(e){return k}return c}return k},a.Ro=function(b){for(var c=[],d=0,e=b.ej();d<e;d++)c.push(b.se(d));return c};t=Po.prototype;t.Cb=u(52);
a.So=function(b){return b.Qh()?b.ea():b.V()},a.To=function(b){return b.Qh()?b.V():b.ea()},a.Uo=function(b){return b.Qh()?b.ta():b.Ia()};t.Qh=s(m);t.Ca=function(){return Qb(A?this.rc():this.V())};t.Oa=function(){return $b(this.Ca())};t.containsNode=function(b,c){return this.sg(Vo(b),c)};t.$f=u(39);a.Wo=function(b,c){Oo.call(this,b,c,j)};y(Wo,Oo);a.Xo=function(){};y(Xo,Po);Xo.prototype.sg=function(b,c){var d=Ro(this),e=Ro(b);return(c?z.some:z.every)(e,function(b){return z.some(d,function(d){return d.sg(b,c)})})};Xo.prototype.insertNode=function(b,c){c?ic(b,this.V()):jc(b,this.ea());return b};Xo.prototype.bh=u(9);a.Yo=function(b,c,d,e,g){var h;b&&(this.ua=b,this.Ba=c,this.pa=d,this.ya=e,1==b.nodeType&&"BR"!=b.tagName&&(b=b.childNodes,(c=b[c])?(this.ua=c,this.Ba=0):(b.length&&(this.ua=z.Wd(b)),h=j)),1==d.nodeType&&((this.pa=d.childNodes[e])?this.ya=0:this.pa=d));Oo.call(this,g?this.pa:this.ua,g,j);if(h)try{this.next()}catch(l){l!=Q.Za&&f(l)}};y(Yo,Wo);t=Yo.prototype;t.ua=k;t.pa=k;t.Ba=0;t.ya=0;t.dj=u(58);t.bj=u(42);t.V=p("ua");t.ea=p("pa");t.Sn=function(){return this.Kz&&this.ba==this.pa&&(!this.ya||1!=this.$b)};
t.next=function(){this.Sn()&&f(Q.Za);return Yo.n.next.call(this)};t.$o=u(15);t.ug=function(b){this.ua=b.ua;this.pa=b.pa;this.Ba=b.Ba;this.ya=b.ya;this.ff=b.ff;Yo.n.ug.call(this,b)};t.clone=function(){var b=new Yo(this.ua,this.Ba,this.pa,this.ya,this.ff);b.ug(this);return b};a.Zo=function(){};Zo.prototype.sg=function(b,c){var d=c&&!b.isCollapsed(),e=b.Q;try{return d?0<=this.ne(e,0,1)&&0>=this.ne(e,1,0):0<=this.ne(e,0,0)&&0>=this.ne(e,1,1)}catch(g){return A||f(g),m}};Zo.prototype.containsNode=function(b,c){return this.sg($o(b),c)};Zo.prototype.Bg=u(26);Zo.prototype.ad=function(){return new Yo(this.V(),this.ta(),this.ea(),this.Ia())};a.ap=function(b){this.Q=b};y(ap,Zo);a.cp=function(b){var c=Qb(b).createRange();if(3==b.nodeType)c.setStart(b,0),c.setEnd(b,b.length);else if(bp(b)){for(var d,e=b;(d=e.firstChild)&&bp(d);)e=d;c.setStart(e,0);for(e=b;(d=e.lastChild)&&bp(d);)e=d;c.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=b.parentNode,b=z.indexOf(d.childNodes,b),c.setStart(d,b),c.setEnd(d,b+1);return c},a.dp=function(b,c,d,e){var g=Qb(b).createRange();g.setStart(b,c);g.setEnd(d,e);return g};t=ap.prototype;t.clone=function(){return new this.constructor(this.Q.cloneRange())};
t.rc=function(){return this.Q.commonAncestorContainer};t.V=function(){return this.Q.startContainer};t.ta=function(){return this.Q.startOffset};t.ea=function(){return this.Q.endContainer};t.Ia=function(){return this.Q.endOffset};t.ne=function(b,c,d){return this.Q.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.START_TO_END:1==c?fa.Range.END_TO_START:fa.Range.END_TO_END,b)};t.isCollapsed=function(){return this.Q.collapsed};t.Gc=u(31);t.Sd=u(47);
t.select=function(b){var c=$b(Qb(this.V()));this.Jo(c.getSelection(),b)};t.Jo=function(b){b.removeAllRanges();b.addRange(this.Q)};t.Vc=u(5);t.insertNode=function(b,c){var d=this.Q.cloneRange();d.collapse(c);d.insertNode(b);d.detach();return b};t.bh=u(8);t.collapse=function(b){this.Q.collapse(b)};a.ep=function(b){this.Q=b};y(ep,ap);ep.prototype.Jo=function(b,c){!c||this.isCollapsed()?ep.n.Jo.call(this,b,c):(b.collapse(this.ea(),this.Ia()),b.extend(this.V(),this.ta()))};a.fp=function(b,c){this.Q=b;this.Pq=c};y(fp,Zo);a.gp=le("goog.dom.browserrange.IeRange"),a.hp=function(b){var c=Qb(b).body.createTextRange();if(1==b.nodeType)c.moveToElementText(b),bp(b)&&!b.childNodes.length&&c.collapse(m);else{for(var d=0,e=b;e=e.previousSibling;){var g=e.nodeType;if(3==g)d+=e.length;else if(1==g){c.moveToElementText(e);break}}e||c.moveToElementText(b.parentNode);c.collapse(!e);d&&c.move("character",d);c.moveEnd("character",b.length)}return c};t=fp.prototype;t.Yf=k;t.ua=k;
t.pa=k;t.Ba=-1;t.ya=-1;t.clone=function(){var b=new fp(this.Q.duplicate(),this.Pq);b.Yf=this.Yf;b.ua=this.ua;b.pa=this.pa;return b};t.me=function(){this.Yf=this.ua=this.pa=k;this.Ba=this.ya=-1};
t.rc=function(){if(!this.Yf){var b=this.Q.text,c=this.Q.duplicate(),d=b.replace(/ +$/,"");(d=b.length-d.length)&&c.moveEnd("character",-d);d=c.parentElement();c=La(c.htmlText).length;if(this.isCollapsed()&&0<c)return this.Yf=d;for(;c>La(d.outerHTML).length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&bp(d.firstChild);)d=d.firstChild;0==b.length&&(d=ip(this,d));this.Yf=d}return this.Yf};
a.ip=function(b,c){for(var d=c.childNodes,e=0,g=d.length;e<g;e++){var h=d[e];if(bp(h)){var l=hp(h),n=l.htmlText!=h.outerHTML;if(b.isCollapsed()&&n?0<=b.ne(l,1,1)&&0>=b.ne(l,1,0):b.Q.inRange(l))return ip(b,h)}}return c};t.V=function(){this.ua||(this.ua=jp(this,1),this.isCollapsed()&&(this.pa=this.ua));return this.ua};t.ta=function(){0>this.Ba&&(this.Ba=kp(this,1),this.isCollapsed()&&(this.ya=this.Ba));return this.Ba};
t.ea=function(){if(this.isCollapsed())return this.V();this.pa||(this.pa=jp(this,0));return this.pa};t.Ia=function(){if(this.isCollapsed())return this.ta();0>this.ya&&(this.ya=kp(this,0),this.isCollapsed()&&(this.Ba=this.ya));return this.ya};t.ne=function(b,c,d){return this.Q.compareEndPoints((1==c?"Start":"End")+"To"+(1==d?"Start":"End"),b)};
a.jp=function(b,c,d){d=d||b.rc();if(!d||!d.firstChild)return d;for(var e=1==c,g=0,h=d.childNodes.length;g<h;g++){var l=e?g:h-g-1,n=d.childNodes[l],q;try{q=$o(n)}catch(r){continue}var w=q.Q;if(b.isCollapsed())if(bp(n)){if(q.sg(b))return jp(b,c,n)}else{if(0==b.ne(w,1,1)){b.Ba=b.ya=l;break}}else{if(b.sg(q)){if(!bp(n)){e?b.Ba=l:b.ya=l+1;break}return jp(b,c,n)}if(0>b.ne(w,1,0)&&0<b.ne(w,0,1))return jp(b,c,n)}}return d},a.kp=function(b,c){var d=1==c,e=d?b.V():b.ea();if(1==e.nodeType){for(var e=e.childNodes,
g=e.length,h=d?1:-1,l=d?0:g-1;0<=l&&l<g;l+=h){var n=e[l];if(!bp(n)&&0==b.Q.compareEndPoints((1==c?"Start":"End")+"To"+(1==c?"Start":"End"),$o(n).Q))return d?l:l+1}return-1==l?0:l}g=b.Q.duplicate();h=hp(e);g.setEndPoint(d?"EndToEnd":"StartToStart",h);g=g.text.length;return d?e.length-g:g};t.Rf=u(66);t.isCollapsed=function(){return 0==this.Q.compareEndPoints("StartToEnd",this.Q)};t.Gc=u(30);t.Sd=u(46);t.select=function(){this.Q.select()};t.Vc=u(4);
a.lp=function(b,c,d){var e;e=e||Rb(b.parentElement());var g;1!=c.nodeType&&(g=j,c=e.v("DIV",k,c));b.collapse(d);var d=e||Rb(b.parentElement()),h,l=h=c.id;h||(h=c.id=db());b.pasteHTML(c.outerHTML);(c=d.h(h))&&(l||c.removeAttribute("id"));g&&(b=c.firstChild,e.wL(c),c=b);return c};t.insertNode=function(b,c){var d=lp(this.Q.duplicate(),b,c);this.me();return d};t.bh=u(7);t.collapse=function(b){this.Q.collapse(b);b?(this.pa=this.ua,this.ya=this.Ba):(this.ua=this.pa,this.Ba=this.ya)};a.mp=function(b){this.Q=b};y(mp,ap);mp.prototype.Jo=function(b){b.collapse(this.V(),this.ta());(this.ea()!=this.V()||this.Ia()!=this.ta())&&b.extend(this.ea(),this.Ia());0==b.rangeCount&&b.addRange(this.Q)};a.np=function(b){this.Q=b};y(np,ap);np.prototype.ne=function(b,c,d){return E("528")?np.n.ne.call(this,b,c,d):this.Q.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.END_TO_START:1==c?fa.Range.START_TO_END:fa.Range.END_TO_END,b)};np.prototype.Jo=function(b,c){b.removeAllRanges();c?b.setBaseAndExtent(this.ea(),this.Ia(),this.V(),this.ta()):b.setBaseAndExtent(this.V(),this.ta(),this.ea(),this.Ia())};a.op=function(b){return A&&!Fb(9)?new fp(b,Qb(b.parentElement())):D?new np(b):C?new ep(b):rb?new mp(b):new ap(b)},a.$o=function(b){if(A&&!Fb(9)){var c=new fp(hp(b),Qb(b));if(bp(b)){for(var d,e=b;(d=e.firstChild)&&bp(d);)e=d;c.ua=e;c.Ba=0;for(e=b;(d=e.lastChild)&&bp(d);)e=d;c.pa=e;c.ya=1==e.nodeType?e.childNodes.length:e.length;c.Yf=b}else c.ua=c.pa=c.Yf=b.parentNode,c.Ba=z.indexOf(c.Yf.childNodes,b),c.ya=c.Ba+1;b=c}else b=D?new np(cp(b)):C?new ep(cp(b)):rb?new mp(cp(b)):new ap(cp(b));return b},a.bp=
function(b){return fc(b)||3==b.nodeType};a.pp=function(){};y(pp,Po);a.qp=function(b,c){var d=new pp;d.Gi=b;d.ff=!!c;return d},a.sp=function(b,c,d,e){var g=new pp;g.ff=rp(b,c,d,e);if("BR"==b.tagName)var h=b.parentNode,c=z.indexOf(h.childNodes,b),b=h;"BR"==d.tagName&&(h=d.parentNode,e=z.indexOf(h.childNodes,d),d=h);g.ff?(g.ua=d,g.Ba=e,g.pa=b,g.ya=c):(g.ua=b,g.Ba=c,g.pa=d,g.ya=e);return g};t=pp.prototype;t.Gi=k;t.ua=k;t.Ba=k;t.pa=k;t.ya=k;t.ff=m;
t.clone=function(){var b=new pp;b.Gi=this.Gi;b.ua=this.ua;b.Ba=this.Ba;b.pa=this.pa;b.ya=this.ya;b.ff=this.ff;return b};t.Lh=s("text");t.Pd=function(){return tp(this).Q};t.me=function(){this.ua=this.Ba=this.pa=this.ya=k};t.ej=s(1);t.se=function(){return this};
a.tp=function(b){var c;if(!(c=b.Gi)){c=b.V();var d=b.ta(),e=b.ea(),g=b.Ia();if(A&&!Fb(9)){var h=c,l=d,n=e,q=g,r=m;1==h.nodeType&&(l>h.childNodes.length&&gp.log(ce,"Cannot have startOffset > startNode child count",i),l=h.childNodes[l],r=!l,h=l||h.lastChild||h,l=0);var w=hp(h);l&&w.move("character",l);h==n&&l==q?w.collapse(j):(r&&w.collapse(m),r=m,1==n.nodeType&&(q>n.childNodes.length&&gp.log(ce,"Cannot have endOffset > endNode child count",i),n=(l=n.childNodes[q])||n.lastChild||n,q=0,r=!l),h=hp(n),
h.collapse(!r),q&&h.moveEnd("character",q),w.setEndPoint("EndToEnd",h));q=new fp(w,Qb(c));q.ua=c;q.Ba=d;q.pa=e;q.ya=g;c=q}else c=D?new np(dp(c,d,e,g)):C?new ep(dp(c,d,e,g)):rb?new mp(dp(c,d,e,g)):new ap(dp(c,d,e,g));c=b.Gi=c}return c};t.rc=function(){return tp(this).rc()};t.V=function(){return this.ua||(this.ua=tp(this).V())};t.ta=function(){return this.Ba!=k?this.Ba:this.Ba=tp(this).ta()};t.ea=function(){return this.pa||(this.pa=tp(this).ea())};t.Ia=function(){return this.ya!=k?this.ya:this.ya=tp(this).Ia()};
t.Qh=p("ff");t.sg=function(b,c){var d=b.Lh();return"text"==d?tp(this).sg(tp(b),c):"control"==d?(d=b.Hh(),(c?z.some:z.every)(d,function(b){return this.containsNode(b,c)},this)):m};t.Rf=u(65);t.isCollapsed=function(){return tp(this).isCollapsed()};t.Gc=u(29);t.Bg=u(25);t.Sd=u(45);t.ad=function(){return new Yo(this.V(),this.ta(),this.ea(),this.Ia())};t.select=function(){tp(this).select(this.ff)};t.Vc=u(3);t.insertNode=function(b,c){var d=tp(this).insertNode(b,c);this.me();return d};t.bh=u(6);t.dz=function(){return new up(this)};
t.collapse=function(b){b=this.Qh()?!b:b;this.Gi&&this.Gi.collapse(b);b?(this.pa=this.ua,this.ya=this.Ba):(this.ua=this.pa,this.Ba=this.ya);this.ff=m};a.up=function(b){this.fB=So(b);this.wJ=b.Qh()?b.Ia():b.ta();this.XC=To(b);this.AL=Uo(b)};y(up,Mo);up.prototype.Wj=u(35);up.prototype.w=function(){up.n.w.call(this);this.XC=this.fB=k};a.vp=function(){};y(vp,Xo);a.wp=function(b){var c=new vp;c.Q=b;return c},a.xp=function(b){for(var c=Qb(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)c.addElement(arguments[d]);return wp(c)};t=vp.prototype;t.Q=k;t.Ua=k;t.ap=k;t.me=function(){this.ap=this.Ua=k};t.clone=function(){return xp.apply(this,this.Hh())};t.Lh=s("control");t.Pd=function(){return this.Q||document.body.createControlRange()};t.ej=function(){return this.Q?this.Q.length:0};
t.se=function(b){b=this.Q.item(b);return qp($o(b),i)};t.rc=function(){return vc.apply(k,this.Hh())};t.V=function(){return yp(this)[0]};t.ta=s(0);t.ea=function(){var b=yp(this),c=z.Wd(b);return z.find(b,function(b){return rc(b,c)})};t.Ia=function(){return this.ea().childNodes.length};t.Hh=function(){if(!this.Ua&&(this.Ua=[],this.Q))for(var b=0;b<this.Q.length;b++)this.Ua.push(this.Q.item(b));return this.Ua};
a.yp=function(b){b.ap||(b.ap=b.Hh().concat(),b.ap.sort(function(b,d){return b.sourceIndex-d.sourceIndex}));return b.ap};t.Rf=u(64);t.isCollapsed=function(){return!this.Q||!this.Q.length};t.Gc=u(28);t.Bg=u(24);t.Sd=u(44);t.ad=function(){return new zp(this)};t.select=function(){this.Q&&this.Q.select()};t.Vc=u(2);t.$f=u(38);t.dz=function(){return new Ap(this)};t.collapse=function(){this.Q=k;this.me()};a.Ap=function(b){this.Ua=b.Hh()};y(Ap,Mo);Ap.prototype.Wj=u(34);
Ap.prototype.w=function(){Ap.n.w.call(this);delete this.Ua};a.zp=function(b){b&&(this.Ua=yp(b),this.ua=this.Ua.shift(),this.pa=z.Wd(this.Ua)||this.ua);Oo.call(this,this.ua,m,j)};y(zp,Wo);t=zp.prototype;t.ua=k;t.pa=k;t.Ua=k;t.dj=u(57);t.bj=u(41);t.V=p("ua");t.ea=p("pa");t.Sn=function(){return!this.depth&&!this.Ua.length};t.next=function(){this.Sn()&&f(Q.Za);if(!this.depth){var b=this.Ua.shift();this.Yc(b,1,1);return b}return zp.n.next.call(this)};
t.ug=function(b){this.Ua=b.Ua;this.ua=b.ua;this.pa=b.pa;zp.n.ug.call(this,b)};t.clone=function(){var b=new zp(k);b.ug(this);return b};a.Bp=function(){this.Pe=[];this.Wl=[];this.Bq=this.qm=k};y(Bp,Xo);t=Bp.prototype;t.Da=le("goog.dom.MultiRange");t.me=function(){this.Wl=[];this.Bq=this.qm=k};t.clone=function(){var b=new Bp;b.Pe=z.clone(this.Pe);return b};t.Lh=s("mutli");t.Pd=function(){1<this.Pe.length&&this.Da.lk("getBrowserRangeObject called on MultiRange with more than 1 range");return this.Pe[0]};t.ej=function(){return this.Pe.length};t.se=function(b){this.Wl[b]||(this.Wl[b]=qp(op(this.Pe[b]),i));return this.Wl[b]};
t.rc=function(){if(!this.Bq){for(var b=[],c=0,d=this.ej();c<d;c++)b.push(this.se(c).rc());this.Bq=vc.apply(k,b)}return this.Bq};a.Cp=function(b){b.qm||(b.qm=Ro(b),b.qm.sort(function(b,d){var e=b.V(),g=b.ta(),h=d.V(),l=d.ta();return e==h&&g==l?0:rp(e,g,h,l)?1:-1}));return b.qm};t.V=function(){return Cp(this)[0].V()};t.ta=function(){return Cp(this)[0].ta()};t.ea=function(){return z.Wd(Cp(this)).ea()};t.Ia=function(){return z.Wd(Cp(this)).Ia()};t.Rf=u(63);
t.isCollapsed=function(){return 0==this.Pe.length||1==this.Pe.length&&this.se(0).isCollapsed()};t.Gc=u(27);t.Bg=u(23);t.Sd=u(43);t.ad=function(){return new Dp(this)};t.select=function(){var b=Qo(this.Oa());b.removeAllRanges();for(var c=0,d=this.ej();c<d;c++)b.addRange(this.se(c).Pd())};t.Vc=u(1);t.dz=function(){return new Ep(this)};t.collapse=function(b){if(!this.isCollapsed()){var c=b?this.se(0):this.se(this.ej()-1);this.me();c.collapse(b);this.Wl=[c];this.qm=[c];this.Pe=[c.Pd()]}};
a.Ep=function(b){this.fz=z.map(Ro(b),function(b){return b.dz()})};y(Ep,Mo);Ep.prototype.Wj=u(33);Ep.prototype.w=function(){Ep.n.w.call(this);z.forEach(this.fz,function(b){b.G()});delete this.fz};a.Dp=function(b){b&&(this.Sf=z.map(Cp(b),function(b){return Q.$c(b)}));b=b?this.V():k;Oo.call(this,b,m,j)};y(Dp,Wo);t=Dp.prototype;t.Sf=k;t.Ok=0;t.dj=u(56);t.bj=u(40);t.V=function(){return this.Sf[0].V()};t.ea=function(){return z.Wd(this.Sf).ea()};t.Sn=function(){return this.Sf[this.Ok].Sn()};
t.next=function(){try{var b=this.Sf[this.Ok],c=b.next();this.Yc(b.ba,b.$b,b.depth);return c}catch(d){return(d!==Q.Za||this.Sf.length-1==this.Ok)&&f(d),this.Ok++,this.next()}};t.ug=function(b){this.Sf=z.clone(b.Sf);Dp.n.ug.call(this,b)};t.clone=function(){var b=new Dp(k);b.ug(this);return b};a.Gp=function(b){return(b=Qo(b||window))&&Fp(b)},a.Fp=function(b){var c,d=m;if(b.createRange)try{c=b.createRange()}catch(e){return k}else if(b.rangeCount){if(1<b.rangeCount){c=new Bp;for(var d=0,g=b.rangeCount;d<g;d++)c.Pe.push(b.getRangeAt(d));return c}c=b.getRangeAt(0);d=rp(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}else return k;return Hp(c,d)},a.Hp=function(b,c){return b&&b.addElement?wp(b):qp(op(b),c)},a.Vo=function(b){return qp($o(b),i)},a.Ip=function(b,c){return sp(b,c,b,c)},a.rp=
function(b,c,d,e){if(b==d)return e<c;var g;if(1==b.nodeType&&c)if(g=b.childNodes[c])b=g,c=0;else if(rc(b,d))return j;if(1==d.nodeType&&e)if(g=d.childNodes[e])d=g,e=0;else if(rc(d,b))return m;return 0<(uc(b,d)||c-e)};a.Jp=function(b){return(b=b.exec(nb()))?b[1]:""},a.Kp=function(){if(Jg)return Jp(/Firefox\/([0-9.]+)/);if(A||rb)return xb;if(Og)return Jp(/Chrome\/([0-9.]+)/);if(Pg)return Jp(/Version\/([0-9.]+)/);if(Lg||Mg){var b=/Version\/(\S+).*Mobile\/(\S+)/.exec(nb());if(b)return b[1]+"."+b[2]}else{if(Ng)return(b=Jp(/Android\s+([0-9.]+)/))?b:Jp(/Version\/([0-9.]+)/);if(Kg)return Jp(/Camino\/([0-9.]+)/)}return""}();a.Lp=A&&!Fb(9),a.Mp=C||D||rb||A&&Fb(9),a.Np=D||m,a.Op=A||D||rb,a.Pp=C||D;D&&E("534.16");a.Qp=C&&j,a.Rp=C||D||rb,a.Sp=C||rb;A&&E("7.0");a.Tp=C&&E("1.8")||D||rb,a.Up=D||A&&E("9");A||rb||C&&E("1.9");a.Vp=C||D&&!E("527"),a.Wp=A||rb,a.Xp=A||D&&E("525"),a.Yp=D&&!E("531"),a.Zp=D&&!E("528");C&&E("1.9")||A||rb||D&&E("531");a.$p=A||C||rb,a.aq=C||D&&!E("526"),a.bq=A||rb,a.cq=!A&&!rb,a.dq=!D;Og&&0<=bb(Kp,"4")||Pg&&E("533")||C&&E("2.0")||A&&E("10");a.eq=rb&&E("11.10");Og&&bb(Kp,"12");a.fq=G.yh("ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DETAILS","DIR","DIV","DL","DD","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","ISINDEX","OL","LI","MAP","MENU","NAV","OPTGROUP","OPTION","P","PRE","SECTION","SUMMARY","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"),a.gq=G.yh("IMG","IFRAME","EMBED");a.hq=G.yh("text","file","url");a.jq=function(b,c){var d=b?Rb(b):c;T.call(this,d);this.IQ=b||this.K().Ca().body;this.zy={};iq.push(this);this.kt=j};y(jq,T);a.kq=0,a.iq=[];jq.prototype.Yd=k;jq.prototype.fl=m;jq.prototype.Is=0;a.lq=A?"styleFloat":"cssFloat",a.mq=["position","top","left","width",lq],a.nq=["position","top","left","display",lq,"marginTop","marginLeft","marginRight","marginBottom"];t=jq.prototype;t.v=function(){jq.n.v.call(this);this.$(this.h())};t.$=function(b){jq.n.$.call(this,b);F.add(b,"goog-scrollfloater")};
t.B=function(){jq.n.B.call(this);this.Iu=wg(document.body).top-2;this.Yd||(this.Yd=this.K().v("div",{style:"visibility:hidden"}));this.Is=dg(this.h()).y;oq(this,this.kt);var b=this.hp=new Tl(this.up,150,this);this.m().e(window,"scroll",b.fire,m,b);this.m().e(window,"resize",Qk(150,this.Nw))};t.w=function(){jq.n.w.call(this);z.remove(iq,this);this.hp.G();this.sx&&(kq-=this.dC);delete this.Yd};a.oq=function(b,c){(b.kt=c)?b.up():pq(b)};
t.up=function(){this.kt&&(Lc(this.K()).y+this.Iu>this.Is?qq(this):pq(this))};a.qq=function(b){if(!b.fl){var c=b.h(),d=dg(c).x,e=tg(c).width;b.zy={};G.forEach(mq,function(b){this.zy[b]=c.style[b]},b);G.forEach(nq,function(b){this.Yd.style[b]=c.style[b]||Wf(c,b)||Vf(c,b)},b);lg(b.Yd,c.offsetWidth,c.offsetHeight);Tf(c,{left:d+"px",width:e+"px",cssFloat:"none"});c.parentNode.replaceChild(b.Yd,c);b.IQ.appendChild(c);c.style.position="fixed";b.Do();F.add(c,"goog-scrollfloater-floating");b.fl=j}};
t.Do=function(){var b=this.h(),c=this.Iu;!this.sx&&0<kq&&(c+=kq);b.style.top=c+"px"};a.pq=function(b){if(b.fl){var c=b.h();G.forEach(b.zy,function(b,e){c.style[e]=b});b.Yd.parentNode.replaceChild(c,b.Yd);F.remove(c,"goog-scrollfloater-floating");b.fl=m}};t.Nw=function(){pq(this);this.Is=dg(this.h()).y;this.up()};a.rq=function(b,c,d){jq.call(this,b,d);this.bR=c;this.eh="";this.Cy=100};y(rq,jq);
rq.prototype.up=function(){var b,c=this.eh;b=c&&z.find(iq,function(b){return c===b.eh&&b.fl});if(this.kt&&(!b||b===this)){b=this.bR.getBoundingClientRect();var d=this.Iu+kq,e=d+this.Cy;b.top<d&&b.bottom>e?qq(this):pq(this)}};a.sq=function(){};ja(sq);
sq.prototype.vg=function(b,c,d){function e(){var e=window.ZH.createRichTextEditor(b,c),g=e[0],e=e[1];d&&d(g,e)}var g=xf.O(),h=g.kd.rich_text_editor;h.Td()?(g.Da.info("rich_text_editor module already loaded"),g=new sf(e,i),window.setTimeout(v(g.execute,g),0)):Af(g,"rich_text_editor")?(g.Da.info("rich_text_editor module already loading"),h.Xs(e,i)):(g.Da.info("Registering callback for module: rich_text_editor"),h.Xs(e,i),g.Da.info("Initiating module load: rich_text_editor"),Df(g,["rich_text_editor"]))};a.tq=function(b,c){this.J=$(b);this.F=$.extend({},this.defaults,c||{});this.pg()};tq.prototype.defaults={wR:[],Zy:[],mK:j};a.uq="data-tip class style id bgcolor color size width height".split(" ");
tq.prototype.pg=function(){var b=this;if(this.F.mK)this.J.on("paste",function(){setTimeout(function(){var c=b.F,d=c.wR,e=c.Zy,g={id:function(b,c){b.id&&!z.contains(d,b.id)&&b.removeAttribute(c)},"class":function(b,c){if(b.className)if(e.length){var d=F.get(b),d=z.filter(d,qf(xa(z.contains,e)));d.length&&F.remove.apply(k,[b].concat(d))}else b.removeAttribute(c)}};$("*",b.J).each(function(){var b=this;$.each(uq,function(c,d){var e=g&&G.get(g,d);e?e(b,d):b.removeAttribute(d)})})})})};a.vq=function(b){this.F=$.extend(j,{},this.defaults,b||{});this.Qu();this.Gg()};y(vq,Gd);t=vq.prototype;t.defaults={zm:{Ee:6,content:"",method:"GET",source:"/people/autocomplete"},MQ:"mention-popup",Nj:document.body,VA:"activated"};t.Qu=function(){var b=this.g=ec(this.aT);this.yo=b.getElementsByTagName("input")[0];b.className=this.F.MQ;b.style.display="none";this.F.Nj.appendChild(b)};t.rc=function(){return this.F.Nj};t.aT='<div><div class="writing-bg"><input></div><div class="tip">想用 @ 提到谁？</div></div>';
t.template=Kk('<% if (data.id) { %><img class="avatar" src="<%=avatar%>"><div class="body"><span class="name"><%=label%></span><span class="bio"><%=headline%></span></div><% } %>');t.ob=function(){return qg(this.g)};t.open=function(){this.ob()||(R(this.g,j),this.yo.focus(),this.pg(),this.dispatchEvent("open"))};t.close=function(){this.ob()&&(R(this.g,m),F.remove(this.g,this.F.VA),this.yo.value="",this.yo.blur(),this.qv(),this.dispatchEvent("close"))};
a.wq=function(b,c){b.close();b.dispatchEvent({type:"cancel",data:{originalEvent:c}})};t.JF=function(b){this.ob()&&!rc(this.g,b.target)&&wq(this,b)};t.to=function(b){var c=b.keyCode,d=this.yo;if(27===c||d===b.target&&""===d.value&&(8===c||32===c))wq(this,b),b.preventDefault(),b.stopPropagation()};t.pg=function(){P(document,"click",this.JF,m,this);P(this.g,"keydown",this.to,m,this)};t.qv=function(){xd(document,"click",this.JF,m,this);xd(this.g,"keydown",this.to,m,this)};
t.Gg=function(){var b=this,c=this.F.zm,d=new Ao(this.yo,{Uj:this.g,Ee:c.Ee,source:c.source,select:function(c){setTimeout(function(){b.close();b.dispatchEvent({type:"select",data:{LQ:c}})});return""},Wc:function(c,d,h){h.innerHTML=b.template(c.data)}});d.pz(c.method);d.Ha(c.content);d.addEventListener("suggestionsupdate",function(){F.enable(this.g,this.F.VA,d.ob())},m,this);this.Y=d};t.position=function(b){$f(this.g,b)};t.He=u(49);a.xq=function(b,c){this.input=b;G.extend(this.F={},this.defaults,c||{});this.$h=new vq({zm:this.F.zm,Nj:this.F.Nj});this.pg()};y(xq,Gd);a.yq=!!window.getSelection;xq.prototype.defaults={zm:{},Nj:document.body,zj:"member_mention",Hr:"mention-holder",position:function(b,c){b.x+=c.width+7;b.y-=5;A&&7<xb&&(b.y+=c.height/2-9)}};a.zq=G.Ma({PU:"member_mention"});xq.prototype.h=p("input");
a.Aq=function(b){var b=K(b.F.Hr,b.input),c;if(b)return c=document.createTextNode("@"),lc(c,b),c},a.Bq=function(b,c){var d;C&&(d=Zb(document),b.input.focus(),window.scrollTo(d.x,d.y));var e;yq?(d=window.getSelection(),e=document.createRange(),e.setStartAfter(c),d.removeAllRanges(),d.addRange(e)):3===c.nodeType&&Ip(c,c.length).select()};
xq.prototype.pg=function(){var b=this.$h;P(b,"cancel",function(b){var d=Aq(this),b=b.data.originalEvent;d&&"click"!==b.type&&("keydown"===b.type&&32===b.keyCode&&(d=d.parentNode.insertBefore(document.createTextNode(" "),d.nextSibling)),Bq(this,d))},m,this);P(b,"select",function(b){var d=b.data.LQ,b=K(this.F.Hr,this.input),d=this.Eq(d),e=b.previousSibling,g=document.createTextNode(" ");lc(d,b);jc(g,d);e&&(3===e.nodeType&&!Ga(Fc(e)," "))&&ic(document.createTextNode(" "),d);Bq(this,g)},m,this);P(this.input,
"click",function(){b.ob()&&Aq(this)},m,this);P(this.input,"keydown",function(b){var d;if(8===b.keyCode&&(d=Gp())){var b=d.V(),e=d.ea(),g=d.ta();d=d.Ia();var h=m;Cq(b.parentNode)&&(g=0,h=j);Cq(e.parentNode)&&(d=e.length,h=j);h&&sp(b,g,e,d).select()}},m,this);P(this.input,kb||Lg||Mg?"keypress":"keyup",function(b){function d(b,c){if(3!==b.nodeType||"@"===b.nodeValue&&b.previousSibling&&"A"===b.previousSibling.nodeName||b.parentNode&&"A"===b.parentNode.nodeName)return m;var d=b.nodeValue,e=c-1;if("@"!==
d.slice(e,e+1))return m;var g=d;0<=e&&e<d.length&&(g=d.substr(0,e)+d.substr(e+1,d.length-e-1));b.nodeValue=g;return j}if(!("keypress"===b.type&&"@"!==String.fromCharCode(b.charCode))){var e,g,h,l;if("keyup"===b.type){if(50!==b.keyCode)return;if(yq){e=window.getSelection();h=e.anchorNode;l=e.anchorOffset;if(!d(h,l))return;D&&!h.nextSibling&&(h.nodeValue+=" ");g=document.createRange();e.removeAllRanges();g.setStart(h,l-1);g.setEnd(h,l-1);e.addRange(g)}else{g=Hp(document.selection.createRange());h=So(g);
l=g.ta();if(!d(h,l))return;Ip(h,l-1).select()}}this.Bt(b)}},m,this)};
xq.prototype.Bt=function(b){var c=this,d=this.$h;if(!d.ob()){var e=function(d){return!(d&&"A"===d.nodeName)&&d.className!==c.F.zj?(b&&b.preventDefault(),j):m};if(yq){var g=window.getSelection();if(e(g.anchorNode.parentNode)){var e=g.getRangeAt(0),h=Dq(c);e.insertNode(h);e.selectNode(h);g.removeAllRanges();g.addRange(e);e=Eq(c,window.getSelection().getRangeAt(0));d.position(e);d.open()}}else g=document.selection.createRange(),h=g.parentElement(),e(h)&&(g.pasteHTML(Dq(c).outerHTML),g.moveToElementText(K(c.F.Hr,
c.input)),g.select(),e=Eq(c,g),"7.0"===xb&&(e.x-=2),d.position(e),d.open())}};a.Eq=function(b,c){var d;d=c.getBoundingClientRect();var e;A&&(e={width:c.boundingWidth,height:c.boundingHeight},za(e,d),d=e);e=Zb(document);var g=dg(b.$h.rc());g.x=d.left-g.x+e.x;g.y=d.top-g.y+e.y;b.F.position.call(b,g,d);return g},a.Cq=function(b){return b&&1===b.nodeType&&"A"===b.tagName&&z.contains(zq,b.className)};
xq.prototype.Eq=function(b,c){return M("a",{"data-hash":b.id,href:"/people/"+b.url_token,className:c||this.F.zj,innerHTML:"@"+b.label})};a.Dq=function(b){return M("a",{className:b.F.Hr,innerHTML:"@"})};a.Fq=function(b,c,d,e){T.call(this);this.status=this.Hb=k;this.CE=b;this.MO=e||0;this.RG=c;this.Iq=d;this.isEnabled=j;this.ZC=m;this.params=[];this.content=k;this.cX=this.MO?j:m;this.St=m;this.mC=$.Deferred()};y(Fq,T);t=Fq.prototype;t.w=function(){this.Ja=k;Fq.n.w.call(this)};
t.$=function(b){Fq.n.$.call(this,b);var c=b.getAttribute("data-resourceid");c&&(this.xR=b.getAttribute("data-action"),this.Fo=c);this.status||(this.status="normal");b=this.K();if(!this.cd&&(this.cd=b.aj("zm-editable-content",this.g))&&"1"===this.cd.getAttribute("data-disabled"))this.disabled=j;this.Qb?this.Hb&&(this.Qb.innerHTML=this.Hb):(this.Qb=b.aj("zm-editable-tip",this.g),this.Hb&&!this.Qb&&(this.Qb=b.v("div","zm-editable-tip"),this.Qb.innerHTML=this.Hb,b.Nn(this.Qb,this.cd)));this.Bb=b.aj("zm-editable-editor-wrap",
this.g);this.content=Oa(this.content||this.St?Fc(this.cd):this.cd.innerHTML);this.le();Gq(this)};t.v=function(){var b=this.K(),b=b.v("div","zm-editable-item-wrap",[this.Qb=b.v("div","zm-editable-tip"),this.cd=b.v("div","zm-editable-content",this.content)]);this.$(b)};t.B=function(){Fq.n.B.call(this);this.m().e(this.cd,"click",this.ra);this.Qb&&this.m().e(this.Qb,"click",this.ra)};t.Ha=function(b){this.content=b;Gq(this)};
t.ra=function(b){var c=Ek(this.g,b.target),d=this.K();if(!c||!c.name)return b=d.KL(b.target,"div","zm-editable-tip-label"),this.isEnabled&&b&&this.qf(),j;b=c.name;switch(b){case "expand":Gq(this);break;case "collapse":Gq(this);break;case "edit":S.Bi?this.dispatchEvent("beforeedit")!==m&&(this.z(),this.qf()):Yk.O().D(j);this.dispatchEvent("click_edit");break;case "save":this.JD();break;case "cancel":this.dispatchEvent("cancel_edit");this.li();break;default:return this.or(b)}return j};
t.JD=function(){var b=tk(this.bf()),c=/<embed/i.test(b);if(/<img/i.test(b)||c||this.CE||(!b?0:(!b?"":b.replace(/<[^>]+>/g,"")).length))b===this.content&&!this.ZC?(this.dispatchEvent("save_unchanged"),this.li()):(this.dispatchEvent("save_changed"),this.Qg(b))};t.Qg=function(b){if(!this.ga||!this.ga.Xb())if(this.Iq&&this.RG){this.ga=new W(j);oe(this.m(),this.ga,"success",this.bB);var c=new lj(this.params.join("&"));c.add(this.Iq,b).add("field_name",this.Iq);this.ga.ajax(this.RG,c.toString())}else this.dispatchEvent("change")};
t.li=function(){this.status="normal";this.le()};t.bB=function(){var b=Ie(this.ga);b&&(b.r?V(b.msg):(this.Ha(b.msg),this.li(),this.dispatchEvent("saveSuccess"),this.dispatchEvent("change")))};t.ab=p("content");t.hr=u(0);t.isContentEditable=function(){return!this.Od};t.bf=function(){return uk(Qa(this.Ja.value))};t.or=function(b){this.dispatchEvent(b);return j};t.z=function(){this.zr||(this.zr=j,this.vg())};
t.Ur=function(){var b=this.Ja;if(b.h){var c=v(function(){this.rX=new xq(b.h(),{Nj:this.Wi})},this);b.Td()?c():b.addEventListener("load",c)}};
t.vg=function(){var b=this.K();this.Bb?(this.Cc=b.aj("zm-command",this.Bb),this.Ja=b.aj("zm-editable-editor-input",this.Bb)):(this.Bb=b.v("div","zm-editable-editor-wrap clearfix",this.Wi=b.v("div","zm-editable-editor-outer",b.v("div","zm-editable-editor-inner zg-form-text-input",this.Ja=b.v("textarea","zm-editable-editor-input")))),b.mx(this.Bb,this.cd),this.xh());this.Ja&&(this.Ja.tagName&&"TEXTAREA"===this.Ja.tagName&&!this.tC)&&new Vk(this.Ja,66);this.so()};t.ready=function(b){this.mC.done(b)};
t.so=function(){this.m().e(this.Cc,"click",this.ra);this.Rt&&this.Ur();var b=this.Ja;if(b.h)b.on("load",function(){new tq(b.h(),{Zy:this.Rt?zq:[]})},m,this);this.mC.resolveWith(this)};t.xh=function(){this.Cc=M("div","zm-command",[this.rq=M("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.Lk=M("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Bb.appendChild(this.Cc)};
t.le=function(){this.Hq&&F.remove(this.g,this.Hq);"editing"===this.status?(this.Qb&&R(this.Qb,m),this.Bb&&R(this.Bb,j),R(this.cd,m),this.Hq="zm-editable-status-editing"):(this.Qb&&(this.CE&&!this.content&&!this.disabled?R(this.Qb,j):R(this.Qb,m)),this.Bb&&R(this.Bb,m),this.content?R(this.cd,j):R(this.cd,m),this.Hq="zm-editable-status-normal");F.add(this.g,this.Hq)};t.qf=function(){this.ar||(this.z(),this.ready(function(){this.status="editing";this.le();this.Po()}))};
t.Po=function(){if(this.Fo)this.ar=j,this.Uv();else{var b=this.Ja,c;c=Za(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");b.value=c}};a.Gq=function(b){if(b.dispatchEvent("shouldUpdateContent")){var c=b.content,d=b.cd,e=b.jD();b.St?(xc(d,c),d.appendChild(ec(e))):d.innerHTML=c+e;$("img.lazy",d).lazyload({data_attribute:"actualsrc",threshold:400})}};
t.jD=function(){var b=[];this.disabled||b.push('<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>');return b.join("")};t.Uv=function(){this.ar||(this.ar=j,Fi(this.xR+"?id="+this.Fo,v(function(b){this.ar=m;b=Ie(b.target);b.r?V(b.msg):this.ot(b.msg)},this),"GET"))};t.ot=function(b){this.Ja.value=b};a.Hq=function(b,c,d,e){Fq.call(this,b,c,d,e);this.SO="mock"+this.Qd();this.Ev=m;this.oq=j;this.Od=!Qg||Ng;this.Rt=m;this.RH=this.lT=j;this.Ox=""};y(Hq,Fq);t=Hq.prototype;t.ot=function(b){this.Od?Hq.n.ot.call(this,b):(b||(b=C?"":"<div></div>"),this.Ja.Ad(m,b,j))};t.Po=function(){this.ready(function(){this.Fo?this.Uv():this.Od?Hq.n.Po.call(this):this.content?this.Ja.Ad(m,this.content,m,j):this.Ja.Ad(m,D?"<div><br></div>":"<div></div>",m,j)})};
t.w=function(){Tc(this.Ja);N(this.Bb);this.Cp=this.DA=this.Uh=this.Zk=this.$z=this.Wi=this.Bb=k;Hq.n.w.call(this)};
t.vg=function(){if(this.Od)Hq.n.vg.call(this);else{var b=this.K();this.Bb=b.v("div","zm-editable-editor-wrap",this.Wi=b.v("div","zm-editable-editor-outer",[this.$z=b.v("div","zm-editable-toolbar-container"),this.Zk=b.v("div","zm-editable-editor-field-wrap",this.Uh=b.v("div",{id:this.SO,className:"zm-editable-editor-field-element"}))]));this.DA=$(this.$z);this.Cp=$(this.Bb);this.Cp.hide();b.mx(this.Bb,this.cd);this.Fo||(this.Uh.innerHTML=this.content);b={loremIpsum_:this.Ox,enableFullScreen:this.Ev,
content:this.content,useScraper_:this.lT,canUploadMedia_:this.oq,useRemoveFormat_:this.RH};this.xh();sq.O().vg(this.Bb,b,v(this.so,this));sb||(this.fg=new rq(k,this.Wi),this.fg.o(this.$z),oq(this.fg,m),pq(this.fg),Rc(this,this.fg))}};
t.so=function(b,c){if(this.Od)Hq.n.so.call(this);else{this.Ja=b;this.Cp.show();Hq.n.so.call(this);var d=b.Kh("FullScreenPlugin");if(d){var e=Kh(c,"toggleFullScreen");d.on("save",this.JD,m,this).on("willEnterFullScreen",function(){Iq(this,m)},m,this).on("enterFullScreen",function(){e.Lc("退出写作模式")}).on("exitFullScreen",function(){e.Lc("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.Fg})}if(d=b.Kh("CodePlugin"))d.VR(c),d.pg()}};
a.Iq=function(b,c){if(b.fg)if(c){F.add(b.Zk,"zm-editable-editor-field-wrap-active");var d=b.fg;d.Is=dg(d.h()).y;oq(b.fg,j)}else F.remove(b.Zk,"zm-editable-editor-field-wrap-active"),oq(b.fg,m)};t.qf=function(){Hq.n.qf.call(this);this.ready(function(){!this.Od&&!this.kL&&(this.kL=j,wd(this.Ja,"load",function(){var b=this.Ja,c=b.Kh("FullScreenPlugin");C&&(b=b.field);P(b,["focus","blur"],function(b){(!c||!c.rx())&&Iq(this,"focus"===b.type)},m,this)},m,this),this.Ja.De())})};
t.bf=function(){if(this.Od)return Hq.n.bf.call(this);var b=this.Ja,c=b.h();return(z.some(["img","embed"],function(b){return c.getElementsByTagName(b).length})?0:!pf(uk,Oa,Fc)(c))?"":b.hl()};t.le=function(){Hq.n.le.call(this);this.fg&&oq(this.fg,"editing"===this.status)};a.Jq=function(b){b.DA.toggle();b.Cp.toggleClass("no-toolbar")};a.Kq=function(){Uh.call(this,i,i,i);this.uC=j;this.iX=m;this.eX=j;this.uX=!!S[5];this.cy=S.cy;this.$R=-1===window.location.href.indexOf("psq");this.iH=this.wc=k};y(Kq,xi);ja(Kq);a.Lq=Zi.create("AddQuestionForm"+S.Fe);t=Kq.prototype;
t.B=function(){Kq.n.B.call(this);var b=ec(Oa('<div class="zh-add-question-form"><div class="js-add-question-splash add-question-splash-page" ><p>知乎是一个真诚、友善、认真、互助的社区<br>我们希望每一个疑惑都有解答，好的问题更容易得到好答案 <a href="//www.zhihu.com/question/19555761">如何提一个好问题？</a></p><p><b>提问应遵循真实、客观、简洁、明确、规范的原则</b><br>1、提问应尽可能简洁明了，避免「请问」「有谁知道」「谢谢！」等与问题本身无关的附加语。<br>2、应避免使用「为神马」「童鞋」「肿么办」等网络用语。<br>3、基于个人判断或传言的问题，在提问时应在补充说明里详细说明原由<br>4、避免太宽泛问题，如调查性的问题容易变成每个人都可以发表观点，但对其他人没有价值。<br></p><p><b>知乎禁止这些提问</b><br>1、和已有问题完全重复的问题，<b>为避免重复，提问前可以先进行搜索</b><br>2、招聘 / 求职、交易 / 合作、寻人 / 征友、召集 / 赠送、求码类内容<br>3、投票类问题。例如：你支持方舟子还是韩寒？<br>4、作业或其他希望代为完成个人任务类的内容，以及针对个人具体病情的求医问药类问题<br>完整的提问建议可查看 <a href="//www.zhihu.com/question/19806261">知乎的提问规范有哪些？</a><br></p><div class="before-ask-form"><b>提问前请先搜索</b><div style="position:relative;margin-top:18px;"><input type="text" class="zg-form-text-input" id="js-before-ask" placeholder="请输入你的问题"></div></div></div><form class="js-add-question-form"><div class="zg-section-big clearfix"><div id="zm-modal-dialog-info-wrapper"></div><div style="display: none;position: relative;" id="zm-modal-dialog-warnmsg-wrapper"><div class="zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"></div><a name="close" title="关闭" href="javascript:;" class="zu-global-notify-close"  style="display:none">x</a><span class="zm-modal-dialog-guide-title-msg"></span></div><div class="zg-form-text-input add-question-title-form" style="position: relative;"><textarea class="zg-editor-input" title="在这里输入问题" id="zh-question-suggest-title-content"></textarea></div><span id="js-title-length-err-msg" class="title-length-err-msg zg-right"></span><div id="zh-question-suggest-ac-wrap" class="question-suggest-ac-wrap"></div></div><div class="zg-section-big"><div style="display: none;position: relative;" class="zm-modal-dialog-warnmsg-wrapper"><div class="zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"></div><a name="close" title="关闭" href="javascript:;" class="zu-global-notify-close" style="display:none">x</a><span class="zm-modal-dialog-guide-title-msg"></span></div><div class="add-question-section-title"><span class="zg-right extra-editor-toolbar hidden-phone"><div class="js-toggle-editor-toolbar"><i class="tr-inline-icon z-ico-textedit"></i></div><div class="js-editor-add-pic"><i class="tr-inline-icon tr-image"></i></div><div class="js-editor-add-video"><i class="tr-inline-icon tr-video"></i></div></span>问题说明（可选）：<span id="zh-question-form-detail-err"></span></div><div id="zh-question-suggest-detail-container"><div class="zm-editable-content" data-disabled="1"></div></div></div><div class="zm-add-question-form-topic-wrap"><div class="add-question-section-title"><span class="zg-gray zg-right hidden-phone">话题越精准，越容易让领域专业人士看到你的问题</span>选择话题：<span id="zh-question-form-tag-err"></span></div><div id="zh-question-suggest-topic-container" class="zm-tag-editor zg-section"><div class="zm-tag-editor-labels"></div><div id="zh-question-suggest-autocomplete-container"></div></div></div><div class="zm-command"><label class="zm-question-form-hide-in-about-question-el zg-left"><input type="checkbox" value="1" class="zg-addq-isanon">匿名<span class="zm-question-form-split">&nbsp;</span></label><div class="zg-left zm-add-question-form-sns-wrap"><span>分享到</span></div><a href="javascript:;" name="cancel" class="zm-command-cancel">取消</a><a href="javascript:;" name="addq" class="zg-r5px zu-question-form-add zg-btn-blue">发布</a><a name="jumpq" class="zg-r5px zg-btn-blue zu-question-form-jump" style="display:none;">查看问题</a></div></form></div>'));this.U().appendChild(b);
this.Tc=Ub("zg-editor-input",this.g)[0];this.kq=K("zu-question-form-add",this.g);this.Nm=K("zu-question-form-jump",this.g);this.jo=J("zm-modal-dialog-warnmsg-wrapper");this.hs=J("js-title-length-err-msg");this.Qy=K("zm-modal-dialog-warnmsg-wrapper",this.g);this.sC=J("zh-question-form-detail-err");this.Rz=J("zh-question-form-tag-err");this.rK=K("zu-global-notify-close",this.jo);this.YS=K("zu-global-notify-close",this.Qy);this.FN=J("zm-modal-dialog-info-wrapper");this.ws=K("zm-modal-dialog-warnmsg",
this.jo);this.NX=K("zm-modal-dialog-warnmsg",this.Qy);this.Sm=K("zg-addq-isanon",this.g);this.SS=K("js-toggle-editor-toolbar",this.g);this.cJ=K("js-editor-add-pic",this.g);this.dJ=K("js-editor-add-video",this.g);this.rS=K("js-add-question-splash",this.g);this.HO=K("js-add-question-form",this.g);this.tB=J("js-before-ask");this.aL=J("zh-question-suggest-detail-container");this.XS=J("zh-question-suggest-topic-container");this.gx();this.cy?(Mq(this,j),this.dx()):(this.Hn(),Mq(this,m))};
a.Nq=function(b,c){b.Tc&&(b.Tc.value=c,b.ZF(),b.wG.Qt(),b.Na&&b.Na.hA())};t.show=ql(function(b){this.F=$.extend({bA:k,Es:k},b||{});this.D(j)},j);t.Kl=function(){Kq.n.Kl.call(this);this.F={}};t.gx=function(){this.Ya("提问");zi(this,550);gi(this,k);this.J=$(this.g);this.J.addClass("absolute-position");this.D(j);this.fa()};
t.Lx=function(){var b=this,c=Lq.get("add_question_form_title");c&&Nq(this,c);var d=Lq.get("add_question_form_des");if(d){var e=this.yb;setTimeout(function(){e.Ha(d);e.Po()})}c=this.F.bA;c||(c=Lq.get("add_question_form_topics"))&&(c=JSON.parse(c));c&&z.forEach(c,function(c){b.Na.$j(c)})};
t.Hn=qk(function(){function b(){var b=$('<div><div style="text-align:center"><i class="spinner-gray"></i></div></div>'),c=this.hn,c=$(c&&qg(c)?c:this.Ch),d=c.data("answer_count"),e=c.data("url_token");$.get("/question/"+e+"/answers/summary").done(function(c){if(c&&!c.r){var c=l({forEach:z.forEach,answers:c.msg,question_url_token:e}),g=Ha('<div class="zippy-row"><a class="zg-link-litblue" href="/question/%s">查看该问题%s</a></div>',e,0<d?"的全部 "+d+" 个回答":"");b.html(c+g)}else V(c.msg)});c.after(b);return b.get(0)}
var c=this;this.Na=new Ko;this.Na.o(this.XS);this.m().e(this.Na,["add_tag","remove_tag"],this.XF);new al(this.Tc,"写下你的问题");var d=this.aL;this.yb=new Hq;this.yb.Ox='<span style="font-style: normal;color: #999;">问题背景、条件等详细信息</span>';this.yb.o(d);this.yb.z();this.yb.qf();(!sb||Mg)&&Jq(this.yb);setTimeout(function(){c.fa()});this.m().e(this.Sm,"click",this.xJ);so.O().refresh();var d=K("zm-add-question-form-sns-wrap",this.g),e=new mo;e.X(d);F.add(e.h(),"icon sina");e.h().title="分享到新浪微博";e.h().setAttribute("data-tip",
"s$b$分享到新浪微博");e.TJ="/oauth/auth/sina?next=/oauth/callback";this.m().e(e,"change",this.bQ);this.wc=e;if(!sb||Mg)d=oo.O(),e=new co("",d),Zn(e,32,m),this.m().e(e,"action",this.wP),e.o(this.SS),e.Lc("切换工具栏"),e=new co("",d),Zn(e,32,m),this.m().e(e,"action",function(){this.yb.Ja.execCommand("image")}),e.o(this.cJ),e.Lc("添加图片"),d=new co("",d),Zn(d,32,m),this.m().e(d,"action",function(){this.yb.Ja.execCommand("video")}),d.o(this.dJ),d.Lc("添加视频");var g=this,h=Kk(g.hk.uG),l=Kk(g.hk.CJ),d=g.Tc,e=new Eo;g.RA=
new Ao(d,{source:"/question/autocomplete",Uj:J("zh-question-suggest-ac-wrap"),Wc:$.noop,X:function(c,d,e){g.TA&&g.TA.G();var d=$(c.h()),l=g.TA=new zo;d.html(h({forEach:z.forEach,questions:e,token:encodeURIComponent(this.Rb)}));d.prepend('<div class="ac-head zg-gray">你的问题可能已经有答案</div>');$(".ac-row",d).each(function(){l.Fa(new qo($(this).get(0),b,m))});l.o(c.h())},lx:e});this.gb();this.Lx()});t.hk={};t.hk.uG='<% forEach(questions, function(q, i) { q = q.data; %><div class="ac-row" data-url_token="<%=q.url_token%>" data-answer_count="<%=q.answer_count%>"><% if (q.is_star) { %><a class="zg-star" data-tip="s$b$优质问答" href="/question/<%=q.url_token%>"></a><% } %><a class="zippy-indicator"><i></i></a><a style="color:#222" href="/question/<%=q.url_token%>?q=<%= token %>"><%- q.title%></a><span class="zm-ac-gray"> <%= parseInt(q.answer_count) > 0 ? q.answer_count + " 个回答" : "还没有回答" %> </span></div><% }) %>';
t.hk.CJ='<% forEach(answers, function(a, i) { %><div class="zippy-row"><div class="summary-item"><a class="inline-block zm-item-vote-count" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><%=a.vote_count%></a><% if (a.author.url_token) { %><a class="inline-block" href="/people/<%=a.author.url_token%>"><span class="author"><%-a.author.name%></span> </a><% } else { %><span class="inline-block anon-author"><%-a.author.name%></span> <% } %><span class="inline-block summary ellipsis"><%=a.summary_text%></span><a class="inline-block" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>">阅读全部 »</a></div></div><% }) %>';
t.dx=function(){function b(){Mq(c,m);c.Tc.value=e.value}var c=this,d=Kk(this.hk.uG),e=this.tB,g=new Eo;this.ZI=new Ao(e,{source:"/question/autocomplete",Uj:e.offsetParent,Wc:ba(),X:function(c,g,n){c=$(c.h());c.html(d({forEach:z.forEach,questions:n,token:encodeURIComponent(this.Rb)}));0<n.length&&c.prepend('<div class="ac-row ac-first"><b>你想问的是不是：</b></div>').append($('<div class="ac-row ac-last iwanttoask"><a href="#">不是，我要提一个新问题 »</a></div>'));0===n.length&&e.value&&(c.html('<div class="ac-row ac-last iwanttoask"><a href="#">没有找到相关问题，马上提问 »</a></div>').show(),
n.push("fake row"));c.off("click").on("click",".iwanttoask",b)},lx:g});this.ZI.Em=m};a.Mq=function(b,c){$(b.rS).toggle(!!c);$(b.HO).toggle(!c);c?b.tB.focus():(b.Hn(),b.Tc.focus());b.fa()};t.bQ=function(b){b=b.target;b===this.wc&&!this.iH&&(window.open(b.TJ),b.Xc(m))};t.xJ=function(){var b=K("zm-add-question-form-sns-wrap"),c=K("zm-question-form-split"),d=this.Sm.checked;R(b,!d);R(c,!d)};a.Oq=function(b,c,d){"title"===d?b.oO=c:"detail"===d?b.cO=c:b.qO=c;b.uC=b.oO||b.cO||b.qO};
t.gb=function(){this.m().e(this.g,"click",this.dM);this.xO&&this.xO.o(this.Tc);this.wG=new Vk(this.Tc,22);this.m().e(this.wG,"change",this.ZF);this.m().e(this.rK,"click",function(){R(this.jo,m);R(this.FN,j)});this.m().e(this.YS,"click",function(){R(this.Qy,m)});this.m().e(Y,"sina_callback",this.Ds);this.m().e(this,"afterhide",function(){this.it()});this.Gv()};t.Gv=function(){$(window).on("beforeunload.AddQuestionForm",v(function(){this.it()},this))};t.yv=function(){$(window).off("beforeunload.AddQuestionForm")};
t.Ds=function(b){var c={id:b.Ic.id,name:b.Ic.name};"sina_callback"===b.type&&(this.iH=c,this.wc.Xc(m))};t.it=function(){this.Tc.value&&Lq.Bd("add_question_form_title",this.Tc.value);var b=this.yb.bf();b&&Lq.Bd("add_question_form_des",b);(b=this.Na.data)&&Lq.Bd("add_question_form_topics",JSON.stringify(b))};t.Yu=function(){Lq.clear()};t.dM=function(b){if(b=Ek(this.g,b.target))switch(b=b.name,b){case "expand":F.add(this.g,"zg-qform-expanded");break;default:this.or(b)}};
t.Oj=function(){if(!this.My){this.My=j;setTimeout(v(function(){this.My=m},this),3E4);this.xhr=new W(j);oe(this.m(),this.xhr,"success",this.Es);this.xhr.ajax("/question/add",Pq(this).gd());var b=this.Na;if(b.ep){var c=0,d=b.data.length;z.forEach(b.data,function(b){z.forEach(this.ep,function(d){b[1]===d[1]&&c++},this)},b);Y.ia({type:"ga_click_add_question",data:{Bt:c,total:d}})}}};
t.Es=function(){this.My=m;var b=Ie(this.xhr);if(b)if(b.r)if(281===b.errcode){var c=new Qq;c.pe=b.msg;c.hc=3;Rq(this,c,j)}else V(b.msg);else $i.Bd("__Q_ISNEWLYCREATED__","yep"),this.Yu(),this.yv(),b=b.msg,c=b.match(/\/question\/(\d+)/)[1],this.F.Es?this.F.Es({url:b,mb:c}):location.href=b;else V("网络异常")};
t.or=function(b){if("cancel"===b)this.D(m);else if("addq"===b){var b=Sq(this),c=Tq(this);if(!(1<c.hc)&&!(1<b.hc)){var d=Uq(this),e=new Qq;3E3<Gk(d)?(e.hc=3,e.pe="请控制在 3000 字以下"):e.hc=0;d=1<e.hc;this.sC.innerHTML=e.pe;R(this.sC,d);Oq(this,d,"detail");this.XF()}Oq(this,1<c.hc||1<b.hc,"title");this.uC?Rq(this,1<b.hc?b:c,j):this.Oj()}};a.Rq=function(b,c,d){b.ws.innerHTML=c.pe;0===c.hc?R(b.jo,m):(3!==c.hc&&(R(b.kq,j),R(b.Nm,m)),R(b.jo,d),d&&b.Tc.focus())};
t.ZF=function(){var b=Sq(this),c=Tq(this);"toolong"===b.name||"buffer"===b.name?(this.hs.innerHTML=b.pe,R(this.hs,j)):(this.hs.innerHTML=b.pe,R(this.hs,m));"multiquestionmark"===c.name||"duplicatedquestion"===c.name?Rq(this,c,j):Rq(this,c,m);Oq(this,1<c.hc,"title")};
a.Tq=function(b){var c=tk(b.Tc.value).replace(/？/g,"?"),d;var e="#";d=b.Yn||new Qq;var g=m;if(b.RA&&b.$R){var h=b.RA.eb;h&&h.length?(z.forEach(h,function(b){4<b.raw.length&&1===+b.raw[4]&&(g=j,e="/question/"+b.url_token+"?q="+encodeURIComponent(this.Tc.value)+"&psq=0")},b),g?(d.pe='我们找到了一个也许是你想问的问题，<a href="'+e+'">查看问题</a>',d.hc=3,d.name="duplicatedquestion",d.live=j,b.Nm.href=e,R(b.kq,m),R(b.Nm,j)):(d=new Qq,R(b.kq,j),R(b.Nm,m)),b.Yn=d):(d=new Qq,b.Yn=d,R(b.kq,j),R(b.Nm,m));b.Yn||(b.Yn=d);d=b.Yn}1<
d.hc||(1>Bk(tk(b.Tc.value).replace("？","?"))?(d.pe="您还没有给问题添加问号",d.hc=3,d.name="noquestionmark"):1<Bk(c)&&(d.pe="如果有多个问题，最好拆分一下",d.hc=1,d.name="multiquestionmark"));return d},a.Sq=function(b){var b=tk(b.Tc.value).replace(/？/g,"?"),b=Gk(b),c=new Qq;3>b?(c.hc=3,c.pe="问题字数太少了吧",c.name="tooshort"):40<b&&50>=b?(c.hc=1,c.pe='还可以输入 <span class="warning">'+(50-b)+"</span> 字",c.name="buffer"):50<b&&(c.hc=3,c.pe='已超出 <span class="error">'+(b-50)+"</span> 字",c.name="toolong");return c};
t.XF=function(){var b=m;1>this.Na.data.length?(b=j,this.Rz.innerHTML="至少添加一个话题"):5<this.Na.data.length&&(b=j,this.Rz.innerHTML="最多添加五个话题");R(this.Rz,b);Oq(this,b,"topic")};
a.Uq=function(b){var b=b.yb,c=Oa(b.bf());return b.isContentEditable()?c:Qa(c)},a.Pq=function(b){var c=new Fk,d=[],e=[];c.add("question_title",b.Tc.value);c.add("question_detail",Uq(b));b.Sm&&c.add("anon",b.Sm.checked?"1":"0");z.forEach(b.Na.data,function(b){b[3]?d.push(b[3]):e.push(b[1])});c.add("topic_ids",d.join(","));c.add("new_topics",e.join("$"));hh&&c.add("uid",hh[3]);b.Sm.checked||c.add("share_sina",Number(b.wc.ze()));return c};t.wP=function(){this.yb&&Jq(this.yb)};
a.Qq=function(){this.hc=isNaN(i)?0:i;this.pe=""};a.Vq=function(b){T.call(this);this.options=$.extend({stopPropagation:j,PJ:"#000",Eu:0.5,AK:"#666",RB:0.2,top:2,width:6,right:2,KJ:j},b);this.by=0;this.Sq=m};y(Vq,T);t=Vq.prototype;
t.$=function(b){this.g=b;this.J=$(this.g);this.J.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('<div class="zh-scroller-content"></div>');this.J.wrapInner('<div class="zh-scroller-inner"></div>');this.J.append("<div class='zh-scroller-bar-container'><div>");this.J.append('<div class="zh-scroller-bar"></div>');this.de=this.J.children(".zh-scroller-inner");this.qk=this.J.children(".zh-scroller-bar-container");this.be=this.J.children(".zh-scroller-bar");this.Me=this.de.children(".zh-scroller-content");
this.dq=this.be[0];this.ON=this.de[0];this.content=this.Me[0];this.fq=this.qk[0];this.de.css({height:"100%",width:"150%",overflow:"auto"});this.be.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.Eu,background:this.options.PJ,width:this.options.width,"border-radius":3,cursor:"default"});this.qk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,background:this.options.AK,border:"1px solid #444",opacity:0,cursor:"default",
"border-radius":"2px"});this.ji(this.dq,m);this.ji(this.fq,m);this.update()};t.B=function(){Vq.n.B.call(this);this.Wz=new Tl(this.oy,50,this);this.options.stopPropagation&&this.de.bind("mousewheel DOMMouseScroll",function(b){var c=k;"mousewheel"===b.type?c=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(c=40*b.originalEvent.detail);c&&(b.preventDefault(),$(this).scrollTop(c+$(this).scrollTop()))})};
t.enter=function(){this.Jv||(this.m().e(this.ON,"scroll",function(){this.Wz.fire()}),A||(this.m().e(this.fq,"click",this.jP),this.m().e(document,"mousedown",this.PP),this.m().e(document,"mouseup",this.RP),this.m().e(document,"mousemove",this.QP)),this.options.KJ?(this.xc=new Id(200),this.m().e(this.xc,Kd,function(){2===this.by||1===this.by?(Wq(this),this.Xo&&this.qk.css({opacity:this.options.RB})):!this.Sq&&!this.Gm&&(Xq(this,1E3),this.qk.css({opacity:0}))})):(this.be.css({opacity:this.options.Eu}),
this.qk.css({opacity:this.options.RB})),this.xc&&this.xc.start(),Xq(this),this.Jv=j)};t.PP=function(b){b.target===this.dq&&(this.Sq=j,this.QJ=b.clientY,this.RJ=parseInt(this.be.css("top"),10));(b.target===this.dq||b.target===this.fq)&&this.ji(document.body,m)};t.RP=function(){this.Sq=m;this.ji(document.body,j)};t.QP=function(b){if(this.Sq){var c=Yq(this,this.RJ+(b.clientY-this.QJ));this.de.scrollTop(c)}this.by=b.target===this.dq?2:b.target===this.fq?1:0};
a.Wq=function(b){b.Xo&&(b.be.stop().css({opacity:b.options.Eu}).show(),b.Gm&&(clearTimeout(b.Gm),b.Gm=m))},a.Xq=function(b,c){b.Gm=setTimeout(v(function(){this.be.stop().fadeOut();this.Gm=m},b),c||0)};t.oy=function(){var b=this.de.scrollTop(),c=this.Me.height(),d=this.de.height(),e=b/c*(d-2*this.options.top);Wq(this);this.be.css({top:e+this.options.top});this.dispatchEvent(new Zq(this,b,c-b-d,b/(c-d)))};
t.update=function(){var b=this.pl(this.de).height,c=this.pl(this.Me).height;b>=c?(this.Xo=m,this.be.hide()):(this.Xo=j,this.be.show());this.be.css({height:b/c*(b-2*this.options.top)});this.qk.css({height:b-2});this.Me.css({overflow:"hidden",width:this.J.width(),"min-height":"100%"});return this};
t.pl=function(b){var c={height:b.height(),width:b.width()};if(!c.height){var d=b.css("display"),e=b.css("position"),g=b.css("visibility");b.css({position:"absolute",display:"block",visibility:"hidden"});c={height:b.height(),width:b.width()};b.css({position:e,display:d,visibility:g})}return c};t.jP=function(b){this.scrollTo(Yq(this,b.offsetY-this.be.height()/2))};a.Yq=function(b,c){var d=b.de.height()-2*b.options.top-b.be.height(),e=b.Me.height()-b.de.height();return c/d*e};
t.scrollTop=function(b){this.Xo&&(b=b||200,Wq(this),this.de.stop().animate({scrollTop:0},b));return this};t.ji=function(b,c){sg(b,!c)};t.scrollTo=function(b){this.Xo&&(Wq(this),this.de.stop().animate({scrollTop:b},200));return this};a.Zq=function(b,c,d,e){gd.call(this,"scroll",b);this.scrollTop=c;this.UX=d;this.VX=e};y(Zq,gd);a.$q=function(b){T.call(this);this.F=$.extend({},this.defaults,b||{})};y($q,T);$q.prototype.defaults={wF:".tab-nav",hG:".tab-panel",yk:"active"};$q.prototype.$=function(b){if(b){this.g=b;var c=this,d=this.F;this.uk=$(d.wF,b);this.zA=$(d.hG,b);this.pj=this.uk.index("."+d.yk);this.uk.on("click",function(){c.select(c.uk.index(this))});this.uk.attr("role","tab").parent().attr("role","tablist")}};
$q.prototype.select=function(b){if(!(0>b||b>this.uk.size()))if(this.dispatchEvent({type:"action",data:{index:b}}),b!==this.pj){this.pj=b;var c=this.F;this.uk.eq(b).addClass(c.yk).attr("aria-selected","true").siblings().removeClass(c.yk).attr("aria-selected","false");c=this.zA.eq(b);this.zA.not(c.show()).hide();this.dispatchEvent({type:"select",data:{index:b}})}};$q.prototype.index=p("pj");a.ar=function(){O.call(this);this.Ef=[0,0,0];this.EF=[0,0,0];this.types=["default","follow","vote_thank"];this.Fv=j;this.Qe=[m,m,m];this.nl=[0,0,0];this.nm=[m,m,m]};y(ar,Sk);t=ar.prototype;
t.z=function(){this.Tg=J("zh-top-nav-live-new");this.AA=$(this.Tg);this.jp=J("zh-top-nav-count-wrap");this.Xm=M("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=Ub("zm-noti7-content",this.Tg);this.EO=Ub("zm-noti7-popup-refresh",this.Tg);this.VB=Ub("zm-noti7-content-body",this.Tg);this.jp.appendChild(this.Xm);this.m().e(this.jp,"click",this.AH).e(this.jp,"keypress",function(b){32===b.keyCode&&(b.preventDefault(),this.AH())});this.m().e(Y,
"noti7",this.QM);this.m().e(this.Tg,"click",this.ra);this.m().e(this.Tg,"click",function(b){b=b.target;b.href&&/group_id=/.test(b.href+"")&&$(b).parent(".unread").removeClass("unread")});var b=K("zm-noti7-popup-tab-container");this.yF=Ub("new-noti",b);this.dh=new $q({wF:".zm-noti7-popup-tab-item",hG:".zm-noti7-content",yk:"current"});this.m().e(this.dh,"action",function(b){this.hC=b=b.data.index;br(this,b);var d=this.cm&&this.cm[b];d&&(setTimeout(function(){d.update()}),this.dh.index()===b&&d.scrollTop())}).e(this.dh,
"select",function(b){this.hC=b=b.data.index;cr(this,b);Y.ia({type:"ga_click_top_nav_noti_tab",data:{dh:+b}});this.lc||$i.Bd("noti7-tab",b)});this.dh.o(this.Tg);!bh.vc&&navigator.userAgent.match(/iPad/i)==k&&(this.cm=z.map(this.contents,function(b){var d=new Vq;d.o(b);return d}));bh.vc&&(this.Fv=m);this.Ql=J("zh-top-nav-pm-count");this.Ql||(this.Ql=M("span"));this.Jl=J("zh-top-nav-new-pm");this.Jl||(this.Jl=M("span"));this.Gn=parseInt($(this.Jl).attr("data-count")||$(this.Ql).attr("data-count"),10)||
0;this.TE=J("zh-top-nav-count-wrap");this.TE.innerHTML&&(this.count=+this.TE.innerHTML);this.m().e(Y,"inbox",this.CM)};t.qr=function(b){!rc(this.Tg,b.target)&&!rc(this.jp,b.target)&&dr(this,m)};a.cr=function(b,c){b.cm&&z.forEach(b.cm,function(b,e){c===e?b.enter():b.Jv&&(b.m().removeAll(),b.xc&&b.xc.stop(),b.Jv=m)})};t.ra=function(b){var c=b.target;c&&c.name&&"set"===c.name&&this.zX(b)};
t.QM=function(b){this.EF=this.Ef;this.Ef=b.Ic;this.lc=this.Ef[0]+this.Ef[1]+this.Ef[2];R(this.Xm,!!this.lc);this.Xm.innerHTML=99<this.lc?"99+":this.lc;z.forEach(this.Ef,function(b,d){R(this.yF[d],b);b&&(this.Qe[d]=m);this.Fv&&0<b-this.EF[d]&&this.ml(d)},this);er(this)};
a.er=function(b){var c=99<b.lc?"99+":b.lc,d=99<b.Gn?"99+":b.Gn;window.document.title=(c||d?"("+(b.Gn?d+" 封私信":"")+(b.lc&&b.Gn?" / ":"")+(b.lc?c+" 条消息":"")+") ":"")+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")};
t.AH=function(){if(bh.vc&&this.visible)dr(this,m);else if(this.visible&&!this.lc)dr(this,m);else{dr(this,j);var b;!this.jv&&!this.lc?(b=(b=$i.get("noti7-tab"))?Number(b):0,this.dh.select(b),this.nm[b]=j):this.lc&&(b=z.Wv(this.Ef,of),b=-1===b?0:b,this.dh.select(b),this.nm[b]=j);Y.ia({type:"ga_click_top_nav_noti",data:{dh:this.hC,MH:+(this.lc||0)}})}er(this)};
a.fr=function(b,c){b.lc-=b.Ef[c];R(b.yF[c],m);0>b.lc&&(b.lc=0);R(b.Xm,!!b.lc);b.Xm.innerHTML=b.lc},a.br=function(b,c){var d;b.Fv?b.visible&&(b.Qe[c]?("$$used$$"!==b.Qe[c]&&(b.VB[c].innerHTML=b.Qe[c],b.Qe[c]="$$used$$"),b.Ef[c]&&(d=new W(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST")),fr(b,c),b.cm&&b.cm[c].update().scrollTop(),b.lc||$i.Bd("noti7-tab",c)):(b.nm[c]=j,b.ml(c))):b.Qe[c]?("$$used$$"!==b.Qe[c]&&(b.VB[c].innerHTML=b.Qe[c],b.Qe[c]="$$used$$"),b.Ef[c]&&(d=new W(m),d.ajax("/noti7/readall",
"tab="+b.types[c],"POST")),fr(b,c)):(b.nm[c]=j,b.ml(c),d=new W(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST"))},a.dr=function(b,c){c?b.AA.fadeIn(50):b.AA.fadeOut(50);b.visible=c;F.enable(b.jp,"open",b.visible);c?(b.Tg.focus(),z.forEach(b.Qe,function(b,c){b||this.ml(c)},b),b.m().e(document,"click",b.qr)):b.m().Ea(document,"click",b.qr);cr(b,-1)};
t.ml=function(b){if(!this.nl[b]||!this.nl[b].Xb())this.nl[b]=new W(m),this.m().e(this.nl[b],"success",function(c){this.ny(c,b)}),this.nl[b].ajax("/noti7/stack/"+this.types[b]+"?r="+Aa(),"","GET")};
t.ny=function(b,c){$(this.EO[c]).hide();var d=Ie(this.nl[c]);if(d)if(d.r)V(d.msg);else{this.jv=j;if(d=d.msg)1===c&&(d='<div class="zm-noti7-content-head-item"><span class="zg-gray-normal">这些人最近关注了你</span></div>'+d);else switch(c){case 0:d="<div class='zm-noti7-popup-empty'>暂无新消息</div>";break;case 1:d="<div class='zm-noti7-popup-empty'>有人关注你时会显示在这里</div>";break;case 2:d="<div class='zm-noti7-popup-empty'>你的答案收到赞同、感谢时会显示在这里</div>"}this.Qe[c]=d;this.nm[c]&&(br(this,c),this.nm[c]=m)}};
t.CM=function(b){this.Gn=b=$.isNumeric(b)?b:b.Ic;0!==b?(this.Jl.innerHTML=this.Ql.innerHTML=b,this.Jl.style.visibility=this.Ql.style.visibility="visible"):this.Jl.style.visibility=this.Ql.style.visibility="hidden";er(this)};a.gr=function(b){T.call(this);$.extend(this.F={},this.defaults,b||{})};y(gr,T);t=gr.prototype;t.defaults={trigger:"hover",aG:"open",hideFocus:m};t.oc=function(){return this.mg.length&&this.zc.length};t.o=function(b){if(b){var c=$(b),d=c.prev();this.mg=c;this.zc=d;this.$parent=c.parent();gr.n.o.call(this,b);return this}};t.toggle=function(){this.ob()?this.close():this.open()};t.ob=function(){return this.mg.is(":visible")};
t.open=function(){this.mg.attr("aria-hidden","false").parent().addClass(this.F.aG);this.zc.attr("aria-expanded","true")};t.close=function(){this.mg.attr("aria-hidden","true").parent().removeClass(this.F.aG);this.zc.attr("aria-expanded","false")};a.hr=function(b,c){var d=b.mg.children().find("a"),e=d.size();c>=e?c=0:-1>=c&&(c=e-1);d=d.eq(c);b.zc.attr("aria-activedescendant",d.attr("id"));d.focus();b.index=c};
t.oP=function(b){var c=b.keyCode;switch(c){case 32:b.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:hr(this,38===c?-1:0)}};t.LP=function(b){var c=b.keyCode;switch(c){case 27:case 9:this.close();this.zc.focus();break;case 38:case 40:b.preventDefault(),hr(this,this.index+(38===c?-1:1))}};
t.B=function(){var b=this,c=this.F,d=this.mg,e=this.zc,g=e.attr("id");g||(g=Gh(Fh.O()),e.attr("id",g),d.attr("aria-labelledby",g));e.attr("role")||e.attr("role","button");this.zc.attr("aria-haspopup","true").attr("aria-activedescendant","");this.mg.children().find("a").attr("tabindex",-1).attr("id",v(function(b,c){return c||Gh(Fh.O())},this));this.mg.on("keydown",v(this.LP,this));this.zc.on("keydown",v(this.oP,this));d=Rg?"click":c.trigger;if("hover"===d)this.$parent.on("hover",v(function(b){"mouseenter"===
b.type?this.open():this.close()},this));else if("click"===d)this.zc.on("click",v(function(b){b.preventDefault();this.toggle();this.zc.focus()},this));this.$parent.on("focusout",function(){setTimeout(function(){b.$parent.get(0).contains(document.activeElement)||b.close()})});if(c.hideFocus)this.mg.children().find("a").on("click",function(){this.blur()})};a.ir=function(){var b={warning:"您的知乎用户名 "+S.gw+' 不符合 <a href="http://www.zhihu.com/question/19791408">知乎用户名规范</a>，请您 <a href="/settings/account#rename-section">修改</a>。',pending:"您提交的用户名修改正在审核中，帐号暂时锁定。"},c=mh,d=lh,e=m;c?(V(c,4E3),e=j):d&&(b[d]&&V(b[d],4E3),e=j);return e};a.jr=function(){O.call(this)};y(jr,Sk);t=jr.prototype;
t.YM=function(b){var c=this.T.cj(),d=this.T.M.vl,e=z.slice(c,1),g=k;"topic"===c[0]?(g="/topic/"+e[1],g=kr(this,g)):"people"===c[0]?(g="/people/"+e[1],g=kr(this,g)):"question"===c[0]?(g="/question/"+e[2],g=kr(this,g)):"search_link"===c[0]&&(g="/search?q="+encodeURI(e[0])+"&type=question");g&&(Jk(["/search?q="+encodeURI(this.T.Rb)+"&type1="+("search_link"===c[0]?"autocomplete_"+c[0]:"autocomplete")]),Y.ia({type:"ga_serach_select",data:{type:c[0],index:d}}),Nf.set("s-q",encodeURI(this.T.Rb),-1,"/"),
Nf.set("s-i",d+1,-1,"/"),Nf.set("sid",Rk(),-1,"/"),Nf.set("s-t","autocomplete",-1,"/"),c=window.top,this.metaKey||this.Wx?c.open(g):c.location.href=g);b.stopPropagation();b.preventDefault()};
a.kr=function(b,c){if(!b.metaKey)try{$i.set("query",b.T.Rb)}catch(d){c+="?q="+encodeURIComponent(b.T.Rb)}return c},a.lr=function(b,c){if(sb&&c.length&&c.children("ul").length){var d=function(d){d=d.target;!c[0].contains(d)&&!d.contains(b[0])&&e()},e=function(){b.parent().removeClass("open");c.hide();$(document.body).off("mousedown",d)};b.click(function(g){g.preventDefault();c.is(":visible")?e():(b.parent().addClass("open"),c.show(),$(document.body).mousedown(d))}).attr("href","javascript:;");c.find(".slide-up").click(e)}};
t.z=function(){$i.get("__Q_ISNEWLYCREATED__")&&($i.remove("__Q_ISNEWLYCREATED__"),dh&&(dh.BE=j));var b=(new vf(location)).gd().get("q");b?b=decodeURIComponent(b):(b=$i.get("query"),$i.remove("query"));if(S.ha())(new ar).z();else $("#zh-top-inner").on("click",'a[href="/topic"]',function(){pl("top_nav_topics","signin");return m}).on("click",".js-signin-noauth",function(){pl("top_nav_sign_in","signin");return m}).on("click",".js-signup-noauth",function(){pl("top_nav_sign_up","signup");return m});if(this.Tq=
J("zh-top-search")){var c=J("zu-top-add-question");this.m().e(c,"click",ql(this.tt,{ha:"top_nav_ask",bd:j}));this.fW=c;if(Mg||!sb)(new gr({hideFocus:j})).o($("#top-nav-profile-dropdown").get(0));else{var c=$("#top-nav-dd-topic"),d=$("#mobile-top-nav-topic-popup");lr(c,d);Tg&&$("img",d).each(function(){var b=$(this).data("2x");b&&(this.src=b)});lr($("#js-top-nav-link-profile"),$("#mobile-top-nav-profile-popup"))}this.m().e(Y,"query_string_change",this.tt);this.aE=K("icon-magnify-q",this.Tq);var e=
this.wd=K("zu-top-search-input",this.Tq);b&&(e.value=b);ok(pk.register("/",function(){setTimeout(function(){e.focus()});yk(e,k,500)}),{group:"导航",name:"搜索"});b=new An;this.T=new Bn("/autocomplete",this.wd,k,k,this.Tq,k,["搜索话题、问题或人..."],k,b);this.T.Em=m;this.T.ki(j);this.m().e(this.T,"select",this.YM);this.m().e(this.wd,"keydown",function(b){13===b.keyCode&&(this.wd.value&&"show me the money"!==this.wd.value&&!/^ +$/.test(this.wd.value))&&(b=(new lj(location.href.match(we)[6]||k)).get("type"),(window.parent||
window).location.href="/search?q="+encodeURIComponent(this.wd.value)+"&type="+(b||"question"))});this.m().e(this.T,Om.mh.zi,this.ou);var g=v(function(){this.T.vC=!(this.metaKey||this.Wx)},this);this.m().e(document,"keydown",function(b){b.metaKey&&(this.metaKey=j,g())});this.m().e(document,"keyup",function(b){if(91===b.keyCode||224===b.keyCode)this.metaKey=m,g()});this.m().e(document,"mouseup",function(b){md(b,1)&&(this.Wx=j,g(),setTimeout(v(function(){this.Wx=m;g()},this),0))});this.m().e(this.wd,
["keyup","focus"],this.zH);this.m().e(this.wd,"blur",this.zH);this.m().e(this.wd,"mousedown",function(b){b.stopPropagation();return j})}};t.zH=function(){this.wd.value?F.add(this.aE,"icon-magnify-active"):F.remove(this.aE,"icon-magnify-active")};
t.ou=function(){var b=this.T.eb,c=this.T.M.ag;if(b&&0!==b.length){if(1===b.length){var d=M("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");ic(d,c[0]);N(c[0])}z.forEach(b,function(d,g){if(0===g||d[0]!==b[g-1][0]){var h=c[g],l={people:"用户",topic:"话题",question:"问题"}[d[0]];l&&(l=M("div",{className:"zu-autocomplete-row-label"},l),ic(l,h),this.m().e(this.T,Om.mh.zi,Pk))}},this)}};t.tt=function(){if(!ir()){var b=Kq.O();b.show();this.wd.value&&this.wd.value!==this.wd.title&&Nq(b,this.wd.value)}};a.mr=function(){T.call(this)};y(mr,T);a.nr=new mr;nr.o(document);a.or=function(){T.call(this)};y(or,T);a.pr=function(b){za(this,b)},a.qr=function(b){this.rF=b;this.J=$("<li>");this.ku()},a.rr=function(b){this.uK=b;this.J=$("<ul>")};or.prototype.B=function(){or.n.B.call(this);this.oR()};or.prototype.oR=function(){var b=this.g;$.get("/trending").done(function(c){var d=$.map(c,pr.JK);b.appendChild((new rr(d)).X().J.get(0));0<c.length&&F.remove(b.parentNode,"hidden")})};
pr.JK=function(b){var c={"0":"fullname",1:"url_token",2:"avatar",3:"id",4:"headline",5:"reason",6:"type"},b=z.reduce(b,function(b,e,g){b[c[g]]=e;return b},{});return new pr(b)};qr.prototype.template=Kk('<a href="#" data-tip="s$r$不感兴趣" class="del"><i class="icon icon-ignore"></i></a><a data-tip="p$t$<%=url_token%>" href="/people/<%=url_token%>" class="avatar"><img src="<%=avatar%>"></a><div class="bd"><a href="/people/<%=url_token%>" data-tip="p$t$<%=url_token%>"><%=fullname%></a><div class="headline"><span title="<%-headline%>"><%-headline%></span></div><div class="ft"><span class="reason"><%=reason%></span> <span class="zg-bull">&bull;</span> <a class="zg-follow follow" href="#" id="sugg-<%=id%>">关注</a></div></div>');
qr.prototype.ku=function(){var b=this.rF,c=this.J;c.on("click",".del",function(d){d.preventDefault();$.post("/un_trending",{id:b.id,type:b.type});c.remove()}).on("click",".follow",function(c){c.preventDefault();sl(this,b.type,xa(yk,this),k,{follow_text:"关注"})})};qr.prototype.X=function(){this.J.html(this.template(this.rF));return this};rr.prototype.X=function(){var b=this.J;$.each(this.uK,function(c,d){b.append((new qr(d)).X().J)});return this};$(function(){var b=J("zh-trendings");b&&(new or).o(b)});a.ur=function(){window.console||(window.console={info:ia,log:ia,warning:ia,error:ia});nr.on(["click!","show!","visit!"],aj);Hd=window;sb=bh.vc;$.ajaxPrefilter(function(b,c){var d,e;if(c.processData!==m&&"get"!==b.type&&(e=Nf.get("_xsrf")))d=c.data||{},"string"===$.type(d)?Xa(d,"_xsrf=")||(d+="&_xsrf="+e):(d._xsrf=e,d=$.param(d)),b.data=d});(new jr).z();Li.dispatchEvent("init");$(function(){Li.dispatchEvent("postinit")});S.ha()?(Ii.push({uT:"json",filter:function(b){(b=b.profile_result)&&$(b).css("border-top",
"1px solid #eee").appendTo(document.body)}}),bh.vc&&($.fx.off=j),$(function(){(new Wl).z()})):$("body").addClass("no-auth");Xa(location.host,"zhihu.com")||(Ag=j);$(document.body).children("div.zu-main").attr("role",Vc.AI);document.addEventListener&&document.addEventListener("touchstart",ia,m);Mg&&$('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1.0");$(sr);$(tr)},a.tr=function(){X.z()},a.sr=function(){(new Ul).z();(new Hn).z();var b=$("#rq3-sidenav-link"),c=$(".tour",b);
c.length&&$(".close-button",c).click(function(){var b=$(this).data("feature");$.get("/notifeature",{feature:b});c.fadeOut(100,function(){c.remove()})});b=new Vl;window.console&&console.info&&console.info(b.EJ+"\n\n"+b.link)},a.vr=function(b,c){c=c||3E3;if(b){var d=J("zh-message-container");d&&(d.innerHTML=b[1],F.set(d,b[0]?"zg-error-message":"zg-info-message"),R(d,j),0<c&&$(d).delay(c).fadeOut())}},a.Hk=function(){if(window.console){var b=z.toArray(arguments);b.unshift("["+(new Date).toLocaleTimeString()+
"]:\t");console.log.apply?console.log.apply(console,b):console.log(b[0],b.slice(1).join(","))}},a.wr=xf.O(),a.xr=new Ve;xr.oC=m;wr.Nx=xr;a.yr=fa.PLOVR_MODULE_INFO,a.zr=void 0;for(zr in yr)wr.kd[zr]=new tf(yr[zr],zr);wr.kC==wr.gq&&(wr.kC=k,wr.gq.vo(v(wr.nD,wr))&&Ff(wr,Gf));a.Ar=fa.PLOVR_MODULE_URIS,a.Br=void 0;for(Br in Ar)wr.kd[Br].hg=Ar[Br];If("app_core");ur();a.Cr=function(b,c){return!c.length?b:Cr(b[c.shift()],c)};
$(function(){window.znonce&&window.znonce.evalScripts();var b=$('meta[name="entry"]').attr("content"),b=b&&Cr(window,b.split("."));$.isFunction(b)&&b()});Da("ZH.main",ur);Da("ZH.setGlobalInfoMessage",function(b){Y&&b&&Cl(b)});Da("ZH.cm",function(b,c){Y.dispatchEvent(new kl(b,c))});Da("ZH.m",vr);Da("ZH.i",function(b){Y.dispatchEvent(new kl("iframe_data",b))});}})(zhihu);