if("function"!=typeof magic)var magic=function(){};magic.resourcePath="",magic.skinName="default",/msie 6/i.test(navigator.userAgent)&&document.execCommand("BackgroundImageCache",!1,!0),magic.Base=function(){baidu.lang.Class.call(this),this._ids={},this._eid=this.guid+"__"},baidu.lang.inherits(magic.Base,baidu.lang.Class,"magic.Base").extend({getElement:function(e){return document.getElementById(this.getId(e))},getElements:function(){var e={},t=this._ids;for(var n in t)e[n]=this.getElement(n);return e},getId:function(e){return e=baidu.lang.isString(e)?e:"",this._ids[e]||(this._ids[e]=this._eid+e)},mappingDom:function(e,t){return baidu.lang.isString(t)?this._ids[e]=t:t&&t.nodeType&&(t.id?this._ids[e]=t.id:t.id=this.getId(e)),this},dispose:function(){this.fire("ondispose")&&baidu.lang.Class.prototype.dispose.call(this)}}),magic.Background=baidu.lang.createClass(function(e){var t=e||{},n=this;n.coverable=t.coverable||!1,n.styleBox=t.styleBox,n.tagName="div";var i="filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;z-index:-1;top:0;left:0;width:100%;height:100%;";n._coverDom="<div style='"+i+"opacity:0;background-color:#FFFFFF'></div>";var a=baidu.browser;a.ie<7&&(n._coverDom="<iframe frameborder='0' style='"+i+"' src='about:blank'></iframe>"),a.ie&&(!a.isStrict||a.ie<8)&&(n.size=[0,0],n.timer=setInterval(function(){n._forIE()},80)),this._innerHTML="<div class='tang-background-inner' style='width:100%;height:100%;' id='"+this.getId("inner")+"'></div>"},{type:"magic.Background",superClass:magic.Base}).extend({render:function(e){var t=baidu.dom.g(e);t!=document.body&&"static"==baidu.dom.getCurrentStyle(t,"position")&&(t.style.position="relative"),baidu.dom.insertHTML(t,"afterbegin",this.toHTMLString())},dispose:function(){var e=this.getElement();e.parentNode.removeChild(e),clearInterval(this.timer)},toHTMLString:function(e){return["<",e||this.tagName," class='tang-background",baidu.browser.ie<7?" ie6__":"","' id='",this.getId(),"' style='position:absolute; top:0px; left:0px;",this.timer?"width:10px;height:10px;":"width:100%;height:100%;","z-index:-9; -webkit-user-select:none; -moz-user-select:none;' ","onselectstart='return false'>",this._innerHTML,this.coverable?this._coverDom||"":"","</",e||this.tagName,">"].join("")},setContent:function(e){this.getElement("inner").innerHTML=e},_forIE:function(){if(this.guid&&this.layer||(this.layer=this.getElement())&&this.layer.offsetHeight){var e=this.layer,t=this.container||e.parentNode;if(t&&t.style){var n=t.style,i=parseInt(n.borderTopWidth)||0,a=parseInt(n.borderRightWidth)||0,o=parseInt(n.borderBottomWidth)||0,s=parseInt(n.borderLeftWidth)||0,r=t.offsetWidth-a-s,d=t.offsetHeight-i-o;if((this.size[0]!=r||this.size[1]!=d)&&(e.style.width=(this.size[0]=r)+"px",e.style.height=(this.size[1]=d)+"px"),this.styleBox&&this.table||(this.table=this.getElement("table"))){var u,l;u=u||parseInt(baidu.dom.getCurrentStyle(this.table.rows[0],"height")),l=l||parseInt(baidu.dom.getCurrentStyle(this.table.rows[2],"height")),this.table.rows[0].style.height=u+"px",this.table.rows[2].style.height=l+"px",this.table.rows[1].style.height=this.layer.offsetHeight-u-l+"px"}}}}}),baidu.lang.register(magic.Background,function(){this.styleBox&&(this._innerHTML=["<table borde='0' cellpadding='0' cellspacing='0' ",baidu.browser.ie<7?"class='gif__' ":"","style='width:100%;height:100%;'>","<tr class='top__'>","<td class='left__ corner__'>&nbsp;</td>","<td class='center__ vertical__'>&nbsp;</td>","<td class='right__ corner__'>&nbsp;</td>","</tr>","<tr class='middle__'>","<td class='left__ horizontal__'>&nbsp;</td>","<td class='center__ midland__'>",this._innerHTML||"&nbsp;","</td>","<td class='right__ horizontal__'>&nbsp;</td>","</tr>","<tr class='bottom__'>","<td class='left__ corner__'>&nbsp;</td>","<td class='center__ vertical__'>&nbsp;</td>","<td class='right__ corner__'>&nbsp;</td>","</tr>","</table>"].join(""))}),magic.control=magic.control||{},magic._query=function(e,t){if(/^\./.test(e)){var n=t.getElementsByTagName("*"),i=magic._query;if(/\x20/.test(e))return e=e.split(" "),t=i(e[0],t)[0],i(e.slice(1).join(" "),t);for(var a=e.slice(1),o=0,s=n.length;s>o;o++)if(~n[o].className.indexOf(a))return[n[o]]}else if(/^\w+$/.test(e)){var n=t.getElementsByTagName(e);return n}},void function(){function e(e){this._options=e,this._constructor()}e.prototype._constructor=function(){var e=this,t=e._options;e._element=baidu.lang.isElement(t.content)&&t.content,e.guid=e._element.id||baidu.lang.guid()+"-carousel-item",e._element&&!e._element.id&&(e._element.id=e.guid)},e.prototype.render=function(e,t){if(!this._element){var n=this,i=n._options,a=baidu.dom.children(e),o=a[0]?a[0].tagName:"li",s="<"+o+' id="#{rsid}" class="#{class}">#{content}</'+o+">";baidu.dom.insertHTML(e,"forward"==t?"beforeEnd":"afterBegin",baidu.string.format(s,{rsid:n.guid,"class":"tang-carousel-item"+(i.empty?" tang-carousel-item-empty":""),content:i.empty?"&nbsp;":""})),n._element=baidu.dom.g(n.guid)}},e.prototype.insert=function(e,t){var n=this;n._element?"forward"==t?e.appendChild(n._element):e.insertBefore(n._element,e.firstChild):n.render(e,t)},e.prototype.loadContent=function(){},e.prototype.getElement=function(){var e=this;return e._element||baidu.dom.g(this.guid)},magic.control.Carousel=baidu.lang.createClass(function(t){var n,i=this,a=t.focusRange;i._options=baidu.object.extend({viewSize:3,step:1,focusRange:{min:0,max:t.viewSize-1||2},orientation:"horizontal",originalIndex:0,isLoop:!1},t),n=i._options,i._selectedIndex=n.originalIndex,a&&(n.focusRange={min:Math.max(0,a.min),max:Math.min(n.viewSize-1,a.max)}),i._items=n.items||[],i._dataIds=[],i._datas={},i.on("onfocus",function(){i._scrolling=!1}),i.on("onload",function(){var t=(i._axis[i._options.orientation],i._selectedIndex),n=i._options,a=n.focusRange,o=magic._query,s=baidu.fn.bind("_onEventHandler",i);i.mappingDom("container",o(".tang-carousel-container",i.getElement())[0]).mappingDom("element",o(".tang-carousel-element",i.getElement())[0]),baidu.array.each(baidu.dom.children(i.getElement("element")),function(n,a){var o=new e({content:n});i._dataIds.push(o.guid),i._datas[o.guid]=o,baidu.dom[t==a?"addClass":"removeClass"](n,"tang-carousel-item-selected")}),i._clear(t,a[t>(i._dataIds.length-1)/2?"max":"min"],!0),i._resize(),baidu.event.on(i.getElement("element"),"click",s),baidu.event.on(i.getElement("element"),"mouseover",s),baidu.event.on(i.getElement("element"),"mouseout",s),i.on("ondispose",function(){baidu.event.un(i.getElement("element"),"click",s),baidu.event.un(i.getElement("element"),"mouseover",s),baidu.event.un(i.getElement("element"),"mouseout",s)})})},{type:"magic.control.Carousel",superClass:magic.Base}).extend({_axis:{horizontal:{size:"width",offsetPos:"offsetLeft",offsetSize:"offsetWidth",scrollPos:"scrollLeft"},vertical:{size:"height",offsetPos:"offsetTop",offsetSize:"offsetHeight",scrollPos:"scrollTop"}},_onEventHandler:function(e){var t=this,n=(t._options,t.getElement("element"),baidu.event.getTarget(e));baidu.dom.contains(t.getElement("element"),n)&&(n=baidu.dom.getAncestorByClass(n,"tang-carousel-item")||n,t.fire("on"+e.type.toLowerCase()+"item",{DOMEvent:e,index:baidu.array.indexOf(t._dataIds,n.id)}))},_getItemBound:function(){var e,t=this,n=t._options,i="horizontal"==n.orientation.toLowerCase(),a=t._axis[n.orientation],o=t._bound;return o||(e=baidu.dom.children(t.getElement("element"))[0],e&&(o=t._bound={marginPrev:parseInt(baidu.dom.getStyle(e,"margin"+(i?"Left":"Top")),10),marginNext:parseInt(baidu.dom.getStyle(e,"margin"+(i?"Right":"Bottom")),10),size:e[a.offsetSize]},o.bound=o.size+(i?o.marginPrev+o.marginNext:Math.max(o.marginPrev,o.marginNext)))),o||{marginPrev:0,marginNext:0,size:0,bound:0}},_resize:function(){var e=this,t=e._axis[e._options.orientation],n=e.getElement("element"),i=baidu.dom.children(n);n.style[t.size]=i.length*e._getItemBound().bound+"px"},_clear:function(e,t,n){var i=this,a=i._axis[i._options.orientation],o=i._options,s=o.viewSize,r=o.focusRange,d=i._dataIds.length,u=baidu.dom.children(i.getElement("element")),l=baidu.array.indexOf(u,i._getItem(e).getElement());n&&(e-r.min<0&&(t=e),e+s-r.max>d&&(t=s-d+e)),baidu.array.each(u,function(e,n){(l-t>n||n>l+s-t-1)&&baidu.dom.remove(e)}),i.getElement("container")[a.scrollPos]=0},_getItem:function(e){var t=this;return t._datas["string"==typeof e?e:t._dataIds[e]]},_toggle:function(e){var t=this;baidu.dom.removeClass(t._dataIds[t._selectedIndex],"tang-carousel-item-selected"),t._selectedIndex=e,baidu.dom.addClass(t._dataIds[e],"tang-carousel-item-selected")},_scrollTo:function(t,n){var i,a,o,s,r=this,d=r._options,u=d.focusRange,l=r._selectedIndex,c=r._axis[d.orientation],n=n||(t>l?"forward":"backward"),g="forward"==n.toLowerCase(),m=r.getElement("container"),h=r.getElement("element"),f=r._getItemBound(),p=baidu.dom.g(r._getItem(t).guid),b=r._dataIds.length,v=baidu.dom.children(h),_=baidu.array.indexOf(v,r._getItem(l).getElement()),y=((g?1:-1)*(t-l)+b)%b+(g?d.viewSize-u.max-1:u.min)-(g?v.length-_-1:_),x=[];if(!(t==l||r._dataIds.length<=d.viewSize||r._scrolling))if(r._scrolling=!0,!p||p[c.offsetPos]<u.min*f.bound||p[c.offsetPos]-f.marginPrev>u.max*f.bound){for(var w=0;y>w;w++)i=(l+(g?v.length-_-1:-_)+(g?1:-1)*(w+1)+b)%b,a=baidu.dom.g(r._dataIds[i]),o=a?new e({empty:!0}):r._getItem(i),o.insert(h,n),o.loadContent(),a&&x.push({empty:o.getElement(),item:a});if(r._resize(),!g&&(m[c.scrollPos]+=f.bound*y),r.fire("onbeforescroll",{index:t,distance:(g?1:-1)*f.bound*y,empty:x})){for(r._toggle(t);x.length>0;)s=x.shift(),h.replaceChild(s.item,s.empty),baidu.dom.remove(s.empty);r._clear(t,u[g?"max":"min"]),r._resize(),r.fire("onfocus",{direction:n})}}else r._toggle(t),r.fire("onfocus",{direction:n})},_basicFlip:function(e){var t=this,n=t._options,i=n.focusRange,a="forward"==e?1:-1,o=t._selectedIndex,s=t._dataIds.length,r=n.isLoop?(o+a*n.step+s)%s:Math.min(s-1-(n.viewSize-1-i.max),Math.max(0+i.min,o+a*n.step));t._scrollTo(r,e)},focusPrev:function(){this._basicFlip("backward")},focusNext:function(){this._basicFlip("forward")},focus:function(e,t){var e=Math.min(Math.max(0,e),this._dataIds.length-1);this._scrollTo(e,t)},getCurrentIndex:function(){return this._selectedIndex},getTotalCount:function(){return this._dataIds.length},dispose:function(){var e=this;e.disposed||magic.Base.prototype.dispose.call(e)}})}(),magic.Carousel=baidu.lang.createClass(function(){},{type:"magic.Carousel",superClass:magic.control.Carousel}).extend({tplItem:'<li class="#{class}">#{content}</li>',toHTMLString:function(){for(var e=this,t=e._options.items.length,n=[],i=0;t>i;i++)n.push(baidu.string.format(e.tplItem,{"class":"tang-carousel-item",content:e._items[i].content}));return baidu.string.format('<div class="#{containerClass}"><ul class="#{elementClass}">#{content}</ul></div>',{containerClass:"tang-carousel-container",elementClass:"tang-carousel-element",content:n.join("")})},render:function(e){var t,n=this;n.getElement()||(n.mappingDom("",baidu.dom.g(e)||document.body),t=n.getElement(),baidu.dom.addClass(t,"tang-ui tang-carousel"),baidu.dom.insertHTML(t,"beforeEnd",n.toHTMLString()),n.fire("ondomready"),n.fire("onload"))},dispose:function(){var e,t=this;t.disposed||(baidu.dom.removeClass(t.getElement(),"tang-ui tang-carousel"),e=t.getElement("container"),magic.Base.prototype.dispose.call(t),baidu.dom.remove(e),e=null)}}),baidu.lang.register(magic.control.Carousel,function(){function e(){var e=i.getElement("prev"),t=i.getElement("next");baidu.dom[i.isFirst()?"addClass":"removeClass"](e,"tang-carousel-btn-prev-disabled"),baidu.dom[i.isLast()?"addClass":"removeClass"](t,"tang-carousel-btn-next-disabled"),baidu.dom[i.isFirst()?"removeClass":"addClass"](e,"tang-carousel-btn-prev"),baidu.dom[i.isLast()?"removeClass":"addClass"](t,"tang-carousel-btn-next")}var t,n,i=this;i._options.button=baidu.object.extend({enable:!0},i._options.button),i._options.button.enable&&(t=baidu.fn.bind("_onButtonClick",i,"backward"),n=baidu.fn.bind("_onButtonClick",i,"forward"),i.on("onload",function(){var a=magic._query;i.mappingDom("prev",a(".tang-carousel-btn-prev",i.getElement())[0]).mappingDom("next",a(".tang-carousel-btn-next",i.getElement())[0]),baidu.event.on(i.getElement("prev"),"click",t),baidu.event.on(i.getElement("next"),"click",n),e()}),i.on("onfocus",function(){e()}),i.on("ondispose",function(){baidu.event.un(i.getElement("prev"),"click",t),baidu.event.un(i.getElement("next"),"click",n)}))},{_onButtonClick:function(e){var t=this;("forward"==e?t.isLast():t.isFirst())||t._basicFlip(e)},_isLimit:function(e){var t=this,n=t._options,i=n.focusRange,a=t._selectedIndex,o="forward"==e?a>=t.getTotalCount()-1-(n.viewSize-1-i.max):a<=i.min;return n.isLoop?!1:o},isFirst:function(){return this._isLimit("backward")},isLast:function(){return this._isLimit("forward")}}),baidu.lang.register(magic.Carousel,function(){var e=this,t='<a href="#" class="tang-carousel-btn #{class}" onclick="return false;">#{content}</a>';e._options.button=baidu.object.extend({buttonLabel:{prev:"",next:""}},e._options.button),e._options.button.enable&&e.on("ondomready",function(){var n=e.getElement();baidu.dom.insertHTML(n,"afterBegin",baidu.string.format(t,{"class":"tang-carousel-btn-prev",content:e._options.button.buttonLabel.prev})),baidu.dom.insertHTML(n,"beforeEnd",baidu.string.format(t,{"class":"tang-carousel-btn-next",content:e._options.button.buttonLabel.next})),e.on("ondispose",function(){baidu.array.each(["prev","next"],function(t){baidu.dom.remove(e.getElement(t))})})})}),magic.control.Layer=baidu.lang.createClass(function(e){this.width="auto",this.height="auto",baidu.object.extend(this,e||{})},{type:"magic.control.Layer",superClass:magic.Base}).extend({show:function(){this.fire("onbeforeshow")&&(this.getElement().style.display="",this.fire("onshow"))},hide:function(){this.fire("onbeforehide")&&(this.getElement().style.display="none",this.fire("onhide"))},setWidth:function(e){baidu.dom.setPixel(this.getElement(),"width",this.width=e)},setHeight:function(e){baidu.dom.setPixel(this.getElement(),"height",this.height=e)},setSize:function(e){this.setWidth(e.width||e[0]),this.setHeight(e.height||e[1])}});var T,baidu=T=baidu||{version:"1.5.2.2"};baidu.guid="$BAIDU$",baidu.$$=window[baidu.guid]=window[baidu.guid]||{global:{}},baidu.global=baidu.global||{},window[baidu.guid].global=window[baidu.guid].global||{},function(){var e=window[baidu.guid].global;baidu.global.get=function(t){return e[t]}}(),function(){var e=window[baidu.guid].global;baidu.global.set=function(t,n,i){var a=!i||i&&"undefined"==typeof e[t];return a&&(e[t]=n),e[t]}}(),baidu.global.getZIndex=function(e,t){var n=baidu.global.get("zIndex");return e&&(n[e]=n[e]+(t||1)),n[e]},baidu.global.set("zIndex",{popup:5e4,dialog:1e3},!0),magic.control.Dialog=baidu.lang.createClass(function(e){var t={draggable:!0};baidu.object.extend(t,e=e||{}),baidu.object.extend(this,t),this.zIndex=baidu.global.getZIndex("dialog",5),this.disposeProcess=[],this.on("load",function(){var e=this.getElement(),t=this;("number"==typeof this.left||"number"==typeof this.top)&&this.setPosition(this),("number"==typeof this.width||"number"==typeof this.height)&&this.setSize(this),this._isShown=!0,this.focus();var n=function(){t.focus()};if(baidu.event.on(e,"mousedown",n),this.disposeProcess.unshift(function(){baidu.event.un(e,"mousedown",n)}),this.draggable){var i,a=this.getElement("title"),o=baidu.fn.bind;a.className+=" tang-title-dragable",baidu.event.on(a,"mousedown",i=o(function(){baidu.dom.drag(e,{ondragstart:o(function(){this.fire("dragstart")},this),ondrag:o(function(){this.fire("drag")},this),ondragend:o(function(){this.fire("dragstop")},this)})},this)),this.disposeProcess.unshift(function(){baidu.event.un(a,"mousedown",i)})}}),this.on("resize",function(e,t){var n=this.getElement("titleText"),i=this.getElement("titleButtons");"number"==typeof t.width&&baidu.dom.setStyle(n,"width",Math.max(0,t.width-i.clientWidth-20)+"px")})},{type:"magic.control.Dialog",superClass:magic.control.Layer}),magic.control.Dialog.extend({isShowing:function(){return this._isShown},hide:function(){return this.fire("beforehide")===!1?this:(this._isShown=!1,this.getElement().style.display="none",void this.fire("hide"))},setTitleText:function(e){var t=this.getElement("titleText");return t.innerHTML=baidu.string.encodeHTML(e)||"&nbsp;",this},setContent:function(e,t){var n,i,a,o=this.getElement("content");if(n=this._lastDom){if(a=n.parent,n.content===e)return this;n.target?a.insertBefore(n.content,n.target):a.appendChild(n.content),this._lastDom=null}switch(t){case"text":o.innerHTML=baidu.string.encodeHTML(e),baidu.dom.removeClass(o,"contentFrame");break;case"element":(a=e.parentNode)&&(a.insertBefore(i=document.createTextNode(""),e),this._lastDom={content:e,parent:e.parentNode,target:i}),o.innerHTML="",o.appendChild(e);break;case"frame":o.innerHTML="<iframe frameborder='no' src='"+e+"'></iframe>",baidu.dom.hasClass(o,"contentFrame")||baidu.dom.addClass(o,"contentFrame");break;default:o.innerHTML=e,baidu.dom.removeClass(o,"contentFrame")}return this},focus:function(){baidu.dom.setStyle(this.getElement(),"zIndex",this.zIndex=baidu.global.getZIndex("dialog",5)),this.fire("focus")},setSize:function(e){var t=baidu.dom.setStyle,n=this.getElement("foreground");"number"==typeof e.width&&t(n,"width",(this.width=e.width)+"px"),"number"==typeof e.height&&(t(n,"height",(this.height=e.height)+"px"),t(this.getElement("body"),"height",Math.max(0,this.height-this._titleHeight)+"px")),this.fire("resize",e)},getSize:function(){return{width:this.width,height:this.height}},setPosition:function(e){var t=baidu.dom.setStyle;"number"==typeof e.left&&t(this.getElement(),"left",(this.left=e.left)+"px"),"number"==typeof e.top&&t(this.getElement(),"top",(this.top=e.top)+"px"),this.fire("move",e)},getPosition:function(){return{left:this.left,top:this.top}},center:function(){var e=document[baidu.browser.isStrict?"documentElement":"body"],t=e.clientWidth,n=e.clientHeight,i=((t-this.width)/2|0)+e.scrollLeft,a=((n-this.height)/2|0)+e.scrollTop;this.setPosition({left:i,top:a})},dispose:function(){for(var e=0,t=this.disposeProcess.length;t>e;e++)this.disposeProcess[e].call(this);magic.Base.prototype.dispose.call(this)}}),magic.Dialog=baidu.lang.createClass(function(e){var t={width:400,height:300,left:0,top:0,contentType:"html"};baidu.object.extend(t,e||{}),baidu.object.extend(this,t),this.width<100&&(this.width=100),this.height<100&&(this.height=100)},{type:"magic.Dialog",superClass:magic.control.Dialog}),magic.Dialog.extend({render:function(e){e=baidu.dom.g(e),e||document.body.appendChild(e=document.createElement("div"));var t=magic.Dialog.template.join("");baidu.dom.addClass(e,"tang-ui tang-dialog"),baidu.dom.insertHTML(e,"beforeEnd",baidu.string.format(t,{title:baidu.string.encodeHTML(this.titleText||"")||"&nbsp;",content:"",titleId:this.getId("title"),titleTextId:this.getId("titleText"),titleButtonsId:this.getId("titleButtons"),bodyId:this.getId("body"),contentId:this.getId("content"),closeBtnId:this.getId("closeBtn"),foregroundId:this.getId("foreground")})),this._background=new magic.Background({coverable:!0}),this._background.render(e),this.mappingDom("",e),this._titleHeight=this.getElement("title").offsetHeight||30,baidu.event.on(this.getElement("closeBtn"),"click",this._closeBtnFn=baidu.fn.bind(this.hide,this)),this.setSize(this),this.setPosition(this.left,this.top),this.content&&this.setContent(this.content,this.contentType),this.fire("load"),this.show(),this.disposeProcess.push(function(){baidu.event.un(this.getElement("closeBtn"),"click",this._closeBtnFn),this._background.dispose(),e.innerHTML="",baidu.dom.addClass(e,"tang-ui tang-dialog")})}}),magic.Dialog.template=["<div class='tang-foreground' id='#{foregroundId}'>","<div class='tang-title' id='#{titleId}'>","<div class='buttons' id='#{titleButtonsId}'>","<a id='#{closeBtnId}' class='close-btn' href='' onmousedown='event.stopPropagation && event.stopPropagation(); event.cancelBubble = true; return false;' onclick='return false;'></a>","</div>","<span id='#{titleTextId}'>#{title}</span>","</div>","<div class='tang-body' id='#{bodyId}'>","<div class='content' id='#{contentId}'>#{content}</div>","</div>","</div>"],magic.Mask=function(e){function t(){if(i.container==document.body){var e=i.getElement().style;e.display="none",i.setSize([baidu.page.getWidth(),baidu.page.getHeight()]),e.display=""}}function n(e){for(var t,n=document.getElementsByTagName("object"),i=e?"visible":"hidden",a=0,o=n.length;o>a;a++)t=n[a],t.style.visibility=i}var i=this;magic.control.Layer.call(this),i.zIndex=999,i.opacity=.3,i.bgColor="#000000",i.coverable=!1,i.container=document.body,baidu.object.extend(i,e||{}),i.width=i.height="100%";var a=baidu.browser.safari;baidu.dom.insertHTML(i.container,"afterbegin",i.toHTMLString()),i.on("show",function(){t(),baidu.event.on(window,"onresize",t);var e=i.getElement().style;e.opacity=i.opacity,e.zIndex=i.zIndex,e.filter="alpha(opacity="+100*i.opacity+")",e.backgroundColor=i.bgColor,a&&n(!1)}),i.on("hide",function(){baidu.event.un(window,"onresize",t),a&&n(!0)})},baidu.lang.inherits(magic.Mask,magic.control.Layer,"magic.Mask").extend({toHTMLString:function(){return"<div id='"+this.getId()+"' style='top:0px; left:0px; position:absolute; display:none;'><iframe frameborder='0' style='filter:progid:DXImageTransform.Microsoft.Alpha(opacity:0);position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1' src='about:blank'></iframe><div style='position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:-1;'>&nbsp;</div></div>"}}),magic.Pager=baidu.lang.createClass(function(e){this.currentPage=1,this.totalPage=1,this.viewSize=10,this.currentPagePos=4,this.labelFirst="首页",this.labelPrev="上一页",this.labelNext="下一页",this.labelLast="尾页",this.tplURL="##{pageNum}",this.tplLabelNormal="#{pageNum}",this.tplLabelCurrent="#{pageNum}",baidu.object.extend(this,e),this.currentPage=Math.max(this.currentPage,1)},{type:"magic.Pager",superClass:magic.Base}).extend({_buildLink:function(e,t,n){return"<a onclick=\"return baiduInstance('"+this.guid+"').update("+e+')" href="'+baidu.string.format(this.tplURL,{pageNum:e})+'" class="tang-pager-'+t+'">'+n+"</a>"},update:function(e){var t=this.fire("pagechange",{pageNum:e});this.currentPage=e;var n=this.getElement();return n.innerHTML="",this.render(this.getElement()),t},_toHTMLString:function(){var e,t=[],n=this.totalPage<this.viewSize||this.currentPage<=this.currentPagePos?1:Math.min(this.currentPage-this.currentPagePos,this.totalPage-this.viewSize+1),i=Math.min(this.totalPage,n+this.viewSize-1);for(t.push('<div id="'+this.getId("main")+'" class="tang-pager-main">'),1<this.currentPage&&(t.push(this._buildLink(1,"first",this.labelFirst)),t.push(this._buildLink(this.currentPage-1,"previous",this.labelPrev))),e=n;e<this.currentPage;e++)t.push(this._buildLink(e,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:e})));for(t.push('<span class="tang-pager-current">'+baidu.string.format(this.tplLabelCurrent,{pageNum:this.currentPage})+"</span>"),e=this.currentPage+1;i>=e;e++)t.push(this._buildLink(e,"normal",baidu.string.format(this.tplLabelNormal,{pageNum:e})));return i>this.currentPage&&(t.push(this._buildLink(this.currentPage+1,"next",this.labelNext)),t.push(this._buildLink(this.totalPage,"last",this.labelLast))),t.push("</div>"),t.join("")},render:function(e){this.getElement()||this.mappingDom("",e||document.body),baidu.dom.addClass(e,"tang-pager"),baidu.dom.insertHTML(e,"beforeEnd",this._toHTMLString()),this.fire("load")},dispose:function(){if(!this.disposed){var e=this.getElement(),t=this.getElement("main");baidu.dom.removeClass(e,"tang-pager"),magic.Base.prototype.dispose.call(this),baidu.dom.remove(t),e=t=null}}}),magic.control.Popup=baidu.lang.createClass(function(e){var t=this;t.visible=!1,t.autoHide=!0,t.hideOnEscape=!0,t.disposeOnHide=!1,t.smartPosition=!1,t.offsetX=0,t.offsetY=0,baidu.object.extend(this,e||{}),t._parent=null,t._host=null,t._init_control_popup()},{superClass:magic.control.Layer,type:"magic.control.Popup"}).extend({setContent:function(e){this.getElement("content").innerHTML=e},attach:function(e,t){(e=baidu.dom.g(e))&&(baidu.object.extend(this,t||{}),this._host=e,this.show())},reposition:function(e){var t=this;if(!e&&t._host&&(e=baidu.dom.getPosition(t._host)),e&&(t.top=e.top+t.offsetY+t._host.offsetHeight,t.left=e.left+t.offsetX,t._resupinate=!1,t.smartPosition)){var n=t.getElement().offsetHeight,i=baidu.page.getViewHeight(),a=baidu.page.getScrollTop(),o=e.top-t.offsetY-n;t.top+n>a+i&&o>a&&a+i>o&&(t.top=e.top-t.offsetY-n,t._resupinate=!0)}t.fire("reposition"),t.setPosition([t.left,t.top])},setPosition:function(e){this.setTop(e.top||e[1]),this.setLeft(e.left||e[0])},setTop:function(e){baidu.dom.setPixel(this.getElement(),"top",this.top=e)},setLeft:function(e){baidu.dom.setPixel(this.getElement(),"left",this.left=e)},_init_control_popup:function(){function e(){a.reposition()}function t(e){27==baidu.event.getKeyCode(window.event||e)&&a.hideOnEscape&&a.autoHide&&a.hide()}function n(){var e=a;do s[e.guid]=!0;while(e=e._parent)}function i(i){a.visible=!1,delete o[a.guid],a._host&&baidu.event.un(a._host,"onclick",n),baidu.event.un(a.getElement(),"onclick",n),baidu.event.un(window,"onresize",e),baidu.event.un(document,"onkeyup",t),i&&a.dispose()}var a=this,o=baidu.global.get("popupList"),s=baidu.global.get("popupProtect");a.on("show",function(){a.reposition(),setTimeout(function(){a.guid&&(o[a.guid]=!0)},1),a._host&&baidu.event.on(a._host,"onclick",n),baidu.event.on(a.getElement(),"onclick",n),baidu.event.on(window,"onresize",e),baidu.event.on(document,"onkeyup",t),"auto"!=a.width&&a.setWidth(a.width),"auto"!=a.height&&a.setHeight(a.height),a.visible=!0}),a.on("hide",function(){i(a.disposeOnHide)}),a.on("dispose",function(){i(!1)})}}),function(){function e(){for(var e in t){var i=baiduInstance(e);!n[e]&&i.autoHide&&i.hide()}for(var e in n)delete n[e]}var t=baidu.global.set("popupList",{},!0),n=baidu.global.set("popupProtect",{},!0);baidu.event.on(window,"onresize",e),baidu.event.on(window,"onscroll",e),baidu.event.on(document,"onclick",e)}(),function(){magic.Popup=function(t){var n=this;magic.control.Popup.call(n,t),n.content="",n.className="",n.styleBox=!1,baidu.object.extend(this,t||{});var i=e.produce();n.mappingDom("",i.getElement()),n.mappingDom("content",i.getElement("content")),i.getElement().style.zIndex=baidu.global.getZIndex("popup"),n.setContent(n.content),n.className&&baidu.dom.addClass(i.getElement(),n.className),n.on("dispose",function(){n.className&&baidu.dom.removeClass(i.getElement(),n.className),n.setContent(""),i.busy=!1})},baidu.lang.inherits(magic.Popup,magic.control.Popup,"magic.Popup");var e={list:[],produce:function(){for(var e=0,t=this.list.length;t>e;e++)if(!this.list[e].busy)return this.list[e].busy=!0,this.list[e];var n=new magic.Base;return baidu.dom.insertHTML(document.body,"afterbegin",["<div class='tang-popup' id='",n.getId(),"' ","style='position:absolute; display:none;'>",(n.background=new magic.Background({coverable:!0})).toHTMLString(),"<div class='tang-foreground' id='",n.getId("content"),"'></div>","</div>"].join("")),n.busy=!0,this.list.push(n),n}}}(),magic.control.Slider=baidu.lang.createClass(function(e){var t=this,n=t._info=baidu.object.extend({accuracy:0,_status:"enable"},e),i=n._isVertical="vertical"==n.orientation;"backward"==n.direction&&(n._oppsite=!0),baidu.object.extend(n,{_suffix:i?"vtl":"htl",_knobKey:i?"top":"left",_mouseKey:i?"y":"x",_accuracyKey:i?"height":"width"}),t.on("load",function(){var e=t.getElement("view"),i=t.getElement("inner"),a=["mousedown","click"],o=baidu.fn.bind(t._eventControl,t),s=n._accuracyKey;n._val="offset"+s.replace(/([a-z])([a-z]*)/,function(e,t,n){return t.toUpperCase()+n}),n.width=e.clientWidth,n.height=e.clientHeight,n._range=[0,n[s]],n._limit=i[n._val],n._const=(n._range[1]-n._limit)/2,baidu.array.each(a,function(t){baidu.event.on(e,t,o)}),t.on("dispose",function(){baidu.array.each(a,function(t){baidu.event.un(e,t,o)})}),t._setAccuracy(n.accuracy),t.setValue(n.currentValue)})},{type:"magic.control.Slider",superClass:magic.Base}),magic.control.Slider.extend({disable:function(){this._info._status="disabled"},enable:function(){this._info._status="enable"},setValue:function(e){var t=this,n=t._info,i=n._accuracyKey,e=e||0,a=n[i]*e;n._oppsite&&(a=n[i]*t._accSub(1,e)),t._setPosition({target:null,noAccuracy:!0,noFx:!0},a),n.currentValue=e},getValue:function(){return this._info.currentValue},setRange:function(e){var t=this,n=t._info,i=n[n._accuracyKey],a=e*i;n.accuracy||(n._oppsite?n._range[0]=a:n._range[1]=a,n._percent=a/i)},dispose:function(){var e=this;e.disposed||magic.Base.prototype.dispose.call(e)},_accSub:function(e,t){var n,i,a,o;try{n=e.toString().split(".")[1].length}catch(s){n=0}try{i=t.toString().split(".")[1].length}catch(s){i=0}return a=Math.pow(10,Math.max(n,i)),o=n>=i?n:i,((e*a-t*a)/a).toFixed(o)},_startDrag:function(e){var t=this,n=t._info,i=t.getElement("knob"),a=t.getElement("process"),o=n.accuracy,s=n.width,r=n.height,d=t2=0,u=i[n._val],l=n._range,c=[],g=parseInt(baidu.dom.getStyle(i,"margin-"+n._knobKey));n._isVertical?(r=l[1]+u,d=l[0]):(s=l[1]+u,t2=l[0]),c=[d,s,r,t2],e.target!=i||t._isMoving||(t._recover(),baidu.dom.drag(i,{range:c,fix:[n._knobKey,g],ondragstart:function(){t.fire("onslidestart")},ondrag:function(){var e=t._getRealPos(i,n._knobKey);baidu.dom.setStyle(a,n._accuracyKey,t._getProcessPos(e)),t._setCurrentValue(e),t.fire("onslide"),t.fire("onchange",{value:n.currentValue})},ondragend:function(e,i,a){a=a[n._knobKey],t._reset(a),o&&t._useAdsorbr(a),t.fire("onslidestop")}}))},_resize:function(){var e,t=this,n=t._info,i=n._percent||1,a=t.getElement("inner"),o=t.getElement("view");n.width=o.clientWidth,n.height=o.clientHeight,n._limit=a[n._val],e=n[n._accuracyKey],n._range=n._oppsite?1>i?[e*i,e]:[0,e]:[0,e*i],t._setAccuracy(n.accuracy)},_recover:function(){var e=this,t=e._info,n=e.getElement("knob"),i=e.getElement("process"),a=t._accuracyKey,o=baidu.dom.getStyle(n,t._knobKey),s=baidu.dom.getStyle(i,a);/px|auto/.test(o)||(o=parseFloat(o)/100*t[a]+"px",s=parseFloat(s)/100*t._limit+"px",baidu.dom.setStyle(n,t._knobKey,o),baidu.dom.setStyle(i,a,s))},_reset:function(e){var t=this,n=t._info,i=t.getElement("knob"),a=t.getElement("process");/%/.test(e)||(baidu.dom.setStyle(i,n._knobKey,t._knobPercent(e)),baidu.dom.setStyle(a,n._accuracyKey,t._processPercent(t._getProcessPos(e))))},_knobPercent:function(e){var t=this._info;return parseFloat(e)/t[t._accuracyKey]*100+"%"},_processPercent:function(e){return parseFloat(e)/this._info._limit*100+"%"},_getRealPos:function(e,t){return baidu.dom.getStyle(e,t)},_getProcessPos:function(e){var t=this,n=t._info,i=n._range,a=n._limit,e=parseFloat(e)-n._const;if(i[0]&&e<i[0]){var o=i[0]-n._const;return o>0?o+"px":0}return e>i[1]?i[1]-n._const+"px":(0>e&&(e=0),e>a&&(e=a),n._oppsite&&(e=a-e),e+"px")},_getKnobPos:function(e){var e=parseFloat(e),t=this._info,n=t._range;return e=t._oppsite?e<n[0]?n[0]:e:e>n[1]?n[1]:e,e+"px"},_getMousePos:function(){var e=this.getElement("view"),t=baidu.page.getMousePosition(),n=baidu.dom.getPosition(e);return"x"==this._info._mouseKey?t.x-n.left:t.y-n.top},_move:function(e,t,n){var i=this,a=i._info,o=(a._range,i._getKnobPos(n)),s=i._getProcessPos(n);i._setCurrentValue(o),baidu.dom.setStyle(e,a._knobKey,i._knobPercent(o)),baidu.dom.setStyle(t,a._accuracyKey,i._processPercent(s))},_setCurrentValue:function(e){var t=this._info;t.currentValue=parseFloat(e)/t[t._accuracyKey]},_slide:function(e,t){var n=this,i=(n._info,n.getElement("knob")),a=n.getElement("process");n.fire("startFx",{knob:i,process:a,pos:e,fn:t})&&(n._move(i,a,e),t&&t())},_setPosition:function(e,t,n){var i=this,a=i._info,o=i.getElement("knob"),s=(i.getElement("process"),e.noAccuracy||!a.accuracy),r=function(){i._isMoving=!1,i.fire("onchange",{value:a.currentValue})};t==n&&(t=i._getMousePos()),e.target!==o&&(i._isMoving=!0,s?i._slide(t,r,e.noFx):i._useAdsorbr(t,r,e.noFx))},_useAdsorbr:function(e,t,n){var i,a=this,o=a._info,e=parseFloat(e)||0,s=o._range,r=o._accuracyZone.slice(0),d=r.length,u=0,l=e;
if(0==e||e>s[1])i=e;else if(o.accuracy)for(;d>u;u++){var c=Math.abs(r[u]-e);l>=c&&(l=c,i=r[u])}else i=e;a._slide(i,t,n)},_setAccuracy:function(e){var t,n=this._info,i=n._range,a=n._accuracyKey,o=e*n[a],s=0,r=[0];for(0==e&&(n.accuracy=0,delete n._accuracyZone),n.accuracy=e;(t=s+o)&&t<i[1];)s=t,r.push(t);n._accuracyZone=r.concat(n[a])},_eventControl:function(e){{var t=this,n=t.getElement("knob");t.getElement("process")}e=baidu.event.get(e),e.preventDefault(),t._resize(),"enable"==t._info._status&&(e.target==n&&"mousedown"==e.type?t._startDrag(e):"mousedown"==e.type&&t._setPosition(e))}}),magic.Slider=baidu.lang.createClass(function(){},{type:"magic.Slider",superClass:magic.control.Slider}),magic.Slider.extend({render:function(e){var t=this;e=baidu.dom.g(e),e||document.body.appendChild(e=document.createElement("div")),/tang-slider/.test(e.className)||(baidu.dom.addClass(e,"tang-ui tang-slider tang-slider-"+t._info._suffix),e.innerHTML=t.toHTMLString(),t.mappingDom("",e),t.fire("load"))},toHTMLString:function(){var e=this,t=e._info,n="tang-process-"+t.direction,i=t._oppsite?"-backward":"",a=baidu.string.format(magic.Slider.template,{id:e.getId(),viewId:e.getId("view"),innerId:e.getId("inner"),cornerClass:i,processId:e.getId("process"),processClass:n,knobId:e.getId("knob")});return a},dispose:function(){var e,t=this;t.disposed||(e=t.getElement(""),magic.Base.prototype.dispose.call(t),baidu.dom.remove(e),e=null)}}),magic.Slider.template='<div id="#{viewId}" class="tang-view"><div class="tang-content"><div class="tang-corner tang-start#{cornerClass}"></div><div class="tang-corner tang-last#{cornerClass}"></div><div id="#{innerId}" class="tang-inner"><div id="#{processId}" class="tang-process #{processClass}"></div></div></div><a id="#{knobId}" href="javascript:;" class="tang-knob"></a></div>',magic.control.Tab=baidu.lang.createClass(function(e){var t=this,n=baidu.fn.bind("_toggleHandler",t);t._options=baidu.object.extend({selectEvent:"click",selectDelay:0,originalIndex:0},e),t._selectedIndex=t._options.originalIndex,t.on("onload",function(){var e=t.getElement(),i=magic._query;t.mappingDom("title",i(".tang-title",e)[0]).mappingDom("body",i(".tang-body",e)[0]),baidu.event.on(t.getElement("title"),t._options.selectEvent,n),t.on("ondispose",function(){baidu.event.un(t.getElement("title"),t._options.selectEvent,n)}),t.select(t._selectedIndex)})},{type:"magic.control.Tab",superClass:magic.Base}).extend({_toggleHandler:function(e){function t(){var e=baidu.dom.getAncestorByClass(i,"tang-title-item"),t=baidu.dom.children(n.getElement("title")),a=t.length,o=0;if(e){for(var s=0;a>s;s++)if(t[s]===e){o=s;break}n._selectedIndex!=o&&n.select(o)}}if("tang-title"!=baidu.event.getTarget(e).className){var n=this,i=baidu.event.getTarget(e);/^(on)?mouseover$/i.test(n._options.selectEvent)?(clearTimeout(n._timeOut),n._timeOut=setTimeout(t,n._options.selectDelay)):t()}},select:function(e){var t=this,n=(baidu.dom.query,baidu.dom.children(t.getElement("title"))),i=baidu.dom.children(t.getElement("body"));baidu.dom.removeClass(n[t._selectedIndex],"tang-title-item-selected"),baidu.dom.removeClass(i[t._selectedIndex],"tang-body-item-selected"),t.fire("onbeforeselect",{index:t._selectedIndex}),t._selectedIndex=e,baidu.dom.addClass(n[e],"tang-title-item-selected"),baidu.dom.addClass(i[e],"tang-body-item-selected"),t.fire("onselect",{index:t._selectedIndex})},getCurrentTitle:function(){var e=this;return baidu.dom.children(e.getElement("title"))[e._selectedIndex]},getCurrentContent:function(){var e=this;return baidu.dom.children(e.getElement("body"))[e._selectedIndex]},dispose:function(){var e=this;e.disposed||magic.Base.prototype.dispose.call(e)}}),magic.Tab=baidu.lang.createClass(function(e){var t=this;t._items=e.items||[]},{type:"magic.Tab",superClass:magic.control.Tab}).extend({tplTitle:'<li class="#{titleClass}"><a href="#" onclick="return false" hidefocus="true"><span>#{content}</span></a></li>',tplBody:'<div class="#{bodyClass}">#{content}</div>',toHTMLString:function(){var e=this,t='<ul class="#{titleClass}">#{titleContent}</ul><div class="#{bodyClass}">#{bodyContent}</div>',n=[],i=[];return baidu.array.each(e._items,function(t,a){n.push(baidu.string.format(e.tplTitle,{titleClass:"tang-title-item"+(e._selectedIndex==a?" tang-title-item-selected":""),content:t.title})),i.push(baidu.string.format(e.tplBody,{bodyClass:"tang-body-item"+(e._selectedIndex==a?" tang-body-item-selected":""),content:t.content}))}),baidu.string.format(t,{titleClass:"tang-title",titleContent:n.join(""),bodyClass:"tang-body",bodyContent:i.join("")})},render:function(e){var t,n=this;n.getElement()||(n.mappingDom("",baidu.dom.g(e)||document.body),t=n.getElement(),baidu.dom.addClass(t,"tang-ui tang-tab"),baidu.dom.insertHTML(t,"beforeEnd",n.toHTMLString()),n.fire("onload"))},dispose:function(){var e,t,n=this;n.disposed||(e=n.getElement("title"),t=n.getElement("body"),baidu.dom.removeClass(n.getElement(),"tang-ui tang-tab"),magic.Base.prototype.dispose.call(n),baidu.dom.remove(e),baidu.dom.remove(t),e=t=null)}}),function(){magic.Tooltip=baidu.lang.createClass(function(e){var t=this;t.align="left",t.direction="top",t.autoHide=!1,t.styleBox=!0,t.offsetY=12,t.content="",t.smartPosition=!1,t.disposeOnHide=!0,baidu.object.extend(t,e||{}),t._init_tooltip()},{type:"magic.Tooltip",superClass:magic.control.Popup}).extend({render:function(){this.setSize([this.width,this.height]),this.show()},_init_tooltip:function(){function t(){n.direction="top",n.smartPosition&&n._resupinate&&(n.direction="bottom");var e=n.background.getElement().className.replace(/ (align|dir)_\w+/g,"");n.background.getElement().className=e+" align_"+n.align+" dir_"+n.direction}var n=this,i=e.produce();n.mappingDom("",i.getElement()),n.mappingDom("content",i.getElement("content")),i.getElement().style.zIndex=baidu.global.getZIndex("popup"),n.background=new magic.Background({coverable:!0,styleBox:n.styleBox}),n.background.render(n.getElement()),baidu.dom.insertHTML(n.background.getElement(),"afterbegin","<div class='arrow_top'></div><div class='arrow_bottom'></div>"),i.getElement("close").onclick=function(){return n.hide(),!1},n.container&&n.container.appendChild(i.getElement()),n.setContent(n.content),n.on("show",function(){t()}),n.on("reposition",function(){t()}),n.on("dispose",function(){var e=n.background.getElement();e.parentNode.removeChild(e),n.container&&document.body.appendChild(i.getElement()),i.busy=!1})}});var e={list:[],produce:function(){for(var e=0,t=this.list.length;t>e;e++)if(!this.list[e].busy)return this.list[e].busy=!0,this.list[e];var n=new magic.Base;return baidu.dom.insertHTML(document.body,"afterbegin",["<div class='tang-tooltip' id='",n.getId(),"' ","style='position:absolute; display:none;'>","<div class='tang-tooltip-close' id='",n.getId("close"),"'>","<a href='#' onclick='return false'></a>","</div>","<div class='tang-foreground' id='",n.getId("content"),"'></div>","</div>"].join("")),n.busy=!0,this.list.push(n),n}}}(),baidu.lang.register(magic.control.Carousel,function(){var e,t=this;t._options.autoScroll=baidu.object.extend({enable:!0,interval:1e3,direction:"forward"},t._options.autoScroll),e=t._options.autoScroll,e.enable&&(e._autoScrolling=!0,e.direction=e.direction.toLowerCase(),t.on("onload",function(){var e=baidu.fn.bind("_onMouseEventHandler",t);baidu.event.on(t.getElement("element"),"mouseenter",e),baidu.event.on(t.getElement("element"),"mouseleave",e),t.on("ondispose",function(){baidu.event.un(t.getElement("element"),"mouseenter",e),baidu.event.un(t.getElement("element"),"mouseleave",e)}),t.start()}),t.on("onfocus",function(t){e._autoScrolling&&t.target.start()}),t.on("ondispose",function(e){e.target.stop()}))},{_onMouseEventHandler:function(e){var t=this,n={mouseover:"mouseenter",mouseout:"mouseleave"},i=e.type;t.fire("on"+(n[i]||i),{DOMEvent:e})},start:function(){var e=this,t=e._options.autoScroll;t._autoScrolling=!0,clearTimeout(t._autoScrollTimeout),t._autoScrollTimeout=setTimeout(function(){e._basicFlip(t.direction)},t.interval)},stop:function(){var e=this,t=e._options.autoScroll;clearTimeout(t._autoScrollTimeout),t._autoScrolling=!1}}),baidu.lang.register(magic.control.Carousel,function(){var e=this;e._options.fx=baidu.object.extend({enable:!0},e._options.fx),e._options.fx.enable&&e.on("onbeforescroll",function(t){if(t.returnValue=!1,!baidu.fx.current(e.getElement("container"))){var n=e._options,i=e._axis[n.orientation],a="horizontal"==n.orientation,o=e.getElement("container"),s=o[i.scrollPos]+t.distance,r=baidu.object.extend({onbeforeupdate:function(){if(!(t.empty.length<=0)){var e,n,a=t.empty[0];(t.distance<0?a.empty[i.offsetPos]+a.empty[i.offsetSize]-o[i.scrollPos]>=0:a.empty[i.offsetPos]-o[i.scrollPos]<=o[i.offsetSize])&&(e=a.empty.parentNode,n=a.empty.cloneNode(!0),e.replaceChild(n,a.empty),e.replaceChild(a.empty,a.item),e.replaceChild(a.item,n),t.empty.shift())}},onafterfinish:function(){e._toggle(t.index),e._clear(t.index,n.focusRange[t.distance<0?"min":"max"]),e._resize(),e.fire("onfocus",{direction:t.distance>0?"forward":"backward"})}},n.fx);baidu.fx.scrollTo(o,{x:a?s:0,y:a?0:s},r)}})}),baidu.lang.register(magic.control.Dialog,function(){this.mask&&this.mask.enable&&(this.renderMask(),this.on("load",function(){this.left||this.center()}),this.on("show",function(){this.showMask()}),this.on("hide",function(){this.hideMask()}))},{renderMask:function(){return this._mask?this:(this._mask=new magic.Mask({opacity:this.mask.opacity||.15,bgColor:this.mask.bgColor||"#000",zIndex:this.zIndex-1}),this)},showMask:function(){return this._mask.show(),this},hideMask:function(){return this._mask.hide(),this}}),baidu.lang.register(magic.control.Slider,function(){var e=this,t=e._info;t.cache&&t.cache.enable&&e.on("load",function(){var n=e.getElement("inner"),i=(t._accuracyKey,t._oppsite?"tang-cache-backward":"tang-cache-forward"),a=e.getId("cache"),o=t._oppsite?'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-start"></div>':'<div id="#{id}" class="tang-cache #{cacheClass}"><div class="tang-cache-corner tang-cache-last"></div>';baidu.dom.insertHTML(n,"afterBegin",baidu.string.format(o,{id:a,cacheClass:i}))})},{setCache:function(e){{var t=this,n=t._info,i=t.getElement("cache"),a=e*n._limit;t._cachePercent(a)}0==e?baidu.dom.setStyle(i,"overflow","hidden"):baidu.dom.setStyle(i,"overflow",""),baidu.dom.setStyle(i,n._accuracyKey,t._cachePercent(a))},_cachePercent:function(e){return e/this._info._limit*100+"%"}}),baidu.lang.register(magic.control.Slider,function(){var e=this,t=e._info.fx;e.on("startFx",function(n){t&&t.enable&&(e._fx&&e._fx.end(),e._recover(),e._fxMove(n.knob,n.process,n.pos,n.fn),n.returnValue=!1)})},{setValue:function(e,t){var n=this,i=n._info,a=i._accuracyKey,e=e||0,o=i[a]*e;i._oppsite&&(o=i[a]*n._accSub(1,e)),n._setPosition({target:null,noAccuracy:!0,noFx:t},o),i.currentValue=e},_fxMove:function(e,t,n,i){var a=this,o=a._info,s=o.fx,r=o._knobKey,d=o._accuracyKey,n=parseFloat(a._getKnobPos(n)),u=o._isVertical?[0,n]:[n,0];a._setCurrentValue(n),a._fx=baidu.fx.moveTo(e,u,{duration:s.duration||200,onbeforestart:function(){a.fire("onfxstart")},onafterupdate:function(){var n=a._getProcessPos(a._getRealPos(e,r));baidu.dom.setStyle(t,d,n),a.fire("onfx")},onafterfinish:function(){a.fire("onfxstop"),a._reset(n),i&&i(n),delete a._fx}})||i&&i()}}),magic.control.Suggestion=baidu.lang.createClass(function(e){var t=this;baidu.object.extend(this,e||{}),t.dataCache={},t.enableIndexs=[],t.selectedIndex=-1,t.currentQuery="",t.oldInputValue="",t.upDownArrowTimer=null,t.on("onload",function(){function e(){i=setInterval(function(){var e=n.value;!e&&t.isShowing()?t._hide():e!=t.oldInputValue&&(e&&t.fire("onneeddata",e),t.oldInputValue=e)},100)}var n=t.getElement("input"),i=null;t.oldInputValue=t.getElement("input").value,e();var a=function(){return t._keydownHandler()}(),o=function(){i&&(clearInterval(i),e()),t.upDownArrowTimer&&(clearTimeout(t.upDownArrowTimer),t.upDownArrowTimer=null)};baidu.event.on(n,"onkeydown",a),baidu.event.on(n,"onkeyup",o),t.on("onmousedownitem",function(){clearInterval(i),setTimeout(function(){e()},500)}),t.on("ondispose",function(){baidu.event.un(n,"onkeydown",a),baidu.event.un(n,"onkeyup",o),clearInterval(i)})}),t.on("onrender",function(){var e=(t.getElement("input"),t.getElement("suggestion")),n=function(){t.hide()},i=function(n){var n=n||window.event,i=n.target||n.srcElement;t.suggestion&&(i==e||baidu.dom.contains(e,i)||i==t.getElement("input")||t.hide())};baidu.event.on(window,"blur",n),baidu.event.on(document,"onclick",i),t.on("ondispose",function(){baidu.event.un(window,"blur",n),baidu.event.un(document,"onclick",i)})}),t.on("onneeddata",function(e,n){var i=t.dataCache;t.currentQuery=n,"undefined"==typeof i[n]?t.getData(n):(t.currentData=i[n],t.currentData.length>0?t.show():t.hide())}),t.on("beforeshow",function(){var e=t.currentData,n=0,i=e.length;for(t.enableIndexs=[];i>n;n++)("undefined"==typeof e[n].disable||0==e[n].disable)&&t.enableIndexs.push(n)})},{type:"magic.control.Suggestion",superClass:magic.Base}).extend({tpl:{fix:"<div id='#{0}' class='#{1}'>#{2}</div>",body:'<table cellspacing="0" cellpadding="2" class="tang-suggestion-table"><tbody>#{0}</tbody></table>',item:'<tr><td id="#{0}" onmouseover="#{2}" onmouseout="#{3}" onmousedown="#{4}" onclick="#{5}" class="#{6}">#{1}</td></tr>'},render:function(){var e=this,t=new magic.Popup({autoHide:!1,autoTurn:!1,disposeOnHide:!1});return popupContainer=t.getElement(),baidu.dom.addClass(popupContainer,"tang-suggestion-popup"),e.mappingDom("suggestion",popupContainer),e.suggestion=t,baidu.dom.setAttr(e.getElement("input"),"autocomplete","false"),e.fire("onrender"),popupContainer},isShowing:function(){var e=this,t=e.getElement("suggestion");return t&&"none"!=baidu.dom.getStyle(t,"display")},show:function(){var e=this,t=e.getElement("suggestion")||e.render(),n=e.getElement("input"),i=e.offset&&e.offset.width||n.offsetWidth;e.fire("beforeshow"),e.suggestion.setContent(e._getSuggestionString()),e.suggestion.attach(n,{offsetX:e.offset&&e.offset.offsetX||0,offsetY:e.offset&&e.offset.offsetY||-1}),baidu.dom.setStyle(t,"width",parseInt(i)+"px"),baidu.dom.setStyle(t,"display","block"),e.selectedIndex=-1,e.fire("onshow")},hide:function(){var e=this,t=e.getElement("suggestion");if(t&&e.isShowing()){if(e.selectedIndex>=0&&e.holdHighLight){var n=e.currentData,i=e.enableIndexs[e.selectedIndex];!n[i]||"undefined"!=typeof n[i].disable&&0!=n[i].disable||e.pick(i)}else e.oldInputValue=e.getElement("input").value;e._hide()}},_hide:function(){var e=this,t=e.getElement("suggestion");baidu.dom.setStyle(t,"display","none"),e.selectedIndex=-1,e.fire("onhide")},_getSuggestionString:function(){function e(e){return baidu.format(n.tpl.fix,n.getId(e),n._getClass(e),n[e+"HTML"])}var t,n=this,i="",a=[],o=n.currentData,s=o.length,r=0;for(n.prependHTML&&(i+=e("prepend"));s>r;r++)t="baiduInstance('"+n.guid+"')",a.push(baidu.format(n.tpl.item,n.getId("item"+r),o[r].content,t+"._mouseOver(event, "+r+")",t+"._mouseOut(event, "+r+")",t+"._mouseDown(event, "+r+")",t+"._mouseClick(event, "+r+")","undefined"==typeof o[r].disable||0==o[r].disable?"":"tang-suggestion-disable"));return i+=baidu.format(n.tpl.body,a.join("")),n.appendHTML&&(i+=e("append")),i},getInputValue:function(){return this.getElement("input").value},getDataByIndex:function(e){return this.currentData[e]},_isEnable:function(e){var t=this;return baidu.array.contains(t.enableIndexs,e)},_getItemDom:function(e){return baidu.g(this.getId("item"+e))},_getClass:function(e){return"tang-suggestion-"+e},_focus:function(e){var t=this.enableIndexs;this.pick(t[e]),this.highLight(t[e])},highLight:function(e){var t=this,n=t.enableIndexs,i=null;t._isEnable(e)&&(t.selectedIndex>=0&&t.clearHighLight(),i=t._getItemDom(e),baidu.addClass(i,"tang-suggestion-current"),t.selectedIndex=baidu.array.indexOf(n,e),t.fire("onhighlight",{index:e,value:t.getDataByIndex(e).value}))},clearHighLight:function(){var e=this,t=e.selectedIndex,n=null;index=0,index=e.enableIndexs[t],t>=0&&(n=e._getItemDom(index),baidu.removeClass(n,e._getClass("current")),e.selectedIndex=-1,e.fire("onclearhighlight",{index:index,value:e.getDataByIndex(index).value}))},pick:function(e){var t=this,n=t.currentData,i=n[e];t.fire("onbeforepick",{index:e,value:i.value})&&(t.getElement("input").value=i.value,t.oldInputValue=i.value,t.fire("onpick",{index:e,value:i.value}))},confirm:function(e){var t=this;t._isEnable(e)&&(t.pick(e),t.fire("onconfirm",{index:e,value:t.getDataByIndex(e).value}),t._hide())},_wrapData:function(e){for(_data=[],i=0,len=e.length;len>i;i++)_data.push("undefined"!=typeof e[i].value?e[i]:{value:e[i],content:baidu.string.encodeHTML(e[i])});return _data},getData:function(){},receiveData:function(e,t){var n=this,i=n.cacheData(e,t);n.selectedIndex=-1,e==n.getInputValue()&&(n.currentData=i,t.length>0?n.show():n.hide())},cacheData:function(e,t){var n=this,i=n._wrapData(t);return n.dataCache[e]=i,i},_mouseOver:function(e,t){var n=this;baidu.event.stop(e||window.event),n._isEnable(t)&&(n.highLight(t),n.selectedIndex=baidu.array.indexOf(n.enableIndexs,t)),n.fire("onmouseoveritem",{index:t,value:n.getDataByIndex(t).value})},_mouseOut:function(e,t){var n=this;baidu.event.stop(e||window.event),n.holdHighLight||n._isEnable(t)&&n.clearHighLight(),n.fire("onmouseoutitem",{index:t,value:n.getDataByIndex(t).value})},_mouseDown:function(e,t){var n=this;baidu.event.stop(e||window.event),n.fire("onmousedownitem",{index:t,value:n.getDataByIndex(t).value})},_mouseClick:function(e,t){var n=this;baidu.event.stop(e||window.event),n.fire("onmouseclick",{index:t,value:n.getDataByIndex(t).value}),n.confirm(t)},_keydownHandler:function(){function e(e){var n=t.getInputValue(),i=t.enableIndexs,a=t.selectedIndex;if(n){if(n&&!t.isShowing())return void t.fire("onneeddata",n);if(0!=i.length&&!t.upDownArrowTimer){if(t.upDownArrowTimer=setTimeout(function(){clearTimeout(t.upDownArrowTimer),t.upDownArrowTimer=null},200),"up"==e)switch(a){case-1:t.clearHighLight(),a=i.length-1,t._focus(a);break;case 0:a=-1,t.clearHighLight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:a--,t._focus(a)}else switch(a){case-1:a=0,t._focus(a);break;case i.length-1:a=-1,t.clearHighLight(),t.getElement("input").value=t.currentQuery,t.oldInputValue=t.currentQuery;break;default:a++,t._focus(a)}t.selectedIndex=a}}}var t=this;return function(n){var i="up";switch(n=n||window.event,n.keyCode){case 27:case 9:t.hide();break;case 13:baidu.event.stop(n),t.selectedIndex>=0&&t.holdHighLight?t.confirm(t.enableIndexs[t.selectedIndex]):(t.fire("onconfirm",{data:t.getInputValue()}),t.isShowing()&&t._hide());break;case 40:i="down";case 38:baidu.event.stop(n),e(i)}}},dispose:function(){var e=this;e.disposed||(e.suggestion&&(e.suggestion.dispose(),e.hide()),magic.Base.prototype.dispose.call(e))}}),magic.control.ComboBox=baidu.lang.createClass(function(e){var t=this;t._options=baidu.object.extend({items:[],originIndex:-1,readonly:!1,viewSize:5,disabled:!1,width:"100%"},e),t.selectValue="",t.highlightIndex=-1,t.menu=new magic.Popup,t.isFocus=!1,t.disabled=this._options.disabled,t.tempValue="",t.menufocusing=!1,magic.control.ComboBox.instanceArray||(magic.control.ComboBox.instanceArray=[]),magic.control.ComboBox.instanceArray.push(t.guid),t.on("load",function(){t.setWidth(t._options.width),t.menu._host=t.getElement("input-container"),t.menu.offsetX=-1,t.menu.offsetY=baidu.browser.firefox?2:1,t.menu.width=t.getElement("input-container").clientWidth,t.menu.setContent(t._menuContainerToHTMLString()),this._renderMenu(),t.menu.on("show",function(){t.fire("show")}),t.menu.on("beforeshow",function(e){e.returnValue=t.fire("beforeshow")}),t.menu.on("beforehide",function(e){e.returnValue=t.fire("beforehide")}),t.menu.on("hide",function(){t.fire("hide")}),baidu.event.on(t.getElement("input-container"),"keydown",function(){!t.disabled&&(magic.control.ComboBox.globalActive=t.guid)}),baidu.event.on(t.getElement("input-container"),"click",function(){!t.disabled&&(magic.control.ComboBox.globalActive=t.guid)}),t._options.readonly?baidu.event.on(t.getElement("input-container"),"click",function(){!t.disabled&&t.menu.show()}):(baidu.event.on(t.getElement("arrow"),"click",function(){!t.disabled&&t.menu.show()}),baidu.event.on(t.getElement("input"),"keydown",function(e){t._keydownHandler(e)})),t.disabled&&(baidu.dom.addClass(t.getElement("container"),"magic-combobox-disable"),t.getElement("input").disabled=!0),t._initInput(),baidu.event.on(this.getElement("menu"),"click",function(e){magic.control.ComboBox.globalActive=t.guid;var n=baidu.event.getTarget(e);if(n!=this){for(;"LI"!=n.tagName;)n=n.parentNode;t.$confirm(n),t.fire("clickitem",{result:t._getResult(n)})}}),baidu.event.on(this.getElement("menu"),"mouseover",function(e){t.$clearHighlight();var n=baidu.event.getTarget(e);if(n!=this){for(;"LI"!=n.tagName;)n=n.parentNode;t.$highlight(n)}})}),t.on("show",function(){t._setViewSize()}),t.on("hide",function(){t.menufocusing=!1}),t.on("focus",function(){t.isFocus=!0}),t.on("blur",function(){t.isFocus=!1}),t.on("highlight",function(e){t.highlightIndex=e.index}),t.on("beforeshow",function(e){0==t._options.items.length&&(e.returnValue=!1)})},{type:"magic.control.ComboBox",superClass:magic.Base}).extend({_initInput:function(){var e=this._options.originIndex;this._options.readonly&&-1==e&&(e=0),-1!=e?this.$setByIndex(e):this.selectValue=this.getElement("input").value=""},_setViewSize:function(){baidu.dom.setStyle(this.getElement("menu"),"height","");var e=baidu.dom.q("magic-combobox-menu-item",this.getElement("menu"))[0].offsetHeight*this._options.viewSize,t=this.getElement("menu").clientHeight,n=t>e?e:t;baidu.dom.setStyle(this.getElement("menu"),"height",n+"px")},_renderMenu:function(e){e=e||this._options.items;var t=this.$menuContentToHTMLString(e);this.getElement("menu").innerHTML=t},_keydownHandler:function(e){var t=38,n=40,i=13,a=baidu.dom.q("magic-combobox-menu-item",this.getElement("menu")),o=a.length;e.keyCode==i?this.menu.visible&&this.$confirm(a[this.highlightIndex]):(e.keyCode==n||e.keyCode==t)&&(this.menu.visible||this.menu.show(),this.menufocusing||(this.menufocusing=!0,this.tempValue=this.getElement("input").value)),e.keyCode==n?(this.$clearHighlight(),++this.highlightIndex==o?(this.highlightIndex=-1,this.getElement("input").value=this.tempValue):this.$menufocus(a[this.highlightIndex])):e.keyCode==t&&(baidu.event.preventDefault(e),this.$clearHighlight(),-1==this.highlightIndex&&(this.highlightIndex=o),-1==--this.highlightIndex?this.getElement("input").value=this.tempValue:this.$menufocus(a[this.highlightIndex]))},_getResult:function(e){return{value:baidu.dom.getAttr(e,"data-value"),index:baidu.dom.getAttr(e,"data-index"),content:baidu.dom.getText(e)}},_getValue:function(e){for(var t=this._options.items,n=t.length;n--;)if(t[n].content==e)return t[n].value+"";return null},$pick:function(e){var t=this._getResult(e);return this.fire("beforepick")&&(this.getElement("input").value=t.content,this.fire("pick",{result:t})),t},$menufocus:function(e){this.$highlight(e);var t=this.$pick(e);return this.fire("menufocus",{result:t}),t},$confirm:function(e){var t=this.$pick(e);return this.menu.hide(),this.fire("confirm",{result:t}),this.selectValue!=t.value&&this.fire("change",{from:"confirm",result:t}),this.selectValue=t.value,t},$highlight:function(e){baidu.dom.addClass(e,"magic-combobox-menu-item-hover");var t=baidu.dom.getAttr(e,"data-index");this.fire("highlight",{index:t})},$clearHighlight:function(){for(var e=baidu.dom.q("magic-combobox-menu-item",this.getElement("menu")),t=e.length;t--;)baidu.dom.removeClass(e[t],"magic-combobox-menu-item-hover")},getValue:function(){return this.selectValue||this._getValue(this.getElement("input").value)||this.getElement("input").value},getSelectIndex:function(){for(var e=this._options.items,t=e.length;t--;)if(e[t].value==this.selectValue)return t;return-1},setByValue:function(e){for(var t=this._options.items,n=t.length;n--;)if(t[n].value==e){this.selectValue=e,this.getElement("input").value=t[n].content;break}},$setByIndex:function(e){var t=this._options.items[e]||this._options.items[0];this.getElement("input").value=t.content,this.selectValue=t.value},focus:function(){this.isFocus||this.fire("focus")},blur:function(){if(this.isFocus){var e=this._getValue(this.getElement("input").value);e=e?e:this.getElement("input").value,e!=this.selectValue&&(this.fire("change",{from:"blur"}),this.selectValue=e),this.fire("blur")}},reset:function(){this._initInput()},reload:function(e){this._options.items=e,this._renderMenu(),this._initInput(),this.highlightIndex=-1,this.fire("reload")},disable:function(){this.disabled||(baidu.dom.addClass(this.getElement("container"),"magic-combobox-disable"),this.getElement("input").disabled=!0,this.disabled=!0)},enable:function(){this.disabled&&(baidu.dom.removeClass(this.getElement("container"),"magic-combobox-disable"),this.getElement("input").disabled=!1,this.disabled=!1)},setWidth:function(e){baidu.dom.setPixel(this.getElement("container"),"width",this.width=e),this.menu.setWidth(e)},dispose:function(){baidu.event.un(this.getElement("input-container"),"click"),baidu.event.un(this.getElement("input-container"),"keydown"),baidu.event.un(this.getElement("input"),"keydown"),baidu.event.un(this.getElement("input"),"keyup"),baidu.event.un(this.getElement("arrow"),"click"),baidu.event.un(this.getElement("menu"),"click"),baidu.event.un(this.getElement("menu"),"mouseover"),baidu.event.un(this.getElement("menu"),"mouseout"),this.menu.hide(),this.menu.dispose(),baidu.array.remove(magic.control.ComboBox.instanceArray,this.guid),magic.Base.prototype.dispose.call(this)}}),function(){var e=baidu.lang.createClass(function(e){var t=this;t._options=baidu.object.extend({circleTime:10,waitingTime:100,originValue:"",getValue:function(){return null}},e),t.previous=null,t.now="",t.fireTimer=0,t.timer=0,t.originValue=t._options.originValue,t.focusValue=null}).extend({_compare:function(e){this.timer&&(e.now=e._options.getValue(),e.now==e.previous&&e.focusValue!=e.now&&e.now!=e.originValue?0==e.fireTimer&&(e.fireTimer=setTimeout(function(){e.fire("fire",{value:e.now})},e._options.waitingTime)):(clearTimeout(e.fireTimer),e.fireTimer=0,e.previous=e.now,e.now!=e.originValue&&(e.originValue=null),e.now!=e.focusValue&&(e.focusValue=null)))},start:function(){var e=this;e.timer=setInterval(function(){e._compare(e)},e._options.circleTime)},stop:function(){clearInterval(this.timer),this.timer=null}});baidu.lang.register(magic.control.ComboBox,function(t){var n=this;n._options.suggestion=baidu.object.extend({enable:!0},t.suggestion),n._options.suggestion.enable&&!n._options.readonly&&(this.on("load",function(){n.timer=new e({getValue:function(){return n.getElement("input").value},originValue:this.getElement("input").value}),n.timer.on("fire",function(e){if(""==e.value)n._renderMenu(),n.menu.show();else{var t=n._getMenuData(e.value);t.length>0?(n._renderMenu(t),n.menu.show()):n.menu.visible&&n.menu.hide()}}),n.timer.start()}),this.on("pick",function(e){n.timer.focusValue=e.result.content}),this.on("reload",function(){n.timer.focusValue=this.getElement("input").value}),this.on("dispose",function(){n.timer&&n.timer.stop()}))},{_getMenuData:function(e){return baidu.array.filter(this._options.items,function(t){return-1!=t.content.indexOf(e)})}})}(),magic.Calendar=baidu.lang.createClass(function(e){var t=this;t._options=baidu.object.extend({weekStart:"sun",initDate:new Date,highlightDates:[],disabledDates:[],language:"zh-CN"},e||{}),e.initDate||(t._options.initDate=baidu.i18n.date.toLocaleDate(new Date)),t.currentDate=new Date(t._options.initDate),t.selectedDate=new Date(t._options.initDate),t.dayNames=[]},{type:"magic.Calendar",superClass:magic.Base}),magic.Calendar.extend({tplSkeleton:'<div id="#{calendarId}" class="#{calendarClass}"><div id="#{titleId}" class="#{titleClass}"></div><div id="#{tableId}" class="#{tableClass}"></div></div>',tplDate:'<td id="#{id}" class="#{class}" onmouseover="#{mouseover}" onmouseout="#{mouseout}" onclick="#{click}">#{date}</td>',render:function(e){var t=this;t.container=baidu.g(e),t._renderSkeleton(),t._renderTitle(),t._renderDateTable(),t._renderNavBtn(),t._bindTable(),t._bindNavBtn(),t._addkeystrokesListener(),t.fire("render")},_rerender:function(){var e=this;e._renderTitle(),e._renderDateTable(),e._bindTable()},_getId:function(e){return this.getId()+(void 0===e?"tang_calendar":"tang_calendar_"+e)},_getClass:function(e){return void 0===e?"tang-calendar":"tang-calendar-"+e},_renderSkeleton:function(){var e=this,t=e.container;baidu.dom.insertHTML(t,"beforeEnd",baidu.format(e.tplSkeleton,{calendarId:e._getId(),calendarClass:e._getClass(),titleId:e._getId("title"),titleClass:e._getClass("title"),tableId:e._getId("table"),tableClass:e._getClass("table")})),e.titleEl=baidu.g(e._getId("title")),e.tableEl=baidu.g(e._getId("table")),e.mappingDom("calendar",baidu.g(e._getId())),e.mappingDom("title",e.titleEl),e.mappingDom("table",e.tableEl)},_renderTitle:function(){var e=this,t=e.currentDate,n=t.getFullYear(),i=t.getMonth()+1;e.titleEl.innerHTML=baidu.format(baidu.i18n.cultures[e._options.language].calendar.titleNames,{yyyy:n,MM:baidu.i18n.cultures[e._options.language].calendar.monthNamesShort[i-1]})},_renderDateTable:function(){var e=this._getTheadString(),t=this._getTbodyString();this.tableEl.innerHTML='<table border="0" cellpadding="0" cellspacing="0">'+e+t+"</table>"},_renderNavBtn:function(){var e=this,t=baidu.g(e._getId()),n=document.createElement("div"),i=document.createElement("div");n.className=e._getClass("prebtn"),i.className=e._getClass("nextbtn"),t.appendChild(n),t.appendChild(i),e.preBtn=n,e.nextBtn=i,e.mappingDom("premonthbtn",e.preBtn),e.mappingDom("nextmonthbtn",e.nextBtn)},_bindNavBtn:function(){var e,t,n,i,a,o=this,s=o.preBtn,r=o.nextBtn,d=!1;baidu.on(s,"click",e=function(){!d&&o.preMonth(),d=!1,o.fire("premonth")}),baidu.on(r,"click",t=function(){!d&&o.nextMonth(),d=!1,o.fire("nextmonth")});var u=null,l=function(e){function t(){u=setTimeout(function(){"pre"==e?o.preMonth():o.nextMonth(),d=!0,t()},500)}u||t()},c=function(){clearTimeout(u),u=null};baidu.on(s,"mousedown",n=function(){l("pre")}),baidu.on(r,"mousedown",i=function(){l("next")}),baidu.on(document,"mouseup",a=function(){o.disposed||u&&c()}),o.on("dispose",function(){baidu.un(s,"click",e),baidu.un(r,"click",t),baidu.un(s,"mousedown",n),baidu.un(r,"mousedown",i),baidu.un(document,"mouseup",a)})},_getTheadString:function(){var e,t=this,n=["mon","tue","wed","thu","fri","sat","sun"],i=[],a=t._options.weekStart.toLowerCase(),o=baidu.array.indexOf(n,a),s=baidu.i18n.cultures[t._options.language].calendar.dayNames,r=0;for(i.push('<thead class="'+t._getClass("weekdays")+'"><tr>');7>r;r++)o>6&&(o=0),t.dayNames.push(n[o]),e=s[n[o]],i.push("<th>"+e+"</th>"),o++;return i.push("</tr></thead>"),i.join("")},_getTbodyString:function(){var e,t=this,n=t.dayNames,i=["sun","mon","tue","wed","thu","fri","sat"],a=new Date(t.currentDate),o=0,s=[],r=baidu.i18n.date.getDaysInMonth(a.getFullYear(),a.getMonth()),d=5,u="",l="";a.setDate(1),e=a.getDay(),o=baidu.array.indexOf(n,i[e]),o+r>35&&(d=6),a.setDate(a.getDate()-o);for(var c=0,g=0,m="";d>c;c++){for(s.push("<tr>");7>g;g++)m=t._getClass("date"),u="",(0==a.getDay()||6==a.getDay())&&(m+=" "+t._getClass("weekend")),t._datesEqual(new Date,a)&&(m+=" "+t._getClass("today")),t._datesContains(t._options.highlightDates,a)&&(m+=" "+t._getClass("highlight")),t._datesContains(t._options.disabledDates,a)&&(m+=" "+t._getClass("disable")),t._datesEqual(t.selectedDate,a)&&(m+=" "+t._getClass("selected"),u='id="'+t._getId("selected")+'"'),a.getMonth()<t.currentDate.getMonth()||a.getFullYear()<t.currentDate.getFullYear()?m+=" "+t._getClass("premonth"):(a.getMonth()>t.currentDate.getMonth()||a.getFullYear()>t.currentDate.getFullYear())&&(m+=" "+t._getClass("nextmonth")),l=t._formatDate(new Date(a.getFullYear()+"/"+(a.getMonth()+1)+"/"+a.getDate())),s.push("<td "+u+' class="'+m+'" date="'+l+'" onmouseover=baiduInstance("'+t.guid+'")._mouseoverHandler(event) onmouseout=baiduInstance("'+t.guid+'")._mouseoutHandler(event)>'+a.getDate()+"</td>"),a.setDate(a.getDate()+1);
s.push("</tr>"),g=0}return"<tbody>"+s.join("")+"</tbody>"},_formatDate:function(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n>=10?n:"0"+n,i=i>=10?i:"0"+i,t+"/"+n+"/"+i},_mouseoverHandler:function(e){var t,n=this;t=baidu.event.getTarget(e),baidu.dom.addClass(t,n._getClass("hover")),n.fire("mouseover",{target:t})},_mouseoutHandler:function(e){var t,n=this;t=baidu.event.getTarget(e),baidu.dom.removeClass(t,n._getClass("hover")),n.fire("mouseout",{target:t})},_bindTable:function(){var e,t,n,i,a=this,o=baidu.dom.g(a._getId("table")).getElementsByTagName("tbody")[0];baidu.on(o,"click",i=function(i){e=baidu.event.getTarget(i),"TD"==e.tagName.toUpperCase()&&(t=e.getAttribute("date"),a._datesContains(a._options.disabledDates,new Date(t))||(n=baidu.dom.g(a._getId("selected")),n&&(n.id="",baidu.dom.removeClass(n,a._getClass("selected"))),e.id=a._getId("selected"),baidu.dom.addClass(e,a._getClass("selected")),a.selectedDate=new Date(t),a.fire("selectdate",{date:new Date(t)})))}),a.on("dispose",function(){baidu.un(o,"click",i)})},_addkeystrokesListener:function(){function e(e){switch(e=e||window.event,baidu.event.preventDefault(e),e.keyCode){case 33:n.preMonth();break;case 34:n.nextMonth();break;case 37:n._preDay();break;case 38:n._preDay();break;case 39:n._nextDay();break;case 40:n._nextDay()}}var t,n=this,i=!1,a=baidu.dom.g(n._getId());baidu.on(document,"click",t=function(t){if(!n.disposed){var o=baidu.event.getTarget(t);if(baidu.dom.contains(a,o)||o==a){if(i)return;baidu.on(document,"keydown",e),i=!0}else baidu.un(document,"keydown",e),i=!1}}),n.on("dispose",function(){baidu.un(document,"click",t)})},_datesEqual:function(e,t){if(baidu.lang.isDate(e)&&baidu.lang.isDate(t)){var n=e.getFullYear(),i=e.getMonth(),a=e.getDate(),o=t.getFullYear(),s=t.getMonth(),r=t.getDate();return n==o&&i==s&&a==r}},_datesContains:function(e,t){var n,i=this,a=0,o=e.length;if(baidu.lang.isDate(t)){for(;o>a;a++)if(n=e[a],baidu.lang.isDate(n)){if(i._datesEqual(n,t))return!0}else if(n.end&&(n.end=new Date(baidu.date.format(n.end,"yyyy/MM/dd")+" 23:59:59")),(!n.start||t.getTime()>=n.start.getTime())&&(!n.end||t.getTime()<=n.end.getTime()))return!0;return!1}},go:function(e,t){var n=this;n.currentDate.setFullYear(e),n.currentDate.setDate(1),t=void 0===t?n.currentDate.getMonth():t-1,n.currentDate.setMonth(t),n._rerender()},getDate:function(){return new Date(this.selectedDate)},setDate:function(e){var t=this,n=new Date(e);baidu.lang.isDate(e)&&(t._datesContains(t._options.disabledDates,n)||(t.currentDate=new Date(e),t.selectedDate=new Date(e),t._rerender()))},preMonth:function(){var e=this,t=e.currentDate,n=t.getMonth()+1,i=t.getFullYear();e.go(i,n-1)},nextMonth:function(){var e=this,t=e.currentDate,n=t.getMonth()+1,i=t.getFullYear();e.go(i,n+1)},_preDay:function(){var e=this,t=new Date(e.selectedDate);t.setDate(t.getDate()-1),e.setDate(t),e.fire("selectdate",{date:t})},_nextDay:function(){var e=this,t=new Date(e.selectedDate);t.setDate(t.getDate()+1),e.setDate(t),e.fire("selectdate",{date:t})},dispose:function(){var e=this;e.disposed||(e.container.removeChild(baidu.dom.g(e._getId())),magic.Base.prototype.dispose.call(e))}}),magic.control.DatePicker=baidu.lang.createClass(function(e){var t=this;t.language=e.language||"zh-CN",t.format=e.format||baidu.i18n.cultures[t.language].calendar.dateFormat||"yyyy-MM-dd",t.popupOption=baidu.object.merge({autoHide:!1,autoTurn:!1,disposeOnHide:!1},e.popupOptions),t.calendarOption=baidu.object.merge({},e.calendarOptions),t.calendarOption.language=t.language},{type:"magic.control.DatePicker",superClass:magic.Base}).extend({init:function(){function e(){n.show()}function t(e){var t=baidu.event.getTarget(e);t==o||baidu.dom.contains(a.getElement("calendar"),t)||n.hide()}var n=this,i=n.popup=new magic.Popup(n.popupOption),a=n.calendar=new magic.Calendar(n.calendarOption),o=n.input=n.getElement("input");a.render(i.getElement("content")),n.calendar.on("selectdate",function(e){o.value=baidu.date.format(e.date,n.format),n.hide()}),baidu.on(o,"click",e),baidu.on(o,"focus",e),"oninput"in document.body||(o.onpropertychange=function(){n.disposed||"value"==event.propertyName&&this.oninput&&this.oninput(event)}),o.oninput=function(){n.disposed||n._getInputDate()&&n.calendar.setDate(n._getInputDate())},baidu.on(document,"click",t),n.on("dispose",function(){baidu.un(o,"click",e),baidu.un(o,"focus",e),baidu.un(document,"click",t)}),n.mappingDom("calendar",a.getElement("calendar"))},show:function(){{var e=this;new Date}e.calendar.setDate(e._getInputDate()||e.calendarOption.initDate||new Date),e.popup.attach(e.input,{offsetY:e.popupOption.offsetY||-1,offsetX:e.popupOption.offsetY||0}),e.fire("show")},hide:function(){var e=this;e.popup.hide(),e.fire("hide")},_getInputDate:function(){var e,t,n,i=this,a=i.input.value,o=[/yyyy|yy/,/M{1,2}/,/d{1,2}/],s=o.length,r=[];if(a){for(var d=0;s>d;d++)(e=o[d].exec(i.format))&&(t=e.index,r[d]=a.substring(t,t+e[0].length));return n=new Date(r[0],r[1]-1,r[2]),baidu.lang.isDate(n)?n:void 0}},dispose:function(){var e=this;e.disposed||(e.calendar.dispose(),e.popup.dispose(),magic.Base.prototype.dispose.call(e))}}),function(){function e(e,t){var i,a=e.getAttribute(t),o=!1;if(a&&(i=a.match(n[0]))){o={};for(var s,r=0;r<i.length;r++)s=i[r].match(n[1]),!isNaN(s[2])&&(s[2]=+s[2]),n[2].test(s[2])&&(s[2]=s[2].replace(n[3],"$2")),n[4].test(s[2])&&(s[2]=n[5].test(s[2])),o[s[1]]=s[2]}return o}function t(t,n){var i=e(t,"tang-event");if(i)for(var a in i){var o=i[a].substr(1);o.indexOf("(")<0&&(o+="()"),baidu.event.on(t,a,new Function("baiduInstance('"+n+"') && baiduInstance('"+n+"')"+o))}}magic.setup=magic.setup||function(n,i,a){var o=e(n,"tang-param")||{};for(var s in a)o[s]=a[s];var r=new i(o);r.mappingDom("",n),t(n,r.guid);for(var d=n.getElementsByTagName("*"),s=d.length-1;s>=0;s--)t(d[s],r.guid);return r};var n=[/\b[\w\$\-]+\s*:\s*[^;]+/g,/([\w\$\-]+)\s*:\s*([^;]+)\s*/,/\'|\"/,/^\s*(\'|\")([^\1]*)\1\s*/,/^(true|false)\s*$/i,/\btrue\b/i]}(),magic.setup.background=function(e,t){var n=t||{},i=magic.setup(baidu.dom.g(e),magic.Background,n),a=i.getElement(),o=a.style,s=a.parentNode;return o.top="0px",o.left="0px",o.width=i.timer?"10px":"100%",o.height=i.timer?"10px":"100%",o.position="absolute",o.zIndex=-9,i.coverable&&baidu.dom.insertHTML(a,"beforeend",i._coverDom||""),s!=document.body&&"static"==baidu.dom.getCurrentStyle(s,"position")&&(s.style.position="relative"),i},magic.setup.carousel=function(e,t){var n=magic.setup(baidu.dom.g(e),magic.control.Carousel,t);return n.fire("onload"),n},magic.setup.dialog=function(e,t){e=baidu.dom.g(e);for(var n=t||{},i=magic.setup(e,magic.control.Dialog,n),a=magic._query,o=i.getElement(),s=e.childNodes,r=0,d=s.length;d>r;r++)if(3!=s[r].nodeType&&~s[r].className.indexOf("tang-background")){magic.setup.background(s[r],{coverable:!0});break}return i.mappingDom("title",a(".tang-title",o)[0]),i.mappingDom("titleText",a("span",i.getElement("title"))[0]),i.mappingDom("titleButtons",a(".buttons",i.getElement("title"))[0]),i.mappingDom("body",a(".tang-body",o)[0]),i.mappingDom("content",a(".content",i.getElement("body"))[0]),i.mappingDom("closeBtn",a(".close-btn",i.getElement("title"))[0]),i.mappingDom("foreground",a(".tang-foreground",o)[0]),i._titleHeight=i.getElement("title").offsetHeight||30,"undefined"==typeof i.left&&(i.left=0),"undefined"==typeof i.top&&(i.top=0),"number"!=typeof i.width&&(i.width=o.clientWidth),"number"!=typeof i.height&&(i.height=o.clientHeight),i.width<100&&(i.width=100),i.height<100&&(i.height=100),i.fire("load"),i.show(),n.titleText&&i.setTitleText(n.titleText),n.content&&i.setContent(n.content,n.contentType||"html"),i},magic.setup.pager=function(e,t){e=baidu.dom.g(e);var n=magic.setup(e,magic.Pager,t);return n.render(e),n},magic.setup.slider=function(e,t){var n=magic.setup(baidu.dom.g(e),magic.control.Slider,t),i=magic._query,a=n.getElement();return n.mappingDom("view",i(".tang-view",a)[0]),n.mappingDom("knob",i(".tang-knob",a)[0]),n.mappingDom("process",i(".tang-process",a)[0]),n.mappingDom("inner",i(".tang-inner",a)[0]),n.fire("load"),n},magic.setup.suggestion=function(e,t){var e=baidu.dom.g(e),n=magic.setup(e,magic.control.Suggestion,t);return n.mappingDom("input",e),n.fire("onload"),n},magic.setup.tab=function(e,t){var n=magic.setup(baidu.dom.g(e),magic.control.Tab,t);return n.fire("onload"),n},magic.ComboBox=baidu.lang.createClass(function(){},{type:"magic.ComboBox",superClass:magic.control.ComboBox}).extend({$toHTMLString:function(){return['<div id="'+this.getId("container")+'" class="magic-combobox">','<div id="'+this.getId("input-container")+'" class="magic-combobox-input-container clearfix">','<div class="magic-combobox-input-outter">','<div class="magic-combobox-input-inner">','<input id="'+this.getId("input")+'" class="magic-combobox-input"'+(this._options.readonly?"readonly":"")+">","</div>","</div>",'<a href="#" id="'+this.getId("arrow")+'" class="magic-combobox-arrow" onclick="return false"></a>',"</div>","</div>"].join("")},_menuContainerToHTMLString:function(){return'<ul id="'+this.getId("menu")+'" class="magic-combobox-menu"></ul>'},$menuContentToHTMLString:function(e){var t=[];return baidu.array.each(e,function(n,i){t.push('<li data-index="'+i+'" data-value="'+e[i].value+'" class="magic-combobox-menu-item">'+e[i].content+"</li>")}),t.join("")},render:function(e,t){t=t||"beforeEnd",baidu.dom.insertHTML(e,t,this.$toHTMLString(this._options.items)),this.fire("load")},dispose:function(){if(!this.disposed){if(this.select)var e=this.select,t=e.parentNode;var n=this.getElement("container");magic.control.ComboBox.prototype.dispose.call(this),baidu.dom.remove(n),e&&(t.parentNode.insertBefore(e,t),baidu.dom.remove(t),e.style.visibility="",e.style.width=""),n=null}}}),function(){function e(e){var t=[],n=-1,i=e.options;return baidu.array.each(i,function(e,i){t.push({value:e.value,content:e.text}),e.selected&&(n=i)}),{items:t,originIndex:n}}magic.setup.combobox=function(t,n){n=n||{};var t=baidu.dom.g(t),i=e(t),a=null;baidu.object.extend(i,{width:t.offsetWidth+10,disabled:t.disabled}),n=baidu.object.extend(i,n);var o=magic.setup(t,magic.ComboBox,n);baidu.dom.insertHTML(t,"beforeBegin",'<span id="'+o.guid+'-host" class="magic-combobox-host"></span>');var s=baidu.dom.g(o.guid+"-host");return s.appendChild(t),o.select=t,t.style.width=t.offsetWidth+15+"px",t.style.visibility="hidden",o.render(s,"afterBegin"),baidu.dom.addClass(o.getElement("container"),"magic-combobox-container-setup"),o.on("change",function(e){if("confirm"==e.from)t.options[e.result.index].selected=!0;else if("blur"==e.from){var n=this.getElement("input").value;a||(a=document.createElement("OPTION"),a.selected=!0,t.add(a)),a.value=a.text=n}}),o}}(),magic.setup.datePicker=function(e,t){var e=baidu.dom.g(e);return instance=magic.setup(e,magic.control.DatePicker,t),instance.mappingDom("input",e),instance.init(),instance},baidu.lang.register(magic.Calendar,function(){var e=this;e._options.title=baidu.object.extend({enable:!0},e._options.title),e._options.title.enable&&(e.on("titlerender",function(){var t,n,i=baidu.dom.g(e._getId("year")),a=baidu.dom.g(e._getId("month")),o=baidu.dom.g(e._getId("yearselect")),s=baidu.dom.g(e._getId("monthselect"));baidu.on(i,"click",function(){for(t=e.currentDate.getFullYear()-10,baidu.setStyle(i,"display","none"),baidu.setStyle(o,"display","");t<=e.currentDate.getFullYear()+10;)n=document.createElement("option"),n.value=t,n.text=String(t),n.innerText=String(t),o.appendChild(n),t++;o.value=e.currentDate.getFullYear()}),baidu.on(a,"click",function(){baidu.setStyle(a,"display","none"),baidu.setStyle(s,"display","");for(var t=1;13>t;t++)n=document.createElement("option"),n.value=t,n.text=baidu.i18n.cultures[e._options.language].calendar.monthNamesShort[t-1],n.innerText=baidu.i18n.cultures[e._options.language].calendar.monthNamesShort[t-1],s.appendChild(n);s.value=e.currentDate.getMonth()+1}),baidu.on(o,"change",function(t){var n=baidu.event.getTarget(t).value;e.go(n,e.currentDate.getMonth()+1)}),baidu.on(s,"change",function(t){var n=baidu.event.getTarget(t).value;e.go(e.currentDate.getFullYear(),n)})}),e.tplTitle='<span id="#{id}" class="#{class}" style="cursor:pointer;">#{text}</span>',e._renderTitle=function(){var e=this,t=e.currentDate,n=t.getFullYear(),i=t.getMonth()+1,a='<select id="'+e._getId("yearselect")+'" style="display:none"></select>',o='<select id="'+e._getId("monthselect")+'" style="display:none"></select>',s=baidu.i18n.cultures[e._options.language].calendar.titleNames;s=s.split("&nbsp;"),/y/.test(s[0])?(yearStr=baidu.format(s[0],{yyyy:n}),monthStr=baidu.format(s[1],{MM:baidu.i18n.cultures[e._options.language].calendar.monthNamesShort[i-1]}),this.titleEl.innerHTML=baidu.format(e.tplTitle,{id:e._getId("year"),"class":e._getClass("year"),text:yearStr})+a+"&nbsp;&nbsp;"+baidu.format(e.tplTitle,{id:e._getId("month"),"class":e._getClass("month"),text:monthStr})+o):(yearStr=baidu.format(s[1],{yyyy:n}),monthStr=baidu.format(s[0],{MM:baidu.i18n.cultures[e._options.language].calendar.monthNamesShort[i-1]}),this.titleEl.innerHTML=baidu.format(e.tplTitle,{id:e._getId("month"),"class":e._getClass("month"),text:monthStr})+o+"&nbsp;&nbsp;"+baidu.format(e.tplTitle,{id:e._getId("year"),"class":e._getClass("year"),text:yearStr})+a),e.fire("titlerender")})},{}),T.undope=!0;