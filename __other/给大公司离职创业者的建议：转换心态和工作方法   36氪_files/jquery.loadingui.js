!function(t,e){function i(e,i,s){this.element=t(e),this.options=t.extend({},o,i),this._defaults=o,this._name=n.toLowerCase(),this._loading=t("<div />").addClass(this._name).insertAfter(this.element),this[s]()}var n="LoadingUI",o=(e.VBArray&&!e.XMLHttpRequest,e.document,{type:"click"});i.prototype.init=function(){return this},i.prototype.show=function(){var t=this,e=function(t,e){return parseInt(t.css(e).replace(/[^\d\.]/gi,"")||"0")},i={size:{width:t.element.outerWidth(),height:t.element.outerHeight()},margin:{top:e(t.element,"margin-top"),right:e(t.element,"margin-right"),bottom:e(t.element,"margin-bottom"),left:e(t.element,"margin-left")},position:t.element.position()};return t.element.css({opacity:this.options.opacity}),t._loading.removeClass().addClass(t._name+" "+t._name+"-"+t.options.skin.toLowerCase()).css({width:i.size.width,height:i.size.height,left:i.position.left+i.margin.left,top:i.position.top+i.margin.top}).show(),t},i.prototype.hide=function(){return this._loading.removeClass().addClass(this._name).fadeOut(),this.element.animate({opacity:1}),this},i.prototype.setOptions=function(t){return t&&(this.options=t),this},t.fn[n]=function(e,o){return"string"==typeof e&&(o=e,e={}),o=o||"show",e=t.extend({},{skin:"A",opacity:0},e),this.each(function(){var s=t(this).data("plugin_"+n);s?(s.setOptions&&s.setOptions.call(s,e),s[o]&&s[o].call(s)):t(this).data("plugin_"+n,new i(this,e,o))})}}(jQuery,window);